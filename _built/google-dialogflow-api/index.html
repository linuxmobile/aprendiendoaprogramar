<!doctype html><html domain=.com lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="" http-equiv=Content-Security-Policy><link href=/favicon.svg rel=icon type=image/svg+xml><meta content=#f9c412 name=theme-color><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name=robots><title>Google APIs | Note of Thi</title><meta content="Google APIs | Note of Thi" prefix=og:http://ogp.me/ns# property=og:title><meta content="Google's documentation is like an ocean. It's not easy to find a right one to start. This note contains only basic things that I've already..." name=description><meta content="Google's documentation is like an ocean. It's not easy to find a right one to start. This note contains only basic things that I've already..." prefix=og:http://ogp.me/ns# property=og:description><meta content=summary_large_image name=twitter:card><meta content=@dinhanhthi name=twitter:site><meta content=@dinhanhthi name=twitter:creator><meta content=https://dinhanhthi.com/img_src/cover.png prefix=og:http://ogp.me/ns# property=og:image><meta content=article prefix=og:http://ogp.me/ns# property=og:type><link href=https://dinhanhthi.com/google-dialogflow-api/ rel=canonical><meta content=https://dinhanhthi.com/google-dialogflow-api/ prefix=og:http://ogp.me/ns# property=og:url><meta content=no-referrer-when-downgrade name=referrer><link href=/feed/feed.xml rel=alternate type=application/atom+xml title="ðŸ”¥ Anh-Thi DINH"><link href=/ rel=preconnect crossorigin><style>body {
      visibility: hidden;
      opacity: 0;
    }</style><noscript><style>body {
        visibility: visible;
        opacity: 1;
      }</style></noscript><script csp-hash>if (/Mac OS X/.test(navigator.userAgent))
      document
        .documentElement
        .classList
        .add('apple')</script><link href=/src/css/main.css rel=stylesheet type=text/css><style>@font-face{font-display:swap;font-family:'fontello';src:url(/fontello/font/fontello.eot?46432155);src:url(/fontello/font/fontello.eot?46432155#iefix) format('embedded-opentype'),url(/fontello/font/fontello.woff2?46432155) format('woff2'),url(/fontello/font/fontello.woff?46432155) format('woff'),url(/fontello/font/fontello.ttf?46432155) format('truetype'),url(/fontello/font/fontello.svg?46432155#fontello) format('svg');font-weight:400;font-style:normal}[class*=" icon-"]:before,[class^=icon-]:before{font-family:"fontello";font-style:normal;font-weight:400;speak:never;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-doc:before{content:'\e800'}.icon-doc-add:before{content:'\e801'}.icon-stats:before{content:'\e802'}.icon-tags:before{content:'\e803'}.icon-like:before{content:'\e804'}.icon-cog-alt:before{content:'\e805'}.icon-project:before{content:'\e806'}.icon-mooc:before{content:'\e807'}.icon-dl:before{content:'\e808'}.icon-ml:before{content:'\e809'}.icon-python:before{content:'\e80a'}.icon-nlp:before{content:'\e80b'}.icon-r-lang:before{content:'\e80c'}.icon-skill:before{content:'\e80d'}.icon-js-solid:before{content:'\e80e'}.icon-game:before{content:'\e80f'}.icon-web:before{content:'\e810'}.icon-algo:before{content:'\e811'}.icon-mooc-solid:before{content:'\e812'}.icon-chatbot:before{content:'\e813'}.icon-web-dev:before{content:'\e814'}.icon-data:before{content:'\e815'}.icon-skill-solid:before{content:'\e816'}.icon-python-solid:before{content:'\e817'}.icon-project-solid:before{content:'\e818'}.icon-js:before{content:'\e819'}.icon-rocket:before{content:'\e81a'}.icon-ml-solid:before{content:'\e81b'}.icon-game-solid:before{content:'\e81c'}.icon-dl-solid:before{content:'\e81d'}.icon-nlp-solid:before{content:'\e81e'}.icon-web-solid:before{content:'\e81f'}.icon-algo-solid:before{content:'\e820'}.icon-puzzle-outline:before{content:'\e821'}.icon-ng:before{content:'\e822'}.icon-ok:before{content:'\e823'}.icon-link:before{content:'\e824'}.icon-down-circle:before{content:'\e826'}.icon-api:before{content:'\e828'}.icon-right-circle:before{content:'\e829'}.icon-down-open:before{content:'\e82a'}.icon-right-open:before{content:'\e82b'}.icon-copy:before{content:'\f0c5'}.icon-gamepad:before{content:'\f11b'}.icon-fork:before{content:'\f126'}.icon-mlops-solid:before{content:'\f135'}.icon-edu-solid:before{content:'\f19d'}.icon-others-solid:before{content:'\f1b3'}.icon-ds-solid:before{content:'\f1c0'}.icon-chart-area:before{content:'\f1fe'}.icon-chart-pie:before{content:'\f200'}.icon-ts:before{content:'\f201'}.icon-clone:before{content:'\f24d'}</style><body><script>function showTheme() {
        const btn = document.getElementById("toggle-dark-light");
        let toggleIcon = btn.firstElementChild;
        const currentTheme = localStorage.getItem("theme");
        if (currentTheme === "dark") {
          document
            .body
            .classList
            .toggle("dark-theme");
          toggleIcon.src = "/img_src/nav/sun.svg";
        } else if (currentTheme === "light") {
          document
            .body
            .classList
            .toggle("light-theme");
          toggleIcon.src = "/img_src/nav/moon.svg";
        }
      }
      function showContent() {
        document.body.style.visibility = 'visible';
        document.body.style.opacity = 1;
      }
      window.addEventListener('DOMContentLoaded', (event) => {
        showTheme();
        showContent();
      });</script><header class="wave-border wave-border-post"><nav><div id=nav><a href=/ class="nav-item no-effect"><img alt=home class=keep-original src=/img_src/nav/home.svg height=18 width=18> <span>Thi</span> </a><a href=/about/ class="nav-item no-effect"><img alt=about class=keep-original src=/img_src/nav/about.svg height=15 width=15> <span>About</span></a><div class=nav-search id=nav-search><form><input aria-label='search notes (press "/" to focus & "ESC" to lose)' autocomplete=off class=nav-search__input id=nav-search__input onfocusin=inFocus(this) placeholder='search notes (press "/" to focus & "ESC" to lose)' type=search></form><div id=nav-search__result-container style="display: none;"><ul id=nav-search__ul></ul><div id=nav-search__no-result style="display: none;"><p>No results found.</div></div></div><span class="nav-item no-effect nav-dark-light" href="" id=toggle-dark-light><img alt=light-mode class=keep-original src=/img_src/nav/moon.svg height=20 width=20> </span><a href=https://github.com/dinhanhthi class="nav-item no-effect nav-github" target=_blank><img alt=github class=keep-original src=/img_src/nav/github.svg height=20 width=20></a></div><div class=reading-progress-container><div id=reading-progress aria-hidden=true></div></div></nav><script>var divNavSearch=document.getElementById("nav-search"),divRes=document.getElementById("nav-search__result-container"),ulRes=document.getElementById("nav-search__ul");function inFocus(e){""!=e.value&&(divRes.style.display="block")}var isOnDiv=!1;divRes.addEventListener("mouseover",(function(){isOnDiv=!0})),divRes.addEventListener("mouseout",(function(){isOnDiv=!1}));var inputSearch=document.getElementById("nav-search__input");window.addEventListener("click",(function(){ulRes.getElementsByTagName("li").length>=1&&isOnDiv||(divRes.style.display="none")})),inputSearch.addEventListener("click",(e=>{e.stopPropagation()}));const addSelected=e=>{ulRes.querySelectorAll("li").forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected")};var isInView=(e,t)=>{var n=e.offsetTop+e.offsetHeight-t.scrollTop>t.offsetHeight;return e.offsetTop<t.scrollTop?"above":n?"below":"in"};const updateScroll=(e,t)=>{e.offsetTop+e.offsetHeight-t.scrollTop>t.offsetHeight&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.offsetHeight),e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop)};document.onkeydown=e=>{checkInInput=document.activeElement==inputSearch,"/"!==e.key||checkInInput||(e.stopPropagation(),e.preventDefault(),inputSearch.focus())},document.addEventListener("focusin",(e=>{divNavSearch.contains(e.target)||(divRes.style.display="none")})),inputSearch.onkeydown=e=>{if("Enter"===e.key){e.stopPropagation(),e.preventDefault();var t=ulRes.querySelector('li[class*="selected"]');window.location.href=t.getElementsByClassName("item__content")[0].firstChild.firstChild.href}"Escape"===e.key&&(divRes.style.display="none",inputSearch.blur())},divNavSearch.onkeydown=e=>{if(hasResult=ulRes.getElementsByTagName("li").length>=1,hasResult){["ArrowUp","ArrowDown"].indexOf(e.key)>-1&&e.preventDefault();var t=ulRes.firstChild,n=ulRes.lastChild,s=ulRes.querySelector('li[class*="selected"]');switch(e.key){case"ArrowUp":nextLi=s&&s!=t?s.previousSibling:n,addSelected(nextLi),s=nextLi,updateScroll(s,divRes);break;case"ArrowDown":nextLi=s&&s!=n?s.nextSibling:t,addSelected(nextLi),s=nextLi,updateScroll(s,divRes)}}};</script><div class=header-container><div class="header-logo post-layout"><img alt="Google APIs" class=keep-original src=/img/header/dialogflow.svg height=55 width=55></div><h1>Google APIs</h1><div id=more-info><div id=note-tag><a href=/tags/api-and-services/ id=category }>API & Services</a> <a href=/tags/javascript/ id=category }>JavaScript</a> <a href=/tags/google/ id=category }>Google</a></div><div id=last-modified>Last modified 1 months ago / <a href=https://github.com/dinhanhthi/notes/edit/master/./posts/api/2021-10-26-google-dialogflow-api.md>Edit on Github</a></div></div></div></header><main class="" id=main-wrapper><article class=post-container><div class="container mt-2 normal page-note"><div class="toc toc-common toc-js"><div class=ol-container><div class=toc-heading>In this note</div><ol><li><a href=#official-documentation>Official documentation</a><li><a href=#some-services>Some services</a><li><a href=#run-samples>Wanna run the Node.js samples?</a><li><a href=#wanna-try-gapi-(js-client)%3F>Wanna try gapi (JS client)?</a><li><a href=#the-corresponding-between-rest-api-and-node.js-clients>The corresponding between REST API and Node.js clients</a><li><a href=#using-rest-api-in-node.js>Using REST API in Node.js</a><li><a href=#dialogflow-rest-apis-with-postman>Dialogflow REST APIs with Postman</a><li><a href=#location-problem>Location problem</a><li><a href=#custom-roles>Custom roles</a><li><a href=#service-account-w.r.t-organization-%2F-folder>Service Account w.r.t Organization / Folder</a><li><a href=#types-for-typescript>Types for TypeScript</a><li><a href=#play-with-intents%2C-examples-and-entities>Play with Intents, Examples and Entities</a></ol></div></div><p>Google's documentation is like an ocean. It's not easy to find a right one to start. This note contains only basic things that I've already worked with. Try your own hand at Google's APIs will help you understand more.<p>ðŸ‘‰ Github repo: <a href=https://github.com/dinhanhthi/google-api-playground>dinhanhthi/google-api-playground</a><div class=info><p>ðŸ’¡ This note is mainly for Dialogflow APIs. However, I mention also the other services of Google.</div><h2 id=official-documentation tabindex=-1>Official documentation <a href=#official-documentation class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><div class=hsbox><div class=hs__title>Click to show</div><div class=hs__content><ol><li><p>Dialogflow's <a href=https://cloud.google.com/dialogflow/es/docs/reference>APIs & references</a> -- the root of all things.<ol><li><a href=https://cloud.google.com/nodejs/docs/reference>All SDK NodeJS Client References</a> (beautiful version)<li><s><a href=https://cloud.google.com/dialogflow/es/docs/reference/libraries/nodejs>Node.js client library</a></s> <a href=https://cloud.google.com/nodejs/docs/reference/dialogflow/latest/overview>NodeJS reference</a> -- wanna use <s>in a backend</s> with NodeJS?<ol><li><s><a href=https://googleapis.dev/nodejs/dialogflow/latest/index.html>Dialogflow SDK Client Reference</a></s> <a href=https://cloud.google.com/nodejs/docs/reference/dialogflow/latest/overview>This one</a> is more beautiful.<li><a href=https://github.com/googleapis/nodejs-dialogflow>googleapis/nodejs-dialogflow</a> -- Github repo.<ol><li><a href=https://github.com/googleapis/nodejs-dialogflow#samples>Samples</a> -- wanna run these? Step to <a href=#run-samples>this section</a>.</ol></ol><li><a href=https://cloud.google.com/dialogflow/docs/reference/rest>REST APIs</a> -- wanna use <code>GET</code>, <code>POST</code>,...?</ol><li><p><a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2-overview#service-endpoint>Service endpoint</a>.<div class=info><p>ðŸ’¡ <strong>Tip</strong>: <code>us-dialogflow.googleapis.com</code> and <code>dialogflow.googleapis.com</code> are the same, so you can use <code>&lt;location>-dialogflow.googleapis.com</code> in your codes.</div><li><p><a href=https://cloud.google.com/dialogflow/es/docs/how/region#regions>Available regions</a> (used in <code>locations</code>).<div class=info><p>ðŸ’¡ <strong>Tip</strong>: <code>&lt;region>-dialogflow.googleapis.com</code> = endpoint.</div><li><p><a href=https://github.com/google/google-api-javascript-client>google/google-api-javascript-client</a> -- aka <code>gapi</code>. Github repo.<li><p><a href=https://developers.google.com/apis-explorer/ >Google APIs Explorer</a>. (REST)<li><p><a href=https://googleapis.dev/nodejs/googleapis/latest/ >Google API Node.js Client</a> (SDK)<li><p><a href=https://developers.google.com/oauthplayground/ >OAuth 2.0 Playground</a>.<li><p><a href="https://cloud.google.com/iam/docs/understanding-roles?authuser=1&_ga=2.35673635.-287242851.1634158283#dialogflow-roles">Understand roles</a> -- If you decide to create a service account, you will need to assign a role to some users/emails. Each role has different rights to use your data.</ol></div></div><h2 id=some-services tabindex=-1>Some services <a href=#some-services class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><ul><li><p><strong>Dialogflow</strong>: <a href=https://cloud.google.com/nodejs/docs/reference/dialogflow/latest>SDK</a> (<a href=https://googleapis.dev/nodejs/dialogflow/latest/v2.AgentsClient.html>other official site</a>) | <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2-overview>REST API</a><li><p><strong>Manage projects</strong>: <a href=https://cloud.google.com/nodejs/docs/reference/resource-manager/latest>Resource Manager SDK</a> (<a href=https://googleapis.dev/nodejs/resource/latest/v3.ProjectsClient.html>other official site</a>) | <a href=https://cloud.google.com/resource-manager/reference/rest>REST API</a><ul><li><strong>Note</strong>: From version <code>2.0.0</code>, <a href=https://github.com/googleapis/nodejs-resource-manager/releases><code>resource-manager</code></a> change the package to <code>@google-cloud/resource-manager</code>. And from version <code>3.0,0</code>, the "folder" was introduced!</ul><li><p><strong>Active API on some projects</strong>: <a href=https://cloud.google.com/nodejs/docs/reference/service-usage/latest>Service Usage SDK</a> | <a href=https://cloud.google.com/service-usage/docs/reference/rest>REST API</a><ul><li><strong>Note</strong>: APIs can only be activated for Projects, neither folder nor organization!</ul></ul><div class=warning><p>When you use any NodeJS service, for example,<pre class=language-jsx><code class=language-jsx><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">library<span class="token punctuation">.</span>SampleClient</span><span class="token punctuation">(</span>opts<span class="token operator">?</span><span class="token operator">:</span> ClientOptions<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The <code>opts</code> is <a href=https://github.com/googleapis/gax-nodejs/blob/main/client-libraries.md#creating-the-client-instance>described here</a>.</div><h2 id=run-samples tabindex=-1>Wanna run the Node.js samples? <a href=#run-samples class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>ðŸ‘‰ Link of <a href=https://github.com/googleapis/nodejs-dialogflow#samples>all (dialogflow nodejs) samples on github</a>.<div class=warning><p>The old version uses <a href=https://www.npmjs.com/package/dialogflow><code>dialogflow</code></a> and <a href=https://www.npmjs.com/package/@types/dialogflow><code>@type/dialogflow</code></a>. The new version uses only one <a href=https://www.npmjs.com/package/@google-cloud/dialogflow><code>@google-cloud/dialogflow</code></a>!</div><div class=hsbox><div class=hs__title>Step by step</div><div class=hs__content><ol><li><p>Create a folder, eg. <code>/home/thi/df-samples/</code><li><p>If you come from <a href=https://dialogflow.cloud.google.com/#/agents>Dialogflow Console</a> > choose an agent > click on the gear next to the its name > Click on "Project ID" to open Google Cloud Platform Console.<li><p>If you come from GCP Console, it's the same.<li><p>Follow <a href=https://cloud.google.com/storage/docs/reference/libraries#setting_up_authentication>these steps</a> to generate a JSON key (you'll download a JSON file). Store your JSON file in <code>df-samples/credential.json</code>. <strong>Note down</strong> the <em>project_id</em>, we will use it later, eg. <code>project_abc</code>.<li><p>Run each time you wanna test <code>export GOOGLE_APPLICATION_CREDENTIALS="/home/thi/df-samples/credential.json"</code> OR save this line to <code>/home/thi/.bashrc</code> or <code>/home/thi/.zshrc</code> (if you <a href=/terminal/#zsh-linux>use ZSH</a>) and then refresh the current terminal (with this method, you don't need to run again previous line).<div class=info><p><strong>Alternative</strong>: You don't have to use system variable <code>GOOGLE_APPLICATION_CREDENTIALS</code> if you don't want. In <code>credential.json</code>, copy <code>private_key</code> and <code>client_email</code> and then use them as,<pre class=language-js><code class=language-js><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AgentsClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token property literal-property">credentials</span><span class="token operator">:</span> <span class="token punctuation">{</span> private_key<span class="token punctuation">,</span> client_email <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><li><p>Go to <code>/df-samples/</code> and run <code>npm i @google-cloud/dialogflow</code>.<li><p>Try this <a href=https://github.com/googleapis/nodejs-dialogflow/blob/main/samples/quickstart.js>quickstart.js</a>.<li><p>On terminal, run<pre class=language-bash><code class=language-bash><span class="token function">node</span> quickstart.js project_abc</code></pre><li><p>Read carefully the content of each file in <a href=https://github.com/googleapis/nodejs-dialogflow/tree/main/samples>samples</a>, you have to put the corresponding inputs for the sample to work!</ol></div></div><div class=hsbox><div class=hs__title>Try something outside "samples"?</div><div class=hs__content><p>In case you wanna try something outside the files given in <a href=https://github.com/googleapis/nodejs-dialogflow/tree/main/samples>samples</a>. Check <a href=https://googleapis.dev/nodejs/dialogflow/latest/index.html>this SDK</a>. Suppose we wanna try this one -- <a href=https://googleapis.dev/nodejs/dialogflow/4.5.0/v2.AgentsClient.html#searchAgents><code>AgentsClient.searchAgents()</code></a><ol><li>Make the same things in "Step by step". At step 7, create <code>search-agents.js</code> with the same content as <a href=https://github.com/googleapis/nodejs-dialogflow/blob/main/samples/set-agent.js><code>samples/set-agent.js</code></a>. We are going to change this file.<li>Read the <a href=https://googleapis.dev/nodejs/dialogflow/4.5.0/v2.AgentsClient.html#searchAgents>reference</a>, change the input. Here is <a href=https://gist.github.com/dinhanhthi/b40217eff2b938ffbfece82de8bb0907>an example</a>,</ol></div></div><div class=hsbox><div class=hs__title>Different locations?</div><div class=hs__content><p>The example in "Try something outside..." gives us an example of using different regions. Below are some remarks:<ol><li><p>On <a href=https://dialogflow.cloud.google.com/ >DF console</a>, you can create some agents in a different regions, default is <code>global</code> (or <code>us</code>).<li><p>On the Google's documentations, they don't mention about the usage of location. If they say <code>parent = "projects/-"</code>, we shoud use <code>parent = "projects/-" + "/locations/" + location</code> where <code>location</code> can be <a href=https://cloud.google.com/dialogflow/es/docs/how/region#regions>one of "Region ID"</a>.<li><p>Change also the endpoint, option <code>apiEndpoint</code> in <a href=https://googleapis.dev/nodejs/dialogflow/latest/v2.AgentsClient.html><code>AgentsClient</code>'s constructor</a>, for example.<pre class=language-js><code class=language-js><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AgentsClient</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token property literal-property">apiEndpoint</span><span class="token operator">:</span> location <span class="token operator">+</span> <span class="token string">"-dialogflow.googleapis.com"</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></ol></div></div><div class=warning><p>On SDK documentation, they don't mention about the location in the <code>parent</code> property. For example, they say "<code>parent</code> can be <code>projects/&lt;Project ID or '-'></code>", but you can add <a href=https://cloud.google.com/dialogflow/es/docs/how/region#regions>the location information</a> inside it like that<pre class=language-js><code class=language-js><span class="token keyword">const</span> <span class="token function function-variable">parent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">location</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"projects/-"</span> <span class="token operator">+</span> <span class="token string">"/locations/"</span> <span class="token operator">+</span> location<span class="token punctuation">;</span></code></pre></div><div class=info><p><strong>You have to enable the Dialogflow API</strong> in the current project. Other wise, we meet below problem.<pre class=language-bash><code class=language-bash><span class="token number">7</span> PERMISSION_DENIED: Dialogflow API has not been used <span class="token keyword">in</span> project <span class="token number">284022294153</span> before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/dialogflow.googleapis.com/overview?project<span class="token operator">=</span><span class="token number">284022294153</span> <span class="token keyword">then</span> retry. If you enabled this API recently, <span class="token function">wait</span> a few minutes <span class="token keyword">for</span> the action to propagate to our systems and retry.</code></pre><p>You can use <a href=https://cloud.google.com/nodejs/docs/reference/service-usage/latest/service-usage/v1.serviceusageclient#_google_cloud_service_usage_v1_ServiceUsageClient_enableService_member_1_>Service Usage</a> to enable a service on some project programmatically or go to beflow url to active it visually,<pre class=language-bash><code class=language-bash>https://console.developers.google.com/apis/api/cloudresourcemanager.googleapis.com/overview?project<span class="token operator">=</span><span class="token operator">&lt;</span>projectId<span class="token operator">></span></code></pre></div><h2 id=wanna-try-gapi-(js-client)%3F tabindex=-1>Wanna try <code>gapi</code> (JS client)? <a href=#wanna-try-gapi-(js-client)%3F class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><div class=danger><p>Google has announced that <a href=https://developers.googleblog.com/2021/08/gsi-jsweb-deprecation.html>they will be discontinuing the Google Sign-In JavaScript Platform Library for web</a>. You will have to switch to using <em>Google Identity Services</em> (or <a href=https://developers.google.com/identity/gsi/web/guides/client-library>Sign In With Google</a> or <code>gsi</code>). The old service will be <strong>completely discontinued on March 31, 2023</strong>.<pre class=language-html><code class=language-html><span class="token comment">&lt;!-- OLD --></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://apis.google.com/js/platform.js<span class="token punctuation">"</span></span> <span class="token attr-name">async</span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><br><span class="token comment">&lt;!-- NEW --></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://accounts.google.com/gsi/client<span class="token punctuation">"</span></span> <span class="token attr-name">async</span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre></div><p>What's this <code>gapi</code>? You can use it completely inside an HTML file without using any backend.<p>ðŸ‘‰ <a href=https://github.com/google/google-api-javascript-client/tree/master/samples>List of samples</a> (google apis javascript client).<br>ðŸ‘‰ You have to use <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest>REST API</a> in this case.<div class=info><p>ðŸ’¡ <strong>Tip</strong>: If you are using <a href=/visual-studio-code/ >VSCode</a>, you can install the <a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer">Live Server</a> extension to quickly create a server (port <code>5500</code> by default). Just click the button at the bottom right of the file and a website will appear.</div><div class=hsbox><div class=hs__title>Step by step</div><div class=hs__content><ol><li>For setting up, follow <a href=https://console.developers.google.com/apis/library>these steps</a>.<li>After that, you should obtain an <code>API_KEY</code> and an <code>CLIENT_ID</code>.<li>First, try <a href=https://github.com/google/google-api-javascript-client/blob/master/samples/authSample.html>this sample</a>.<li>Using something like <a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer">Live Server</a> and open <code>authSample.html</code>.<li>Make a test.</ol><div class=warning><ul><li>Make sure you create the "OAuth consent screen" before you create "OAuth 2.0 Client IDs". The "consent screen" is the popup window that contains all the information about the scopes your app will ask users for permission.<li>Make sure you add <code>http://localhost:5500</code> (which is created in step 4) to "Authorized JavaScript origins" and "Authorized redirect URIs". You may have to wait a few "ten minutes" for everything to work. Without this step, you may encounter the error <code>mismatch_uri</code>.</ul></div></div></div><h2 id=the-corresponding-between-rest-api-and-node.js-clients tabindex=-1>The corresponding between REST API and Node.js clients <a href=#the-corresponding-between-rest-api-and-node.js-clients class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>ðŸ‘‰ <a href=https://cloud.google.com/dialogflow/docs/reference/rest/v2-overview>REST API</a>.<br>ðŸ‘‰ <a href=https://googleapis.dev/nodejs/dialogflow/latest/index.html>Node.js SDK</a>.<div class=hsbox><div class=hs__title>The corresponding between references</div><div class=hs__content><p><code>projects.agent.search</code><ul><li><code>GET https://{endpoint}/v2/{parent=projects/*}/agent:search</code><li><strong>REST</strong>: <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2/projects.agent/search>.../v2/projects.agent/search</a><li><strong>SDK</strong>: <a href=https://googleapis.dev/nodejs/dialogflow/latest/v2.AgentsClient.html#searchAgents>.../v2.AgentsClient.html#searchAgents</a></ul><p><code>projects.agent.sessions.detectIntent</code><ul><li><code>POST https://{endpoint}/v2/{session=projects/*/locations/*/agent/sessions/*}:detectIntent</code><li><strong>REST</strong>: <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2/projects.agent.sessions/detectIntent>.../v2/projects.agent.sessions/detectIntent</a><li><strong>SDK</strong>: <a href=https://googleapis.dev/nodejs/dialogflow/latest/v2.SessionsClient.html#detectIntent>.../v2.SessionsClient.html#detectIntent</a></ul></div></div><div class=warning><p>Sometimes, the location infotmation is mentionned in the REST API but not in the SDK. For example, load the list of agents w.r.t. <a href=https://cloud.google.com/dialogflow/es/docs/how/region#regions>some location</a>,<ul><li><p><strong>REST</strong> (different with <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2/projects.agent/search>the general case</a>): <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2/projects.locations.agent/search>https://cloud.google.com/dialogflow/es/docs/reference/rest/v2/projects.locations.agent/search</a><li><p><strong>SDK</strong> (the same as the general case), in this, we just need to add "location" into the <code>agent</code> property, like<pre class=language-js><code class=language-js><span class="token keyword">const</span> <span class="token function function-variable">parent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">location</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"projects/-"</span> <span class="token operator">+</span> <span class="token string">"/locations/"</span> <span class="token operator">+</span> location<span class="token punctuation">;</span></code></pre></ul></div><h2 id=using-rest-api-in-node.js tabindex=-1>Using REST API in Node.js <a href=#using-rest-api-in-node.js class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><ul><li>Normally, it's easier if we use <a href=https://googleapis.dev/nodejs/dialogflow/latest/index.html>Node.js SDK</a>.<li>First, you need to create a Service Account, then create a key and download the JSON file. Follow <a href=https://cloud.google.com/docs/authentication/getting-started#creating_a_service_account>these steps</a>.<li>Check <a href=https://gist.github.com/dinhanhthi/e57e00886adaa611e2b49f9dcf76d90e>an example code</a>.<li><strong>Remark</strong>: the code above use <code>request</code> which has been <a href=https://www.npmjs.com/package/request>already deprecated</a>! You can choose <a href=https://github.com/request/request/issues/3143>any alternative</a>.</ul><div class=warning><p><strong>Remark</strong>: With keys generated from a service account (stored in JSON), we can <strong>only get 1 agent</strong> for methods like <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2/projects.agent/search><code>projects.agent.search</code></a> although it says that we can get a list of agents. In this case, try to <a href="https://www.youtube.com/watch?v=Qt3KJZ2kQk0">get access token via OAuth 2.0</a>. With this, we can access to all projects instead of only 1 (which is used to generate the json file).</div><h2 id=dialogflow-rest-apis-with-postman tabindex=-1>Dialogflow REST APIs with Postman <a href=#dialogflow-rest-apis-with-postman class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>ðŸ‘‰ <a href=https://github.com/GoogleCloudPlatform/dialogflow-integrations/blob/master/dialogflow-api-quick-start/postman/README.md>Check this official guide</a>.<div class=hsbox><div class=hs__title>Additional configurations</div><div class=hs__content><ul><li>Create a collection and add the Authorization for this collection. All of its request will use the same auth method.<li>Create variables (on tab "Variables") to store "CLIENT ID" (<code>client_id</code>) and "CLIENT SECRET" (as <code>client_secret</code>), then use them in the form by <code>{{client_id}}</code> and <code>{{client_secret}}</code>.</ul></div></div><h2 id=location-problem tabindex=-1>Location problem <a href=#location-problem class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>ðŸ‘‰ <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2-overview#rest_endpoints>List of endpoints</a> (containing location inside).<br>ðŸ‘‰ <a href=https://cloud.google.com/dialogflow/es/docs/how/region#regions>LIst of location information</a> you can use with Dialogflow.<p>You have to use <mark>the same <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2-overview#rest_endpoints>endpoint</a> and <a href=https://cloud.google.com/dialogflow/es/docs/how/region#regions>location information</a></mark> in the API/SDK. If you use them differently, for example,<pre class=language-js><code class=language-js><span class="token property literal-property">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>global<span class="token operator">-</span>dialogflow<span class="token punctuation">.</span>googleapis<span class="token punctuation">.</span>com<span class="token operator">/</span>v2<span class="token operator">/</span>projects<span class="token operator">/</span><span class="token operator">-</span><span class="token operator">/</span>locations<span class="token operator">/</span>europe<span class="token operator">-</span>west1<span class="token operator">/</span>agent<span class="token operator">:</span>search</code></pre><p>You will meet an error like below,<pre><code>"Please switch to 'europe-west1-dialogflow.googleapis.com' to access resources located in 'europe-west1'."
</code></pre><p>In the SDK documention, they don't mention about the location you need to use in the <code>agent</code> property. For example, they say "<code>parent</code> can be <code>projects/&lt;Project ID or '-'></code>", but you can add <a href=https://cloud.google.com/dialogflow/es/docs/how/region#regions>the location information</a> inside it like that<pre class=language-js><code class=language-js><span class="token keyword">const</span> <span class="token function function-variable">parent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">location</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"projects/-"</span> <span class="token operator">+</span> <span class="token string">"/locations/"</span> <span class="token operator">+</span> location<span class="token punctuation">;</span></code></pre><p>ðŸ’¡They are the same (for <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2-overview#rest_endpoints>endpoints</a>):<pre class=language-js><code class=language-js>dialogflow<span class="token punctuation">.</span>googleapis<span class="token punctuation">.</span>com<br>us<span class="token operator">-</span>dialogflow<span class="token punctuation">.</span>googleapis<span class="token punctuation">.</span>com<br>global<span class="token operator">-</span>dialogflow<span class="token punctuation">.</span>googleapis<span class="token punctuation">.</span>com</code></pre><h2 id=custom-roles tabindex=-1>Custom roles <a href=#custom-roles class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>ðŸ‘‰ <a href=https://console.cloud.google.com/projectselector2/iam-admin/roles>Create here</a> (then you need to choose a project / a folder / an organization)<br>ðŸ‘‰ <a href=https://cloud.google.com/iam/docs/understanding-roles>Understanding roles</a>.<ul><li>If you choose a project, there are some roles cannot be added because they belongs to folders/organization (eg. <code>resourcemanager.projects.list</code>)<li>(<a href="https://console.cloud.google.com/cloud-setup/organization?organizationId=247943502148">ref</a>) You have to pay (using <em>Google Workspace</em> or <em>Google Identity</em>) to create an organization or a folder.</ul><div class=info><p>ðŸ’¡ <strong>Useful tip</strong>: If you already have a domain, you can try to create a Google Workspace and use it in 1 month of trial. After that, you can deactivate the Google Workspace account but the things on the Google Cloud Platform are still there and the organization you have created in Google Workspace is still working!</div><p>In case you wanna some tasks + don't wanna create a custom role (don't forget to check <a href=https://cloud.google.com/iam/docs/understanding-roles>this list</a>):<div class=hsbox><div class=hs__title>Show the list</div><div class=hs__content><ul><li><strong>Create a new project</strong>: <em>Project Creator</em> (Note: <em>Owner</em> doesn't have this role)<li><strong>Delete a project</strong>: <em>Project Deleter</em> (Note: <em>Owner</em> doesn't have this role)<li><strong>Create a new folder</strong>: <em>Folder Creator</em> (Note: <em>Organization Administrator</em> doesn't have this role, just list the folders and others)<li><strong>List all projects</strong> / folders: <em>Organization Administrator</em><li><strong>All Dialogflow tasks</strong>: <em>Dialogflow API Admin</em> (it has <code>dialogflow.*</code>)<li>Enable/Disable/List services in a project: <em>Service Usage Admin</em></ul></div></div><h2 id=service-account-w.r.t-organization-%2F-folder tabindex=-1>Service Account w.r.t Organization / Folder <a href=#service-account-w.r.t-organization-%2F-folder class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>ðŸ‘‰ <a href=https://console.cloud.google.com/iam-admin/serviceaccounts/create>Create a service account</a>. (and also the key for it > then download the JSON file)<ul><li>By default, a service account can only access to the current project (even if you choose the roles which created in the organization/folder).<li>If you want that service account can perform tasks in the organization/folder, you have to go to <strong>IAM & Admin</strong> > <strong>IAM</strong> > choose the organization / folder (yes, IAM is different for different project/organization/folder) > <strong>ADD</strong> > add the email of the service account to <strong>New principals</strong> and choose a role for it.</ul><div class=hsbox><div class=hs__title>Step by step</div><div class=hs__content><ol><li><p>You have to have a domain and full access to DNS.<li><p>Try 1 month free <a href=https://workspace.google.com/ >Google Workspace</a> (from this, you will have an organization in <a href=https://console.cloud.google.com/ >GCP</a>). ðŸ’¡ <strong>TIP</strong>: After 1 month, you deactivate the subsription but the things on GCP witll work!<li><p>(You may need to activate again the subscription on GCP with a free 300$). Don't worry, just a test, you lose nothing from this amount.<li><p>Go to <a href=https://console.cloud.google.com/iam-admin/iam>IAM</a>, choose your organization > ADD > paste the admin email of your organization + set roles for it (<em>Organization Administrator</em>, <em>Owner</em>, <em>Folder Creator</em>). Without this step, you cannot create any folder/project.<li><p>Go to <a href=https://console.cloud.google.com/cloud-resource-manager>Cloud Resource Manager</a> > Create a new folder inside your organization.<li><p>Go to <a href=https://console.cloud.google.com/projectselector2/apis/credentials>APIs & Services / Credentials</a> > Choose a project > Create Credentials > Service Account > Filling the information > Create and continue > Done. <strong>Don't forget to copy the email of this service account</strong> > Click on the link of that SA > Keys > Add key > Create a new key > JSON > Download a JSON file to your computer.<li><p>Go to IAM again, this time, choose the fodler / organization you want above service account have the right to manage things > Add > Paste the email of the SA you created above > Set roles to it like <em>Owner, Organization Administrator, Dialogflow API Admin, Project Creator, Project Deleter, Service Usage Admin</em> (you can check the <a href="https://cloud.google.com/iam/docs/understanding-roles?_ga=2.200836974.-1507687642.1642666540#predefined_roles">list of all roles here</a>). You can even create your own custom roles.<li><p>In order to created SA can use Resource Manager API, you have to activate it, otherwise, there will be an error like,<pre class=language-bash><code class=language-bash><span class="token number">7</span> PERMISSION_DENIED: Cloud Resource Manager API has not been used <span class="token keyword">in</span> project <span class="token number">1023630190150</span> before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/cloudresourcemanager.googleapis.com/overview?project<span class="token operator">=</span><span class="token number">1023630190150</span> <span class="token keyword">then</span> retry. If you enabled this API recently, <span class="token function">wait</span> a few minutes <span class="token keyword">for</span> the action to propagate to our systems and retry.</code></pre><p>You either use the link given in the error or using,<pre class=language-bash><code class=language-bash><span class="token function">node</span> -r dotenv/config service-usage/enableService.js <span class="token number">1023630190150</span> cloudresourcemanager.googleapis.com</code></pre><p>to activate the api.<li><p>One more thing, if you are going to use this SA to manage other APIs on other projects to which it's not belongs, you have to enable that service on the project it belongs to first. (For example, you created this SA on project-A and then you wanna use it to enable some Dialogflow APIs on project-B. You have to enable Dialogflow service on project-A first!)<li><p>Now, your SA has the full access you want.<li><p>On your computer, create a file <code>.env</code> withe the keys like in <code>env.example.txt</code>.<li><p>You're good!</ol></div></div><div class=info><p>If you use SDK <a href=https://googleapis.dev/nodejs/resource/latest/v3.ProjectsClient.html#listProjectsAsync><code>listProjectsAsync</code></a> to list all projects in the organization, you can only list the projects in that organization, not the ones inside a folder even if that folder belongs to the organization.</div><div class=info><p>ðŸ’¡ <strong>Quota</strong>: For each Service Account, <mark>the limit of number of projects you can create is 22</mark>. You can ask more but the better idea is to create another service account (and don't forget to remove the old one with its credentials).</div><h2 id=types-for-typescript tabindex=-1>Types for TypeScript <a href=#types-for-typescript class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><div class=warning><p>The old version uses <a href=https://www.npmjs.com/package/dialogflow><code>dialogflow</code></a> and <a href=https://www.npmjs.com/package/@types/dialogflow><code>@type/dialogflow</code></a>. The new version uses only one <a href=https://www.npmjs.com/package/@google-cloud/dialogflow><code>@google-cloud/dialogflow</code></a>!</div><p>For example, the returned type for <a href=https://cloud.google.com/nodejs/docs/reference/dialogflow/latest/dialogflow/v2beta1.agentsclient#_google_cloud_dialogflow_v2beta1_AgentsClient_getAgent_member_1_><code>getAgent()</code></a> method can be defined as,<pre class=language-tsx><code class=language-tsx><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">Agent</span> <span class="token operator">=</span> dialogflow<span class="token punctuation">.</span>protos<span class="token punctuation">.</span>google<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>dialogflow<span class="token punctuation">.</span>v2<span class="token punctuation">.</span>Agent<span class="token punctuation">;</span></code></pre><h2 id=play-with-intents%2C-examples-and-entities tabindex=-1>Play with Intents, Examples and Entities <a href=#play-with-intents%2C-examples-and-entities class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>ðŸŽ¯ <strong>Aim</strong>: Suppose that we want to create a new entities via API (including the system entities).<ul><li><a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2/projects.agent.intents/list>List all intents from some agent</a>: just put in the <code>parent</code> something like <code>projects/&lt;projectId>/agent</code> and then click <strong>Execute</strong>. Don't forget to choose the <code>intentView</code> as <code>INTENT_VIEW_FULL</code> (without this one, you cannot see the examples or "trainingPhrases") ðŸ‘ˆ Copy and remember the output of type <code>Intent</code>.<li>Create a new entities using <a href=https://cloud.google.com/dialogflow/es/docs/reference/rest/v2/projects.agent.intents/create>this API</a>. Again, put in <code>parent</code> as <code>projects/&lt;projectId>/agnet</code> and then in the <strong>Request body</strong>, paste an object which looks like the output in the previous step (remember to remove "name" sections, this section will be created by DF), then <strong>Execute</strong>.</ul><div class=hsbox><div class=hs__title>Example of <code>Intent</code></div><div class=hs__content><pre class=language-json><code class=language-json><span class="token punctuation">{</span><br>  <span class="token property">"displayName"</span><span class="token operator">:</span> <span class="token string">"testing system with examples"</span><span class="token punctuation">,</span><br>  <span class="token property">"priority"</span><span class="token operator">:</span> <span class="token number">500000</span><span class="token punctuation">,</span><br>  <span class="token property">"trainingPhrases"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"EXAMPLE"</span><span class="token punctuation">,</span><br>      <span class="token property">"parts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>        <span class="token punctuation">{</span><br>          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"I want to go "</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">{</span><br>          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"there"</span><span class="token punctuation">,</span><br>          <span class="token property">"entityType"</span><span class="token operator">:</span> <span class="token string">"@sys.color"</span><span class="token punctuation">,</span><br>          <span class="token property">"alias"</span><span class="token operator">:</span> <span class="token string">"color"</span><span class="token punctuation">,</span><br>          <span class="token property">"userDefined"</span><span class="token operator">:</span> <span class="token boolean">true</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">{</span><br>          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">" this thursday"</span><br>        <span class="token punctuation">}</span><br>      <span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"EXAMPLE"</span><span class="token punctuation">,</span><br>      <span class="token property">"parts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>        <span class="token punctuation">{</span><br>          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"toi tÃªn lÃ  "</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">{</span><br>          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"Ä‘inh anh thi"</span><span class="token punctuation">,</span><br>          <span class="token property">"entityType"</span><span class="token operator">:</span> <span class="token string">"@thi"</span><span class="token punctuation">,</span><br>          <span class="token property">"alias"</span><span class="token operator">:</span> <span class="token string">"thi"</span><span class="token punctuation">,</span><br>          <span class="token property">"userDefined"</span><span class="token operator">:</span> <span class="token boolean">true</span><br>        <span class="token punctuation">}</span><br>      <span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"EXAMPLE"</span><span class="token punctuation">,</span><br>      <span class="token property">"parts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>        <span class="token punctuation">{</span><br>          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"anh "</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">{</span><br>          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">"thi dinh"</span><span class="token punctuation">,</span><br>          <span class="token property">"entityType"</span><span class="token operator">:</span> <span class="token string">"@thi"</span><span class="token punctuation">,</span><br>          <span class="token property">"alias"</span><span class="token operator">:</span> <span class="token string">"thi"</span><span class="token punctuation">,</span><br>          <span class="token property">"userDefined"</span><span class="token operator">:</span> <span class="token boolean">true</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">{</span><br>          <span class="token property">"text"</span><span class="token operator">:</span> <span class="token string">", it's me"</span><br>        <span class="token punctuation">}</span><br>      <span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token property">"parameters"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"aa07d940-bcc7-464d-af4d-d38120737b9c"</span><span class="token punctuation">,</span><br>      <span class="token property">"displayName"</span><span class="token operator">:</span> <span class="token string">"thi"</span><span class="token punctuation">,</span><br>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"$thi"</span><span class="token punctuation">,</span><br>      <span class="token property">"entityTypeDisplayName"</span><span class="token operator">:</span> <span class="token string">"@thi"</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span><br>      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"bde49cda-37d8-43c3-9461-83c2fbc90996"</span><span class="token punctuation">,</span><br>      <span class="token property">"displayName"</span><span class="token operator">:</span> <span class="token string">"color"</span><span class="token punctuation">,</span><br>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"$color"</span><span class="token punctuation">,</span><br>      <span class="token property">"entityTypeDisplayName"</span><span class="token operator">:</span> <span class="token string">"@sys.color"</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">]</span><br><span class="token punctuation">}</span></code></pre></div></div></div><script type=application/ld+json>{
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Google APIs",
        "image": [],
        "author": "Anh-Thi DINH",
        "url": "https://dinhanhthi.com/google-dialogflow-api/",
        "mainEntityOfPage": "https://dinhanhthi.com/google-dialogflow-api/",
        "datePublished": "23-03-2022",
        "dateModified": "2022-03-23",
        "description": "Google&#39;s documentation is like an ocean. It&#39;s not easy to find a right one to start. This note contains only basic things that I&#39;ve already..."
      }</script></article></main><footer><a href=/ target=_blank>Thi Â Â©Â  2022 </a>Â â€¢Â  <a href=/about-the-notes/ >About this site </a>Â â€¢Â  <a href=https://photos.app.goo.gl/9OVEkdTjmtRPg7vC3 target=_blank>My sketches </a>Â â€¢Â  <a href=https://goo.gl/photos/yQXdQws1LLS16x5v5 target=_blank>I cook </a>Â â€¢Â  <a href=/support-thi/ ><img alt="Support Thi" class=keep-original src=/img_src/icons/coffee.svg height=16 width=auto> Support Thi</a></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js></script><script src=/src/js/components/clipboard.min.js></script><script src="/src/js/main.min.js?hash=d3b51a19b7" async defer></script><a href=/support-thi/ class="floating-button tooltip" id=buy-me-a-coffee><img alt="Support Thi" class=keep-original src=/img_src/icons/coffee.svg> <span class=tooltiptext>Support Thi</span> </a><button class="floating-button tooltip" id=scroll-top-btn><img alt="Scroll to top" class=keep-original src=/img_src/to-top.webp> <span class=tooltiptext>Top</span></button>