<!doctype html><html domain=.com lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="" http-equiv=Content-Security-Policy><link href=/favicon.svg rel=icon type=image/svg+xml><meta content=#f9c412 name=theme-color><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name=robots><title>Jekyll + Liquid | Note of Thi</title><meta content="Jekyll + Liquid | Note of Thi" prefix=og:http://ogp.me/ns# property=og:title><meta content="This note is used for you who have already had the basic idea about jekyll and how to create a jekyll site. This note is only for quickly..." name=description><meta content="This note is used for you who have already had the basic idea about jekyll and how to create a jekyll site. This note is only for quickly..." prefix=og:http://ogp.me/ns# property=og:description><meta content=summary_large_image name=twitter:card><meta content=@dinhanhthi name=twitter:site><meta content=@dinhanhthi name=twitter:creator><meta content=https://dinhanhthi.com/img_src/cover.png prefix=og:http://ogp.me/ns# property=og:image><meta content=article prefix=og:http://ogp.me/ns# property=og:type><link href=https://dinhanhthi.com/jekyll-tips/ rel=canonical><meta content=https://dinhanhthi.com/jekyll-tips/ prefix=og:http://ogp.me/ns# property=og:url><meta content=no-referrer-when-downgrade name=referrer><link href=/feed/feed.xml rel=alternate type=application/atom+xml title="ðŸ”¥ Anh-Thi DINH"><link href=/ rel=preconnect crossorigin><style>body {
      visibility: hidden;
      opacity: 0;
    }</style><noscript><style>body {
        visibility: visible;
        opacity: 1;
      }</style></noscript><script csp-hash>if (/Mac OS X/.test(navigator.userAgent))
      document
        .documentElement
        .classList
        .add('apple')</script><link href=/src/css/main.css rel=stylesheet type=text/css><style>@font-face{font-display:swap;font-family:'fontello';src:url(/fontello/font/fontello.eot?46432155);src:url(/fontello/font/fontello.eot?46432155#iefix) format('embedded-opentype'),url(/fontello/font/fontello.woff2?46432155) format('woff2'),url(/fontello/font/fontello.woff?46432155) format('woff'),url(/fontello/font/fontello.ttf?46432155) format('truetype'),url(/fontello/font/fontello.svg?46432155#fontello) format('svg');font-weight:400;font-style:normal}[class*=" icon-"]:before,[class^=icon-]:before{font-family:"fontello";font-style:normal;font-weight:400;speak:never;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-doc:before{content:'\e800'}.icon-doc-add:before{content:'\e801'}.icon-stats:before{content:'\e802'}.icon-tags:before{content:'\e803'}.icon-like:before{content:'\e804'}.icon-cog-alt:before{content:'\e805'}.icon-project:before{content:'\e806'}.icon-mooc:before{content:'\e807'}.icon-dl:before{content:'\e808'}.icon-ml:before{content:'\e809'}.icon-python:before{content:'\e80a'}.icon-nlp:before{content:'\e80b'}.icon-r-lang:before{content:'\e80c'}.icon-skill:before{content:'\e80d'}.icon-js-solid:before{content:'\e80e'}.icon-game:before{content:'\e80f'}.icon-web:before{content:'\e810'}.icon-algo:before{content:'\e811'}.icon-mooc-solid:before{content:'\e812'}.icon-chatbot:before{content:'\e813'}.icon-web-dev:before{content:'\e814'}.icon-data:before{content:'\e815'}.icon-skill-solid:before{content:'\e816'}.icon-python-solid:before{content:'\e817'}.icon-project-solid:before{content:'\e818'}.icon-js:before{content:'\e819'}.icon-rocket:before{content:'\e81a'}.icon-ml-solid:before{content:'\e81b'}.icon-game-solid:before{content:'\e81c'}.icon-dl-solid:before{content:'\e81d'}.icon-nlp-solid:before{content:'\e81e'}.icon-web-solid:before{content:'\e81f'}.icon-algo-solid:before{content:'\e820'}.icon-puzzle-outline:before{content:'\e821'}.icon-ng:before{content:'\e822'}.icon-ok:before{content:'\e823'}.icon-link:before{content:'\e824'}.icon-down-circle:before{content:'\e826'}.icon-api:before{content:'\e828'}.icon-right-circle:before{content:'\e829'}.icon-down-open:before{content:'\e82a'}.icon-right-open:before{content:'\e82b'}.icon-copy:before{content:'\f0c5'}.icon-gamepad:before{content:'\f11b'}.icon-fork:before{content:'\f126'}.icon-mlops-solid:before{content:'\f135'}.icon-edu-solid:before{content:'\f19d'}.icon-others-solid:before{content:'\f1b3'}.icon-ds-solid:before{content:'\f1c0'}.icon-chart-area:before{content:'\f1fe'}.icon-chart-pie:before{content:'\f200'}.icon-ts:before{content:'\f201'}.icon-clone:before{content:'\f24d'}</style><body><script>function showTheme() {
        const btn = document.getElementById("toggle-dark-light");
        let toggleIcon = btn.firstElementChild;
        const currentTheme = localStorage.getItem("theme");
        if (currentTheme === "dark") {
          document
            .body
            .classList
            .toggle("dark-theme");
          toggleIcon.src = "/img_src/nav/sun.svg";
        } else if (currentTheme === "light") {
          document
            .body
            .classList
            .toggle("light-theme");
          toggleIcon.src = "/img_src/nav/moon.svg";
        }
      }
      function showContent() {
        document.body.style.visibility = 'visible';
        document.body.style.opacity = 1;
      }
      window.addEventListener('DOMContentLoaded', (event) => {
        showTheme();
        showContent();
      });</script><header class="wave-border wave-border-post"><nav><div id=nav><a href=/ class="nav-item no-effect"><img alt=home class=keep-original src=/img_src/nav/home.svg height=18 width=18> <span>Thi</span> </a><a href=/about/ class="nav-item no-effect"><img alt=about class=keep-original src=/img_src/nav/about.svg height=15 width=15> <span>About</span></a><div class=nav-search id=nav-search><form><input aria-label='search notes (press "/" to focus & "ESC" to lose)' autocomplete=off class=nav-search__input id=nav-search__input onfocusin=inFocus(this) placeholder='search notes (press "/" to focus & "ESC" to lose)' type=search></form><div id=nav-search__result-container style="display: none;"><ul id=nav-search__ul></ul><div id=nav-search__no-result style="display: none;"><p>No results found.</div></div></div><span class="nav-item no-effect nav-dark-light" href="" id=toggle-dark-light><img alt=light-mode class=keep-original src=/img_src/nav/moon.svg height=20 width=20> </span><a href=https://github.com/dinhanhthi class="nav-item no-effect nav-github" target=_blank><img alt=github class=keep-original src=/img_src/nav/github.svg height=20 width=20></a></div><div class=reading-progress-container><div id=reading-progress aria-hidden=true></div></div></nav><script>var divNavSearch=document.getElementById("nav-search"),divRes=document.getElementById("nav-search__result-container"),ulRes=document.getElementById("nav-search__ul");function inFocus(e){""!=e.value&&(divRes.style.display="block")}var isOnDiv=!1;divRes.addEventListener("mouseover",(function(){isOnDiv=!0})),divRes.addEventListener("mouseout",(function(){isOnDiv=!1}));var inputSearch=document.getElementById("nav-search__input");window.addEventListener("click",(function(){ulRes.getElementsByTagName("li").length>=1&&isOnDiv||(divRes.style.display="none")})),inputSearch.addEventListener("click",(e=>{e.stopPropagation()}));const addSelected=e=>{ulRes.querySelectorAll("li").forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected")};var isInView=(e,t)=>{var n=e.offsetTop+e.offsetHeight-t.scrollTop>t.offsetHeight;return e.offsetTop<t.scrollTop?"above":n?"below":"in"};const updateScroll=(e,t)=>{e.offsetTop+e.offsetHeight-t.scrollTop>t.offsetHeight&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.offsetHeight),e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop)};document.onkeydown=e=>{checkInInput=document.activeElement==inputSearch,"/"!==e.key||checkInInput||(e.stopPropagation(),e.preventDefault(),inputSearch.focus())},document.addEventListener("focusin",(e=>{divNavSearch.contains(e.target)||(divRes.style.display="none")})),inputSearch.onkeydown=e=>{if("Enter"===e.key){e.stopPropagation(),e.preventDefault();var t=ulRes.querySelector('li[class*="selected"]');window.location.href=t.getElementsByClassName("item__content")[0].firstChild.firstChild.href}"Escape"===e.key&&(divRes.style.display="none",inputSearch.blur())},divNavSearch.onkeydown=e=>{if(hasResult=ulRes.getElementsByTagName("li").length>=1,hasResult){["ArrowUp","ArrowDown"].indexOf(e.key)>-1&&e.preventDefault();var t=ulRes.firstChild,n=ulRes.lastChild,s=ulRes.querySelector('li[class*="selected"]');switch(e.key){case"ArrowUp":nextLi=s&&s!=t?s.previousSibling:n,addSelected(nextLi),s=nextLi,updateScroll(s,divRes);break;case"ArrowDown":nextLi=s&&s!=n?s.nextSibling:t,addSelected(nextLi),s=nextLi,updateScroll(s,divRes)}}};</script><div class=header-container><div class="header-logo post-layout"><img alt="Jekyll + Liquid" class=keep-original src=/img/header/jekyll.svg height=55 width=55></div><h1>Jekyll + Liquid</h1><div id=more-info><div id=note-tag><a href=/tags/web-dev/ id=category }>Web Dev</a> <a href=/tags/jekyll/ id=category }>Jekyll</a> <a href=/tags/static-site-generators/ id=category }>Static Site Generators</a></div><div id=last-modified>Last modified 3 years ago / <a href=https://github.com/dinhanhthi/notes/edit/master/./posts/web-dev/2019-09-03-jekyll-tips.md>Edit on Github</a></div></div></div></header><main class="" id=main-wrapper><article class=post-container><div class="container mt-2 normal page-note"><div class="danger not-full-warning"><div class=warning-icon><img alt=Warning class=keep-original src=/img_src/icons/time.svg></div><div>This post was <strong>updated more than 1 year ago</strong>, some information may be outdated!</div></div><div class="toc toc-common toc-js"><div class=ol-container><div class=toc-heading>In this note</div><ol><li><a href=#useful-links>Useful links</a><li><a href=#using-docker-to-run%2Fdeploy-jekyll>Using docker to run/deploy jekyll</a><li><a href=#install-and-run-jekyll-on-fresh-machine>Install and run Jekyll on fresh machine</a><ol><li><a href=#macos>MacOS</a><li><a href=#ubuntu>Ubuntu</a><li><a href=#windows>Windows</a></ol><li><a href=#make-jekyll-build-faster>Make jekyll build faster</a><ol><li><a href=#disable-jekyll-feed>Disable jekyll-feed</a></ol><li><a href=#sitemap>Sitemap</a><li><a href=#loop-through-posts>Loop through posts</a><ol><li><a href=#edit-tags-for-all-posts>Edit tags for all posts</a></ol><li><a href=#using-markdown-syntax-inside-html-tags>Using markdown syntax inside html tags</a><li><a href=#check-version>Check version</a><li><a href=#link-to-posts>Link to posts</a><li><a href=#custom-domain-%26-repository-with-jekyll-sites>Custom domain & repository with Jekyll sites</a><ol><li><a href="#you-don't-have-a-custom-domain">You don't have a custom domain</a><li><a href=#you-have-a-custom-domain>You have a custom domain</a></ol><li><a href=#using-custom-plugins%3F>Using custom plugins?</a><li><a href=#using-_data-with-include>Using _data with include</a><li><a href=#create-a-custom-tags%2Fblocks>Create a custom tags/blocks</a><ol><li><a href=#refs>Refs</a><li><a href=#tag-with-single-parameter>Tag with single parameter</a><li><a href=#tag-with-two-parameters>Tag with two parameters</a><li><a href=#block-with-single-parameter>Block with single parameter</a><li><a href=#nested-blocks-with-crossed-using-variables>Nested blocks with crossed-using variables</a><li><a href=#problem-with-kramdown>Problem with kramdown</a></ol><li><a href=#run-with-draft>Run with draft</a><li><a href=#serve-in-background>Serve in background</a><li><a href=#using-markdown-syntax-inside-a-html-tag%2Fblock>Using markdown syntax inside a HTML tag/block</a><li><a href=#add-search-with-lunrjs>Add search with lunrjs</a></ol></div></div><p>This note is used for you who have already had the basic idea about jekyll and how to create a jekyll site. This note is only for quickly reference.<h2 id=useful-links tabindex=-1>Useful links <a href=#useful-links class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><div class=two-columns-list markdown=1><ul><li><a href=https://www.webfx.com/tools/emoji-cheat-sheet/ >Jemoji cheat sheet</a>.<li>Link to <a href=https://jekyllrb.com/docs/liquid/tags/#linking-to-posts>post</a> / <a href=https://jekyllrb.com/docs/liquid/tags/#link>page</a>.<li><a href=https://learn.cloudcannon.com/jekyll-cheat-sheet/ >Jekyll cheat sheet</a>.<li><a href=http://jwarby.github.io/jekyll-pygments-themes/languages/javascript.html>Rouge CSS file theme</a> (Pygment)<li><a href=http://jch.penibelst.de/ >Compress HTML in Jekyll</a>.<li><a href=https://kramdown.gettalong.org/quickref.html>Kramdown quickref</a>.<li><a href=https://pages.github.com/versions/ >Official dependencies / gems</a> supported by Github Pages.</ul></div><h2 id=using-docker-to-run%2Fdeploy-jekyll tabindex=-1>Using docker to run/deploy jekyll <a href=#using-docker-to-run%2Fdeploy-jekyll class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>Read this <a href=https://github.com/dinhanhthi/my-dockerfiles/tree/master/quick-jekyll>readme</a>. An example is <a href=https://github.com/dinhanhthi/dinhanhthi.com/tree/jekyll>an old version of this site</a>.<h2 id=install-and-run-jekyll-on-fresh-machine tabindex=-1>Install and run Jekyll on fresh machine <a href=#install-and-run-jekyll-on-fresh-machine class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><h3 id=macos tabindex=-1>MacOS <a href=#macos class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>This tut is for macOS 11.0 Big Sur.<pre class=language-bash><code class=language-bash><span class="token comment"># install homebrew</span><br>/bin/bash -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh<span class="token variable">)</span></span>"</span><br>brew --version <span class="token comment"># check version</span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># install rbenv to mange ruby versions</span><br>brew <span class="token function">install</span> rbenv ruby-build<br><span class="token comment"># add rbenv to bash</span><br><span class="token class-name builtin">echo</span> <span class="token string">'if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi'</span> <span class="token operator">>></span> ~/.zshrc<br><span class="token class-name builtin">source</span> ~/.zshrc <span class="token comment"># refresh bash</span><br><span class="token comment"># install ruby</span><br>rbenv <span class="token function">install</span> <span class="token number">3.0</span>.0<br>rbenv global <span class="token number">3.0</span>.0<br><span class="token comment"># reload the terminal / sessions</span><br>ruby -v</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># go to some jekyll source codes</span><br><span class="token function">install</span> bundler<br>gem <span class="token function">install</span> bundler<br><br><span class="token comment"># install gems</span><br>bundle config <span class="token class-name builtin">set</span> --local path <span class="token string">'vendor/bundle'</span><br>bundle <span class="token function">install</span><br><br><span class="token comment"># serve</span><br>bundle <span class="token class-name builtin">exec</span> jekyll serve</code></pre><h3 id=ubuntu tabindex=-1>Ubuntu <a href=#ubuntu class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><div class=hsbox><div class=hs__title>Install rvm (ruby version manager)</div><div class=hs__content><p>Check <a href=https://github.com/rvm/ubuntu_rvm>this main repo</a>.<pre class=language-bash><code class=language-bash><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> software-properties-common<br><span class="token function">sudo</span> apt-add-repository -y ppa:rael-gc/rvm<br><span class="token function">sudo</span> <span class="token function">apt-get</span> update<br><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> rvm<br><br><span class="token comment"># add user to group</span><br><span class="token function">sudo</span> <span class="token function">usermod</span> -a -G rvm thi<br><br><span class="token comment"># Open terminal setting > tick on "Run command as a login shell"</span><br><br><span class="token comment"># Reboot</span><br><br><span class="token comment"># Enable local gemsets</span><br>rvm user gemsets<br><br><span class="token comment"># install newest ruby</span><br>rvm <span class="token function">install</span> ruby<br><br><span class="token comment"># use system</span><br>rvm use system<br><span class="token comment"># use custom rvm</span><br>rvm use <span class="token number">3.0</span>.0<br><br><span class="token comment"># relaunch terminal</span></code></pre></div></div><div class=col-2-equal><pre class=language-bash><code class=language-bash><span class="token comment"># install ruby using rvm</span><br>rvm <span class="token function">install</span> <span class="token number">3.0</span>.0<br>rvm --default use <span class="token number">3.0</span>.0<br><br><span class="token comment"># install bundler</span><br><span class="token function">sudo</span> gem <span class="token function">install</span> bundler</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># clone a jekyll theme</span><br><span class="token comment"># cd to that theme</span><br><br><span class="token comment"># install gems in the theme</span><br>bundle <span class="token function">install</span> --path vendor/bundle</code></pre></div><pre class=language-bash><code class=language-bash><span class="token comment"># serve</span><br>bundle <span class="token class-name builtin">exec</span> jekyll serve<br><br><span class="token comment"># If error "ExecJS and could not find a JavaScript runtime"</span><br><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> nodejs</code></pre><h3 id=windows tabindex=-1>Windows <a href=#windows class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>Follow <a href=/docker-wsl2-windows#jekyll-on-wsl2>this guide</a> using WSL2 on Windows.<h2 id=make-jekyll-build-faster tabindex=-1>Make jekyll build faster <a href=#make-jekyll-build-faster class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><div class=col-2-equal><pre class=language-bash><code class=language-bash><span class="token comment"># BENCHMARKING your site</span><br>bundle <span class="token class-name builtin">exec</span> jekyll build --profile</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># clean cache</span><br>bundle <span class="token class-name builtin">exec</span> jekyll clean</code></pre></div><ol><li>Disable <code>jekyll-feed</code><li>Run <code>bundle exec jekyll serve -I</code> (wuth <code>-I</code>) to generate the changed file only. If you create a new file, open a new terminal tab and run <code>bundle exec jekyll build</code>.<li>Upgrade to Jekyll 4.0.<li>Add <code>gem "liquid-c"</code> to <code>Gemfile</code> and make <code>bundle update</code><li>Use <code>jekyll-include-cache</code> (both in <code>Gemfile</code> and <code>_config.yml</code>)</ol><p>Read more in <a href=https://forestry.io/blog/how-i-reduced-my-jekyll-build-time-by-61/ >this article</a>.<h3 id=disable-jekyll-feed tabindex=-1>Disable jekyll-feed <a href=#disable-jekyll-feed class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><ol><li>Comment line <code>jekyll-feed</code> in <code>Gemfile</code><li>Comment line <code>jekyll-feed</code> in <code>_config.yml</code><li>Rebuild.</ol><h2 id=sitemap tabindex=-1>Sitemap <a href=#sitemap class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>If in <a href=https://github.com/jekyll/jekyll-sitemap>sitemap</a>, there is error like <code>&lt;loc>/reading&lt;/loc></code>, check your <code>_config.yml</code> + make sure there is an url inside <code>url</code> field.<h2 id=loop-through-posts tabindex=-1>Loop through posts <a href=#loop-through-posts class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><pre class=language-liquid><code class=language-liquid><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> site<span class="token punctuation">.</span>posts <span class="token punctuation delimiter">%}</span></span><br>  <span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span> post<span class="token punctuation">.</span>title <span class="token punctuation delimiter">}}</span></span><br><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endfor</span> <span class="token punctuation delimiter">%}</span></span></code></pre><div class=warning><p>If you using <code>baseurl</code>,<pre class=language-yml><code class=language-yml><span class="token comment"># in _config.yml</span><br><span class="token atrule key">url</span><span class="token punctuation">:</span> <span class="token string">""</span><br><span class="token atrule key">baseurl</span><span class="token punctuation">:</span> <span class="token string">"/tools"</span></code></pre><pre class=language-liquid><code class=language-liquid><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span><br>	<span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> site<span class="token punctuation">.</span>posts <span class="token punctuation delimiter">%}</span></span><br>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><br>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span> site<span class="token punctuation">.</span>baseurl <span class="token punctuation delimiter">}}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span> post<span class="token punctuation">.</span>url <span class="token punctuation delimiter">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span> post<span class="token punctuation">.</span>title <span class="token punctuation delimiter">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>	<span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endfor</span> <span class="token punctuation delimiter">%}</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span><br></code></pre></div><p>List all posts in each category,<pre class=language-liquid><code class=language-liquid><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">for</span> category <span class="token keyword">in</span> site<span class="token punctuation">.</span>data<span class="token punctuation">.</span>categories <span class="token punctuation delimiter">%}</span></span><br>  <span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">if</span> site<span class="token punctuation">.</span>categories<span class="token punctuation">[</span>category<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation delimiter">%}</span></span><br>    <span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> site<span class="token punctuation">.</span>categories<span class="token punctuation">[</span>category<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token punctuation delimiter">%}</span></span><br>      <span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span> post<span class="token punctuation">.</span>title <span class="token punctuation delimiter">}}</span></span><br>    <span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endfor</span> <span class="token punctuation delimiter">%}</span></span><br>  <span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endif</span> <span class="token punctuation delimiter">%}</span></span><br><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endfor</span> <span class="token punctuation delimiter">%}</span></span></code></pre><p>List all posts in ABC order<sup><a href=https://stackoverflow.com/questions/39922776/how-to-sort-site-posts-alphabetically-by-post-title-in-jekyll target=_blank rel="noopener noreferrer">[ref]</a></sup>,<pre class=language-liquid><code class=language-liquid><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">assign</span> sortedPosts <span class="token operator">=</span> site<span class="token punctuation">.</span>posts <span class="token operator">|</span> <span class="token function filter">sort</span><span class="token operator">:</span> <span class="token string">'title'</span> <span class="token punctuation delimiter">%}</span></span><br><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> sortedPosts <span class="token punctuation delimiter">%}</span></span><br>  <span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span> post<span class="token punctuation">.</span>title <span class="token punctuation delimiter">}}</span></span><br><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endfor</span> <span class="token punctuation delimiter">%}</span></span></code></pre><p>List of categories and tags in a single line with commas,<pre class=language-liquid><code class=language-liquid><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">for</span> category <span class="token keyword">in</span> site<span class="token punctuation">.</span>categories <span class="token keyword">reversed</span> <span class="token punctuation delimiter">%}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">capture</span> category_name <span class="token punctuation delimiter">%}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span> category <span class="token operator">|</span> <span class="token function filter">first</span> <span class="token punctuation delimiter">}}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endcapture</span> <span class="token punctuation delimiter">%}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span>site<span class="token punctuation">.</span>url<span class="token punctuation delimiter">}}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span>site<span class="token punctuation">.</span>baseurl<span class="token punctuation delimiter">}}</span></span>/#<span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span>category_name <span class="token operator">|</span> <span class="token function filter">replace</span><span class="token operator">:</span> <span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">"_"</span><span class="token punctuation delimiter">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span> category_name <span class="token punctuation delimiter">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">if</span> <span class="token object">forloop</span><span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token object">forloop</span><span class="token punctuation">.</span><span class="token function">last</span> <span class="token operator">!=</span> <span class="token boolean">true</span> <span class="token punctuation delimiter">%}</span></span>, <span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">else</span> <span class="token punctuation delimiter">%}</span></span>.<span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endif</span> <span class="token punctuation delimiter">%}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endfor</span> <span class="token punctuation delimiter">%}</span></span></code></pre><pre class=language-liquid><code class=language-liquid><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">for</span> tag <span class="token keyword">in</span> site<span class="token punctuation">.</span>tags <span class="token punctuation delimiter">%}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">capture</span> test <span class="token punctuation delimiter">%}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span>tag<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token function filter">slice</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation delimiter">}}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endcapture</span> <span class="token punctuation delimiter">%}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">capture</span> testup <span class="token punctuation delimiter">%}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span>tag<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token function filter">slice</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token function filter">upcase</span><span class="token punctuation delimiter">}}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endcapture</span> <span class="token punctuation delimiter">%}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span>tag<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token function filter">slugify</span><span class="token punctuation delimiter">}}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">if</span> test <span class="token operator">==</span> testup <span class="token punctuation delimiter">%}</span></span>_cap<span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endif</span> <span class="token punctuation delimiter">%}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{{</span>tag<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation delimiter">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">if</span> <span class="token object">forloop</span><span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">and</span> <span class="token object">forloop</span><span class="token punctuation">.</span><span class="token function">last</span> <span class="token operator">!=</span> <span class="token boolean">true</span> <span class="token punctuation delimiter">%}</span></span>, <span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">else</span> <span class="token punctuation delimiter">%}</span></span>.<span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endif</span> <span class="token punctuation delimiter">%}</span></span><span class="token language-liquid liquid"><span class="token punctuation delimiter">{%</span> <span class="token keyword">endfor</span> <span class="token punctuation delimiter">%}</span></span></code></pre><h3 id=edit-tags-for-all-posts tabindex=-1>Edit tags for all posts <a href=#edit-tags-for-all-posts class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>Read <a href=https://github.com/dinhanhthi/dinhanhthi.com/blob/master/pages/tags.html>this source code</a>.<h2 id=using-markdown-syntax-inside-html-tags tabindex=-1>Using markdown syntax inside html tags <a href=#using-markdown-syntax-inside-html-tags class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>You can use directly by<pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>span<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>of only once,<pre class=language-html><code class=language-html>{::options parse_block_html="true" /}<br><span class="token comment">&lt;!-- other html + markdown inside --></span></code></pre><p>Or even shorter,<pre><code>Testing {::nomarkdown}**see**{:/} and test.
</code></pre><h2 id=check-version tabindex=-1>Check version <a href=#check-version class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><ul><li>Local gems: <code>gem list jekyll</code>.<li>Current jekyll version of website: check <code>Gemfile</code>. Need to run <code>bundle update</code> if change any version in this file.</ul><h2 id=link-to-posts tabindex=-1>Link to posts <a href=#link-to-posts class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><pre><code>[Name of Link]({% post_url 2010-07-21-name-of-post %})
</code></pre><p>Edit this post on github (put below link in your post layout),<pre><code>https://github.com/dinhanhthi/dinhanhthi.com/edit/master/{{path.path}}
</code></pre><h2 id=custom-domain-%26-repository-with-jekyll-sites tabindex=-1>Custom domain & repository with Jekyll sites <a href=#custom-domain-%26-repository-with-jekyll-sites class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>There are several choices for you to choose, it depends on your need.<h3 id="you-don't-have-a-custom-domain" tabindex=-1>You don't have a custom domain <a href="#you-don't-have-a-custom-domain" class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><ol><li>Suppose your github account is <code>&lt;username></code>.<li>Create a repo <code>&lt;username>.github.io</code>.<li>Put your site in branch <code>master</code> (default).<li>Your site is published at <code>https://&lt;username>.github.io</code></ol><p>If you wanna store your site in a custom repo, e.g. <code>mysite</code>:<p class=indent><ol><li>Create a branch <code>gh-pages</code> + set it as default + store your site here.<li>Remove content at <code>url:</code> in <code>_config.yml</code>.<li>Your site is live at <code>https://&lt;username>.github.io/mysite/</code></ol><h3 id=you-have-a-custom-domain tabindex=-1>You have a custom domain <a href=#you-have-a-custom-domain class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><ol><li>Create file <code>CNAME</code> at root and put <code>&lt;customdomain>.com</code> in it.<li>Create <code>A</code> or <code>CNAME</code> record in DNS provider. Check <a href=https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site>more</a>.<li>You can also use <a href=http://netlify.com>netlify</a> to set all things up automatically.</ol><h2 id=using-custom-plugins%3F tabindex=-1>Using custom plugins? <a href=#using-custom-plugins%3F class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><ol><li>Build your site locally and get a folder <code>_site</code>.<li>Put it to github and see the results.</ol><p>You can also use <a href=https://netlify.com><code>netlify</code></a>, it accepts custom plugin as well.<h2 id=using-_data-with-include tabindex=-1>Using <code>_data</code> with <code>include</code> <a href=#using-_data-with-include class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>You can use,<pre><code>{% include proud-of.html data=site.data.proudof-notes %}
</code></pre><p>where there is a data file located in <code>_data/proudof-notes.yml</code>.<h2 id=create-a-custom-tags%2Fblocks tabindex=-1>Create a custom tags/blocks <a href=#create-a-custom-tags%2Fblocks class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><h3 id=refs tabindex=-1>Refs <a href=#refs class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><ul><li><a href=https://jekyllrb.com/docs/plugins/tags/ >Official Jekyll guid</a>.<li><a href=https://blog.sverrirs.com/2016/04/custom-jekyll-tags.html>How to create customizable Liquid tags</a> in Jekyll by Sverrir Sigmundarson.<li><a href=http://mikelui.io/2018/07/22/jekyll-nested-blocks.html>Creating an Accordion Plugin for Jekyll</a> by Mike Lui.</ul><h3 id=tag-with-single-parameter tabindex=-1>Tag with single parameter <a href=#tag-with-single-parameter class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><div class=col-2-equal><pre><code>{% render_time page rendered at: %}
</code></pre><pre class=language-html><code class=language-html>page rendered at: Tue June 22 23:38:47 â€“0500 2010</code></pre></div><p>Inside folder <code>_plugins</code>, create a file <code>thi_single_tag.rb</code> whose content is,<pre class=language-ruby><code class=language-ruby><span class="token keyword">module</span> <span class="token class-name">Jekyll</span><br>  <span class="token keyword">class</span> <span class="token class-name">RenderTimeTag</span> <span class="token operator">&lt;</span> Liquid<span class="token punctuation double-colon">::</span>Tag<br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> text<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@text</span> <span class="token operator">=</span> text<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      <span class="token string-literal"><span class="token string">"</span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content"><span class="token variable">@text</span></span><span class="token punctuation delimiter">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content"><span class="token builtin">Time</span><span class="token punctuation">.</span>now</span><span class="token punctuation delimiter">}</span></span><span class="token string">"</span></span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br>Liquid<span class="token punctuation double-colon">::</span>Template<span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'render_time'</span></span><span class="token punctuation">,</span> Jekyll<span class="token punctuation double-colon">::</span>RenderTimeTag<span class="token punctuation">)</span></code></pre><h3 id=tag-with-two-parameters tabindex=-1>Tag with two parameters <a href=#tag-with-two-parameters class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><div class=col-2-equal><pre><code>{% badge update | green %}
</code></pre><pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tbadge badge-green<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>update<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code></pre></div><p>Inside folder <code>_plugins</code>, create a file <code>thi_badge.rb</code> whose content is,<pre class=language-ruby><code class=language-ruby><span class="token keyword">class</span> <span class="token class-name">Badge</span> <span class="token operator">&lt;</span> Liquid<span class="token punctuation double-colon">::</span>Tag<br>  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> input<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>    <span class="token keyword">super</span><br>    <span class="token variable">@input</span> <span class="token operator">=</span> input<br>  <span class="token keyword">end</span><br><br>  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>    <span class="token comment"># Split the input variable (omitting error checking)</span><br>    input_split <span class="token operator">=</span> split_params<span class="token punctuation">(</span><span class="token variable">@input</span><span class="token punctuation">)</span><br>    text <span class="token operator">=</span> input_split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<br>    color <span class="token operator">=</span> input_split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<br><br>    <span class="token comment"># Write the output HTML string</span><br>    output <span class="token operator">=</span> <span class="token string-literal heredoc-string"><span class="token delimiter"><span class="token punctuation">&lt;&lt;~</span><span class="token symbol">EOS</span></span><span class="token string"><br>      &lt;span class="tbadge badge-</span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">color</span><span class="token punctuation delimiter">}</span></span><span class="token string">"></span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">text</span><span class="token punctuation delimiter">}</span></span><span class="token string">&lt;/span><br>    </span><span class="token delimiter"><span class="token symbol">EOS</span></span></span><br><br>    <span class="token comment"># Render it on the page by returning it</span><br>    <span class="token keyword">return</span> output<span class="token punctuation">;</span><br>  <span class="token keyword">end</span><br><br>  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">split_params</span></span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><br>    params<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"|"</span></span><span class="token punctuation">)</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br>Liquid<span class="token punctuation double-colon">::</span>Template<span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'badge'</span></span><span class="token punctuation">,</span> Badge<span class="token punctuation">)</span></code></pre><h3 id=block-with-single-parameter tabindex=-1>Block with single parameter <a href=#block-with-single-parameter class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>For example, we wanna create a custom block <code>alertbox</code> using <a href=https://getbootstrap.com/docs/4.1/components/alerts/ >class from Bootstrap</a>.<div class=col-2-equal><pre><code>{% alertbox warning %}
Content
{% endalertbox %}
</code></pre><pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert alert-warning<span class="token punctuation">"</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alert<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>Content<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div><p>Inside folder <code>_plugins</code>, create a file <code>thi_alert.rb</code> whose content is,<pre class=language-ruby><code class=language-ruby><span class="token keyword">module</span> <span class="token class-name">Jekyll</span><br>  <span class="token keyword">class</span> <span class="token class-name">Alertbox</span> <span class="token operator">&lt;</span> Liquid<span class="token punctuation double-colon">::</span>Block<br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> input<span class="token punctuation">,</span> liquid_options<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@input</span> <span class="token operator">=</span> input<span class="token punctuation">.</span>strip<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      content <span class="token operator">=</span> <span class="token keyword">super</span><br><br>      <span class="token keyword">case</span> <span class="token variable">@input</span><br>      <span class="token keyword">when</span> <span class="token string-literal"><span class="token string">"warning"</span></span><br>        box_type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'warning'</span></span><br>      <span class="token keyword">when</span> <span class="token string-literal"><span class="token string">"success"</span></span><br>        box_type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'success'</span></span><br>      <span class="token keyword">when</span> <span class="token string-literal"><span class="token string">"primary"</span></span><br>        box_type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'primary'</span></span><br>      <span class="token keyword">when</span> <span class="token string-literal"><span class="token string">"secondary"</span></span><br>        box_type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'secondary'</span></span><br>      <span class="token keyword">when</span> <span class="token string-literal"><span class="token string">"danger"</span></span><br>        box_type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'danger'</span></span><br>      <span class="token keyword">when</span> <span class="token string-literal"><span class="token string">"info"</span></span><br>        box_type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'info'</span></span><br>      <span class="token keyword">when</span> <span class="token string-literal"><span class="token string">"light"</span></span><br>        box_type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'light'</span></span><br>      <span class="token keyword">when</span> <span class="token string-literal"><span class="token string">"dark"</span></span><br>        box_type <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'dark'</span></span><br>      <span class="token keyword">end</span><br><br>      output <span class="token operator">=</span> <span class="token string-literal heredoc-string"><span class="token delimiter"><span class="token punctuation">&lt;&lt;~</span><span class="token symbol">EOS</span></span><span class="token string"><br>        &lt;div class="alert alert-</span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">box_type</span><span class="token punctuation delimiter">}</span></span><span class="token string">" markdown="1"><br>          </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">content</span><span class="token punctuation delimiter">}</span></span><span class="token string"><br>        &lt;/div><br>      </span><span class="token delimiter"><span class="token symbol">EOS</span></span></span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br>Liquid<span class="token punctuation double-colon">::</span>Template<span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'alertbox'</span></span><span class="token punctuation">,</span> Jekyll<span class="token punctuation double-colon">::</span>AlertBox<span class="token punctuation">)</span></code></pre><h3 id=nested-blocks-with-crossed-using-variables tabindex=-1>Nested blocks with crossed-using variables <a href=#nested-blocks-with-crossed-using-variables class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>A more complicated example, suppose that you wanna create a <strong class=tbrown>hide/show box</strong> using <a href=https://getbootstrap.com/docs/4.1/components/collapse/ >Bootstrap's Collapse</a>, you can use below shortcode. Its advantage is that you don't have to put manually the <code>id</code> for each box! Wonderful!<div class=col-2-equal><pre><code>{% hsbox %}

{% hstitle %}
Box's title
{% endhstitle %}

{% hscontent %}
Box's content.
{% endhscontent %}

{% endhsbox %}
</code></pre><pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide-show-box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn collapsed box-button<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#box1ct<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>Box's title<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box1ct<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse multi-collapse box-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>Box's content.<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div><p>Inside folder <code>_plugins</code>, create a file <code>thi_hideshowbox.rb</code> whose content is,<pre class=language-ruby><code class=language-ruby><span class="token keyword">module</span> <span class="token class-name">Jekyll</span><br>  <span class="token keyword">class</span> <span class="token class-name">HideShowBox</span> <span class="token operator">&lt;</span> Liquid<span class="token punctuation double-colon">::</span>Block<br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> contain<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">generate_box_id</span></span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><br>      charset <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'A'</span></span><span class="token operator">..</span><span class="token string-literal"><span class="token string">'Z'</span></span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'a'</span></span><span class="token operator">..</span><span class="token string-literal"><span class="token string">'z'</span></span><span class="token punctuation">)</span><br>      <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token punctuation">{</span> charset<span class="token punctuation">.</span>sample <span class="token punctuation">}</span><span class="token punctuation">.</span>join<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      context<span class="token punctuation">.</span>stack <span class="token keyword">do</span><br>        context<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"boxID"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> generate_box_id<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment"># create the box's ID</span><br>        <span class="token variable">@content</span> <span class="token operator">=</span> <span class="token keyword">super</span><br>      <span class="token keyword">end</span><br>      <span class="token string-literal"><span class="token string">"&lt;div class=\"hide-show-box\"></span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content"><span class="token variable">@content</span></span><span class="token punctuation delimiter">}</span></span><span class="token string">&lt;/div>"</span></span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><br>  <span class="token keyword">class</span> <span class="token class-name">HSBtitle</span> <span class="token operator">&lt;</span> Liquid<span class="token punctuation double-colon">::</span>Tag<br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> contain<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@title</span> <span class="token operator">=</span> contain<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      boxID <span class="token operator">=</span> context<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"boxID"</span></span><span class="token punctuation">]</span> <span class="token comment"># get the box's ID</span><br><br>      output <span class="token operator">=</span> <span class="token string-literal heredoc-string"><span class="token delimiter"><span class="token punctuation">&lt;&lt;~</span><span class="token symbol">EOS</span></span><span class="token string"><br>        &lt;button type="button" markdown="1" class="btn collapsed box-button" data-toggle="collapse" data-target="#</span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">boxID</span><span class="token punctuation delimiter">}</span></span><span class="token string">"></span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content"><span class="token variable">@title</span></span><span class="token punctuation delimiter">}</span></span><span class="token string">&lt;/button><br>      </span><span class="token delimiter"><span class="token symbol">EOS</span></span></span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><br>  <span class="token keyword">class</span> <span class="token class-name">HSBcontent</span> <span class="token operator">&lt;</span> Liquid<span class="token punctuation double-colon">::</span>Block<br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> contain<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@showBox</span> <span class="token operator">=</span> contain<span class="token punctuation">.</span>strip<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      boxID <span class="token operator">=</span> context<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"boxID"</span></span><span class="token punctuation">]</span> <span class="token comment"># get the box's ID</span><br>      <span class="token keyword">if</span> <span class="token variable">@showBox</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'show'</span></span><br>        classShow <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'show'</span></span><br>      <span class="token keyword">else</span><br>        classShow <span class="token operator">=</span> <span class="token string-literal"><span class="token string">''</span></span><br>      <span class="token keyword">end</span><br>      output <span class="token operator">=</span> <span class="token string-literal heredoc-string"><span class="token delimiter"><span class="token punctuation">&lt;&lt;~</span><span class="token symbol">EOS</span></span><span class="token string"><br>        &lt;div id="</span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">boxID</span><span class="token punctuation delimiter">}</span></span><span class="token string">" markdown="1" class="collapse multi-collapse box-content </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">classShow</span><span class="token punctuation delimiter">}</span></span><span class="token string">"><br>          </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content"><span class="token keyword">super</span></span><span class="token punctuation delimiter">}</span></span><span class="token string"><br>        &lt;/div><br>      </span><span class="token delimiter"><span class="token symbol">EOS</span></span></span><br><br>      output<br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br>Liquid<span class="token punctuation double-colon">::</span>Template<span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'hsbox'</span></span><span class="token punctuation">,</span> Jekyll<span class="token punctuation double-colon">::</span>HideShowBox<span class="token punctuation">)</span><br>Liquid<span class="token punctuation double-colon">::</span>Template<span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'hstitle'</span></span><span class="token punctuation">,</span> Jekyll<span class="token punctuation double-colon">::</span>HSBtitle<span class="token punctuation">)</span><br>Liquid<span class="token punctuation double-colon">::</span>Template<span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'hscontent'</span></span><span class="token punctuation">,</span> Jekyll<span class="token punctuation double-colon">::</span>HSBcontent<span class="token punctuation">)</span></code></pre><p>ðŸ’¡ Actually, there is a <strong class=tbrown>simpler solution</strong> for this task. We can get<div class=col-2-equal><pre><code>{% hsbox **Box's title** | show %}
Box's content.
{% endhsbox %}
</code></pre><pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide-show-box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn collapsed box-button<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#something<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>Box's title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>something<span class="token punctuation">"</span></span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse multi-collapse box-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>Box's content.<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div><p>by using<pre class=language-ruby><code class=language-ruby><span class="token keyword">module</span> <span class="token class-name">Jekyll</span><br>  <span class="token keyword">class</span> <span class="token class-name">HideShowBox</span> <span class="token operator">&lt;</span> Liquid<span class="token punctuation double-colon">::</span>Block<br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> contain<span class="token punctuation">,</span> tokens<span class="token punctuation">)</span><br>      <span class="token keyword">super</span><br>      <span class="token variable">@input</span> <span class="token operator">=</span> contain<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">generate_box_id</span></span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><br>      charset <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'A'</span></span><span class="token operator">..</span><span class="token string-literal"><span class="token string">'Z'</span></span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token builtin">Array</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'a'</span></span><span class="token operator">..</span><span class="token string-literal"><span class="token string">'z'</span></span><span class="token punctuation">)</span><br>      <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token punctuation">{</span> charset<span class="token punctuation">.</span>sample <span class="token punctuation">}</span><span class="token punctuation">.</span>join<br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      <span class="token comment"># Split the input variable (omitting error checking)</span><br>      input_split <span class="token operator">=</span> split_params<span class="token punctuation">(</span><span class="token variable">@input</span><span class="token punctuation">)</span><br>      title <span class="token operator">=</span> input_split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><br>      boxid <span class="token operator">=</span> generate_box_id<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><br>      <span class="token keyword">if</span> input_split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">nil</span><br>        <span class="token keyword">if</span> input_split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'show'</span></span><br>          showbox <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"show"</span></span><br>        <span class="token keyword">else</span><br>          showbox <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><br>        <span class="token keyword">end</span><br>      <span class="token keyword">else</span><br>        showbox <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><br>      <span class="token keyword">end</span><br>      content <span class="token operator">=</span> <span class="token keyword">super</span><br><br>      output <span class="token operator">=</span> <span class="token string-literal heredoc-string"><span class="token delimiter"><span class="token punctuation">&lt;&lt;~</span><span class="token symbol">EOS</span></span><span class="token string"><br>        &lt;div class="hide-show-box"><br>          &lt;button type="button" markdown="1" class="btn collapsed box-button" data-toggle="collapse" data-target="#</span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">boxid</span><span class="token punctuation delimiter">}</span></span><span class="token string">"><br>            </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">title</span><span class="token punctuation delimiter">}</span></span><span class="token string"><br>          &lt;/button><br>          &lt;div id="</span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">boxid</span><span class="token punctuation delimiter">}</span></span><span class="token string">" markdown="1" class="collapse multi-collapse box-content </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">showbox</span><span class="token punctuation delimiter">}</span></span><span class="token string">"><br>            </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">content</span><span class="token punctuation delimiter">}</span></span><span class="token string"><br>          &lt;/div><br>        &lt;/div><br>      </span><span class="token delimiter"><span class="token symbol">EOS</span></span></span><br>    <span class="token keyword">end</span><br><br>    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">split_params</span></span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><br>      params<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"|"</span></span><span class="token punctuation">)</span><br>    <span class="token keyword">end</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span><br><br>Liquid<span class="token punctuation double-colon">::</span>Template<span class="token punctuation">.</span>register_tag<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'hsbox'</span></span><span class="token punctuation">,</span> Jekyll<span class="token punctuation double-colon">::</span>HideShowBox<span class="token punctuation">)</span></code></pre><h3 id=problem-with-kramdown tabindex=-1>Problem with kramdown <a href=#problem-with-kramdown class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>Somtimes, we cannot use <code>markdown="1"</code> directly in ruby file. For example, below block of code produces a block of codes (<code>&lt;pre></code>) instead of a single text,<pre class=language-ruby><code class=language-ruby><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>tag_name<span class="token punctuation">,</span> input<span class="token punctuation">,</span> liquid_options<span class="token punctuation">)</span><br>  <span class="token keyword">super</span><br>  <span class="token variable">@title</span> <span class="token operator">=</span> input<br><span class="token keyword">end</span><br><br><span class="token keyword">def</span> <span class="token method-definition"><span class="token function">render</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>  content <span class="token operator">=</span> <span class="token keyword">super</span><br>  output <span class="token operator">=</span> <span class="token string-literal heredoc-string"><span class="token delimiter"><span class="token punctuation">&lt;&lt;~</span><span class="token symbol">EOS</span></span><span class="token string"><br>    &lt;div class="def-box" id="dn1"><br>      &lt;div class="box-title" markdown="1"><br>        </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content"><span class="token variable">@title</span></span><span class="token punctuation delimiter">}</span></span><span class="token string"><br>      &lt;/div><br>      &lt;div class="box-content" markdown="1"><br>        </span><span class="token interpolation"><span class="token punctuation delimiter">#{</span><span class="token content">content</span><span class="token punctuation delimiter">}</span></span><span class="token string"><br>      &lt;/div><br>    &lt;/div><br>  </span><span class="token delimiter"><span class="token symbol">EOS</span></span></span><br><span class="token keyword">end</span></code></pre><p>Instead, we change a little bit like this,<pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box-title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>span<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>#{@title}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><h2 id=run-with-draft tabindex=-1>Run with draft <a href=#run-with-draft class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>Inside the root folder, create a folder named <code>_drafts</code>. You can put your draft posts inside this folder and whenever you wanna show it in your site, use this command,<pre class=language-bash><code class=language-bash>bundle <span class="token class-name builtin">exec</span> jekyll serve --draft</code></pre><p>In the case you have already build your site (all new posts are rendered to <code>_site</code>), you only changes some small things in some post and you don't want jekyll to render again all things on your site (just look at your current post), use this,<pre class=language-bash><code class=language-bash>bundle <span class="token class-name builtin">exec</span> jekyll serve -I</code></pre><h2 id=serve-in-background tabindex=-1>Serve in background <a href=#serve-in-background class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><div class=col-2-equal><pre class=language-bash><code class=language-bash><span class="token comment"># start</span><br>bundle <span class="token class-name builtin">exec</span> jekyll serve <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&1</span> <span class="token operator">&</span><br>bundle <span class="token class-name builtin">exec</span> jekyll serve -I <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&1</span> <span class="token operator">&</span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># stop</span><br><span class="token comment"># find jekyll server process</span><br><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> jekyll<br><span class="token comment"># substitute pid# with process id</span><br><span class="token function">kill</span> -9 pid<span class="token comment">#</span></code></pre></div><h2 id=using-markdown-syntax-inside-a-html-tag%2Fblock tabindex=-1>Using markdown syntax inside a HTML tag/block <a href=#using-markdown-syntax-inside-a-html-tag%2Fblock class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>For a block, we use <code>markdown="1"</code>,<pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>paragraph<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>For a tag, we use <code>markdown="span"</code>,<pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mark</span> <span class="token attr-name">markdown</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>span<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code></pre><h2 id=add-search-with-lunrjs tabindex=-1>Add search with lunrjs <a href=#add-search-with-lunrjs class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>Download <a href=/js/lunr.min.js>lunr.min.js</a> and <a href=/js/search.js>search.js</a> and put them in <code>root/js/</code>. The newest version of lunrjs given here but I'm not sur if it works with this technique or not.<p>Create a file <code>search.html</code> in the root folder with content:<pre class=language-html><code class=language-html>---<br>layout: page<br>title: Search on this page<br>---<br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p-intro<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-process<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{re_loading}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> {{re_result}} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-query-container<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token css language-css value"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>{{re_forkey}} "<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-query<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search-results<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>  window<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> post <span class="token keyword">in</span> site<span class="token punctuation">.</span>posts <span class="token operator">%</span><span class="token punctuation">}</span><br>      <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">if</span> post<span class="token punctuation">.</span>title <span class="token operator">%</span><span class="token punctuation">}</span><br>        <span class="token punctuation">{</span><span class="token operator">%</span> unless post<span class="token punctuation">.</span>excluded_in_search <span class="token operator">%</span><span class="token punctuation">}</span><br>          <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">if</span> added <span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token operator">%</span> endif <span class="token operator">%</span><span class="token punctuation">}</span><br>          <span class="token punctuation">{</span><span class="token operator">%</span> assign added <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token operator">%</span><span class="token punctuation">}</span><br>          <span class="token property string-property">"{{ post.url | slugify }}"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>            <span class="token property string-property">"id"</span><span class="token operator">:</span> <span class="token string">"{{ post.url | slugify }}"</span><span class="token punctuation">,</span><br>            <span class="token property string-property">"title"</span><span class="token operator">:</span> <span class="token string">"{{ post.title | xml_escape }}"</span><span class="token punctuation">,</span><br>            <span class="token property string-property">"categories"</span><span class="token operator">:</span> <span class="token string">"{{ post.categories | join: "</span><span class="token punctuation">,</span> <span class="token string">" | xml_escape }}"</span><span class="token punctuation">,</span><br>            <span class="token property string-property">"tags"</span><span class="token operator">:</span> <span class="token string">"{{ post.tags | join: "</span><span class="token punctuation">,</span> <span class="token string">" | xml_escape }}"</span><span class="token punctuation">,</span><br>            <span class="token property string-property">"url"</span><span class="token operator">:</span> <span class="token string">" {{ post.url | xml_escape }}"</span><span class="token punctuation">,</span><br>            <span class="token property string-property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span> post<span class="token punctuation">.</span>content <span class="token operator">|</span> strip_html <span class="token operator">|</span> replace_regex<span class="token operator">:</span> <span class="token string">"[\s/\n]+"</span><span class="token punctuation">,</span><span class="token string">" "</span> <span class="token operator">|</span> strip <span class="token operator">|</span> jsonify <span class="token punctuation">}</span><span class="token punctuation">}</span><br>          <span class="token punctuation">}</span><br>          <span class="token punctuation">{</span><span class="token operator">%</span> assign added <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token operator">%</span><span class="token punctuation">}</span><br>        <span class="token punctuation">{</span><span class="token operator">%</span> endunless <span class="token operator">%</span><span class="token punctuation">}</span><br>      <span class="token punctuation">{</span><span class="token operator">%</span> endif <span class="token operator">%</span><span class="token punctuation">}</span><br>    <span class="token punctuation">{</span><span class="token operator">%</span> endfor <span class="token operator">%</span><span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ site.baseurl }}/js/lunr.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{{ site.baseurl }}/js/search.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>Note that, you can change some personal settings in the files <code>search.js</code> and <code>search.html</code> if you like.<p><strong>Remark</strong>: if your site has so many posts, you can remove the last line (<code>"content"....</code>) to ignore the content from the search. You can even add "keywords" (resplace for "content") and put that "keywords" in the frontmatter, change also the term "content" in <code>search.js</code> by "keywords". That's what I did on this site.</div><script type=application/ld+json>{
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Jekyll + Liquid",
        "image": [],
        "author": "Anh-Thi DINH",
        "url": "https://dinhanhthi.com/jekyll-tips/",
        "mainEntityOfPage": "https://dinhanhthi.com/jekyll-tips/",
        "datePublished": "03-09-2019",
        "dateModified": "2019-09-03",
        "description": "This note is used for you who have already had the basic idea about jekyll and how to create a jekyll site. This note is only for quickly..."
      }</script></article></main><footer><a href=/ target=_blank>Thi Â Â©Â  2022 </a>Â â€¢Â  <a href=/about-the-notes/ >About this site </a>Â â€¢Â  <a href=https://photos.app.goo.gl/9OVEkdTjmtRPg7vC3 target=_blank>My sketches </a>Â â€¢Â  <a href=https://goo.gl/photos/yQXdQws1LLS16x5v5 target=_blank>I cook </a>Â â€¢Â  <a href=/support-thi/ ><img alt="Support Thi" class=keep-original src=/img_src/icons/coffee.svg height=16 width=auto> Support Thi</a></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js></script><script src=/src/js/components/clipboard.min.js></script><script src="/src/js/main.min.js?hash=d3b51a19b7" async defer></script><a href=/support-thi/ class="floating-button tooltip" id=buy-me-a-coffee><img alt="Support Thi" class=keep-original src=/img_src/icons/coffee.svg> <span class=tooltiptext>Support Thi</span> </a><button class="floating-button tooltip" id=scroll-top-btn><img alt="Scroll to top" class=keep-original src=/img_src/to-top.webp> <span class=tooltiptext>Top</span></button>