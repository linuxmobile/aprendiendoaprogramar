<!doctype html><html domain=.com lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="" http-equiv=Content-Security-Policy><link href=/favicon.svg rel=icon type=image/svg+xml><meta content=#f9c412 name=theme-color><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name=robots><title>Python Installation | Note of Thi</title><meta content="Python Installation | Note of Thi" prefix=og:http://ogp.me/ns# property=og:title><meta content="Windows ✅ Update 11/Sep/20: Install python on WSL2 using Miniconda. Other options (directly install)Download and install Anaconda or smaller..." name=description><meta content="Windows ✅ Update 11/Sep/20: Install python on WSL2 using Miniconda. Other options (directly install)Download and install Anaconda or smaller..." prefix=og:http://ogp.me/ns# property=og:description><meta content=summary_large_image name=twitter:card><meta content=@dinhanhthi name=twitter:site><meta content=@dinhanhthi name=twitter:creator><meta content=https://dinhanhthi.com/img_src/cover.png prefix=og:http://ogp.me/ns# property=og:image><meta content=article prefix=og:http://ogp.me/ns# property=og:type><link href=https://dinhanhthi.com/python-installation/ rel=canonical><meta content=https://dinhanhthi.com/python-installation/ prefix=og:http://ogp.me/ns# property=og:url><meta content=no-referrer-when-downgrade name=referrer><link href=/feed/feed.xml rel=alternate type=application/atom+xml title="🔥 Anh-Thi DINH"><link href=/ rel=preconnect crossorigin><style>body {
      visibility: hidden;
      opacity: 0;
    }</style><noscript><style>body {
        visibility: visible;
        opacity: 1;
      }</style></noscript><script csp-hash>if (/Mac OS X/.test(navigator.userAgent))
      document
        .documentElement
        .classList
        .add('apple')</script><link href=/src/css/main.css rel=stylesheet type=text/css><style>@font-face{font-display:swap;font-family:'fontello';src:url(/fontello/font/fontello.eot?46432155);src:url(/fontello/font/fontello.eot?46432155#iefix) format('embedded-opentype'),url(/fontello/font/fontello.woff2?46432155) format('woff2'),url(/fontello/font/fontello.woff?46432155) format('woff'),url(/fontello/font/fontello.ttf?46432155) format('truetype'),url(/fontello/font/fontello.svg?46432155#fontello) format('svg');font-weight:400;font-style:normal}[class*=" icon-"]:before,[class^=icon-]:before{font-family:"fontello";font-style:normal;font-weight:400;speak:never;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-doc:before{content:'\e800'}.icon-doc-add:before{content:'\e801'}.icon-stats:before{content:'\e802'}.icon-tags:before{content:'\e803'}.icon-like:before{content:'\e804'}.icon-cog-alt:before{content:'\e805'}.icon-project:before{content:'\e806'}.icon-mooc:before{content:'\e807'}.icon-dl:before{content:'\e808'}.icon-ml:before{content:'\e809'}.icon-python:before{content:'\e80a'}.icon-nlp:before{content:'\e80b'}.icon-r-lang:before{content:'\e80c'}.icon-skill:before{content:'\e80d'}.icon-js-solid:before{content:'\e80e'}.icon-game:before{content:'\e80f'}.icon-web:before{content:'\e810'}.icon-algo:before{content:'\e811'}.icon-mooc-solid:before{content:'\e812'}.icon-chatbot:before{content:'\e813'}.icon-web-dev:before{content:'\e814'}.icon-data:before{content:'\e815'}.icon-skill-solid:before{content:'\e816'}.icon-python-solid:before{content:'\e817'}.icon-project-solid:before{content:'\e818'}.icon-js:before{content:'\e819'}.icon-rocket:before{content:'\e81a'}.icon-ml-solid:before{content:'\e81b'}.icon-game-solid:before{content:'\e81c'}.icon-dl-solid:before{content:'\e81d'}.icon-nlp-solid:before{content:'\e81e'}.icon-web-solid:before{content:'\e81f'}.icon-algo-solid:before{content:'\e820'}.icon-puzzle-outline:before{content:'\e821'}.icon-ng:before{content:'\e822'}.icon-ok:before{content:'\e823'}.icon-link:before{content:'\e824'}.icon-down-circle:before{content:'\e826'}.icon-api:before{content:'\e828'}.icon-right-circle:before{content:'\e829'}.icon-down-open:before{content:'\e82a'}.icon-right-open:before{content:'\e82b'}.icon-copy:before{content:'\f0c5'}.icon-gamepad:before{content:'\f11b'}.icon-fork:before{content:'\f126'}.icon-mlops-solid:before{content:'\f135'}.icon-edu-solid:before{content:'\f19d'}.icon-others-solid:before{content:'\f1b3'}.icon-ds-solid:before{content:'\f1c0'}.icon-chart-area:before{content:'\f1fe'}.icon-chart-pie:before{content:'\f200'}.icon-ts:before{content:'\f201'}.icon-clone:before{content:'\f24d'}</style><body><script>function showTheme() {
        const btn = document.getElementById("toggle-dark-light");
        let toggleIcon = btn.firstElementChild;
        const currentTheme = localStorage.getItem("theme");
        if (currentTheme === "dark") {
          document
            .body
            .classList
            .toggle("dark-theme");
          toggleIcon.src = "/img_src/nav/sun.svg";
        } else if (currentTheme === "light") {
          document
            .body
            .classList
            .toggle("light-theme");
          toggleIcon.src = "/img_src/nav/moon.svg";
        }
      }
      function showContent() {
        document.body.style.visibility = 'visible';
        document.body.style.opacity = 1;
      }
      window.addEventListener('DOMContentLoaded', (event) => {
        showTheme();
        showContent();
      });</script><header class="wave-border wave-border-post"><nav><div id=nav><a href=/ class="nav-item no-effect"><img alt=home class=keep-original src=/img_src/nav/home.svg height=18 width=18> <span>Thi</span> </a><a href=/about/ class="nav-item no-effect"><img alt=about class=keep-original src=/img_src/nav/about.svg height=15 width=15> <span>About</span></a><div class=nav-search id=nav-search><form><input aria-label='search notes (press "/" to focus & "ESC" to lose)' autocomplete=off class=nav-search__input id=nav-search__input onfocusin=inFocus(this) placeholder='search notes (press "/" to focus & "ESC" to lose)' type=search></form><div id=nav-search__result-container style="display: none;"><ul id=nav-search__ul></ul><div id=nav-search__no-result style="display: none;"><p>No results found.</div></div></div><span class="nav-item no-effect nav-dark-light" href="" id=toggle-dark-light><img alt=light-mode class=keep-original src=/img_src/nav/moon.svg height=20 width=20> </span><a href=https://github.com/dinhanhthi class="nav-item no-effect nav-github" target=_blank><img alt=github class=keep-original src=/img_src/nav/github.svg height=20 width=20></a></div><div class=reading-progress-container><div id=reading-progress aria-hidden=true></div></div></nav><script>var divNavSearch=document.getElementById("nav-search"),divRes=document.getElementById("nav-search__result-container"),ulRes=document.getElementById("nav-search__ul");function inFocus(e){""!=e.value&&(divRes.style.display="block")}var isOnDiv=!1;divRes.addEventListener("mouseover",(function(){isOnDiv=!0})),divRes.addEventListener("mouseout",(function(){isOnDiv=!1}));var inputSearch=document.getElementById("nav-search__input");window.addEventListener("click",(function(){ulRes.getElementsByTagName("li").length>=1&&isOnDiv||(divRes.style.display="none")})),inputSearch.addEventListener("click",(e=>{e.stopPropagation()}));const addSelected=e=>{ulRes.querySelectorAll("li").forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected")};var isInView=(e,t)=>{var n=e.offsetTop+e.offsetHeight-t.scrollTop>t.offsetHeight;return e.offsetTop<t.scrollTop?"above":n?"below":"in"};const updateScroll=(e,t)=>{e.offsetTop+e.offsetHeight-t.scrollTop>t.offsetHeight&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.offsetHeight),e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop)};document.onkeydown=e=>{checkInInput=document.activeElement==inputSearch,"/"!==e.key||checkInInput||(e.stopPropagation(),e.preventDefault(),inputSearch.focus())},document.addEventListener("focusin",(e=>{divNavSearch.contains(e.target)||(divRes.style.display="none")})),inputSearch.onkeydown=e=>{if("Enter"===e.key){e.stopPropagation(),e.preventDefault();var t=ulRes.querySelector('li[class*="selected"]');window.location.href=t.getElementsByClassName("item__content")[0].firstChild.firstChild.href}"Escape"===e.key&&(divRes.style.display="none",inputSearch.blur())},divNavSearch.onkeydown=e=>{if(hasResult=ulRes.getElementsByTagName("li").length>=1,hasResult){["ArrowUp","ArrowDown"].indexOf(e.key)>-1&&e.preventDefault();var t=ulRes.firstChild,n=ulRes.lastChild,s=ulRes.querySelector('li[class*="selected"]');switch(e.key){case"ArrowUp":nextLi=s&&s!=t?s.previousSibling:n,addSelected(nextLi),s=nextLi,updateScroll(s,divRes);break;case"ArrowDown":nextLi=s&&s!=n?s.nextSibling:t,addSelected(nextLi),s=nextLi,updateScroll(s,divRes)}}};</script><div class=header-container><div class="header-logo post-layout"><img alt="Python Installation" class=keep-original src=/img/about/python.svg height=55 width=55></div><h1>Python Installation</h1><div id=more-info><div id=note-tag><a href=/tags/python/ id=category }>Python</a></div><div id=last-modified>Last modified 6 months ago / <a href=https://github.com/dinhanhthi/notes/edit/master/./posts/python/2021-10-03-python-installation.md>Edit on Github</a></div></div></div></header><main class="" id=main-wrapper><article class=post-container><div class="container mt-2 normal page-note"><div class="toc toc-common toc-js"><div class=ol-container><div class=toc-heading>In this note</div><ol><li><a href=#windows>Windows</a><li><a href=#macos>MacOS</a><li><a href=#linux-(ubuntu)>Linux (Ubuntu)</a><li><a href=#jupyer-notebook>Jupyer Notebook</a><li><a href=#check-gpu>Check GPU</a><li><a href=#pip>pip</a><ol><li><a href=#update-pip>Update pip</a><li><a href=#install-packages-with-pip>Install packages with pip</a></ol><li><a href=#pip-vs-conda%3F>pip vs conda?</a><li><a href=#python-virtual-environnement>Python virtual environnement</a><li><a href=#pyenv>pyenv</a><li><a href=#conda>Conda</a><ol><li><a href=#install-%2F-update-conda>Install / Update conda</a><li><a href=#install-packages-with-conda>Install packages with conda</a><li><a href=#environment>Environment</a><li><a href=#kernel-2-%26-3-for-jupyter-notebook>Kernel 2 & 3 for Jupyter Notebook</a><li><a href=#conda-revisions>Conda Revisions</a></ol><li><a href=#error%3F>Error?</a></ol></div></div><h2 id=windows tabindex=-1>Windows <a href=#windows class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>✅ <strong>Update 11/Sep/20</strong>: Install python <a href=/docker-wsl2-windows>on WSL2</a> using <a href=#linux-ubuntu><strong>Miniconda</strong></a>.<div class=hsbox><div class=hs__title>Other options (directly install)</div><div class=hs__content><p>Download and install <a href=https://www.anaconda.com/distribution/ >Anaconda</a> or smaller version <a href=https://docs.conda.io/en/latest/miniconda.html>Miniconda</a>.<pre class=language-bash><code class=language-bash><span class="token comment"># default installed dir</span><br>C:<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Anaconda3</code></pre><p>Add to <em>System Environment Variables</em>:<pre class=language-bash><code class=language-bash>C:<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Anaconda3<br>C:<span class="token punctuation">\</span>ProgramData<span class="token punctuation">\</span>Anaconda3<span class="token punctuation">\</span>Scripts</code></pre><p>If you don't wanna use Anaconda and <a href=https://www.python.org/downloads/ >install it by yourself</a>, add this:<pre class=language-bash><code class=language-bash>C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span><span class="token operator">&lt;</span>user<span class="token operator">></span><span class="token punctuation">\</span>AppData<span class="token punctuation">\</span>Roaming<span class="token punctuation">\</span>Python<span class="token punctuation">\</span>Python36<span class="token punctuation">\</span>Scripts</code></pre><p>(<em>You can find <code>C:\...\Roaming</code> by typing <code>%appdata%</code> in the Windows Explorer's navigation bar</em>)<p>App to run: <a href=https://cmder.net/ >cmder</a> (use <a href=/files/cmderSetting.xml>this setting</a> file).</div></div><h2 id=macos tabindex=-1>MacOS <a href=#macos class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><div class=hsbox><div class=hs__title><strong>If you use Apple M1</strong> (updated on 21/02/2021)?</div><div class=hs__content><div class=warning><p>AI things are limited! Pytorch is not available for M1 natively (If you wanna use it with Rosetta's help, read <a href=https://naturale0.github.io/machine%20learning/setting-up-m1-mac-for-both-tensorflow-and-pytorch>this article</a>)!</div><div class=info><p>💡 If you wanna install python2 environment, don't use <code>conda create ...</code>, use <code>pyenv</code> instead! Read <a href=#pyenv>this section</a> for more.</div><p>👉 <a href=https://github.com/apple/tensorflow_macos/issues/153>Instructions to install TensorFlow in a Conda Environment</a><pre class=language-bash><code class=language-bash>conda init <span class="token comment"># after installing</span><br><span class="token comment"># restart terminal after installing</span><br><span class="token comment"># check if ok</span><br><span class="token function">which</span> python <span class="token comment"># should return "/Users/thi/miniforge3/bin/python"</span><br><br><span class="token comment"># manually install package</span><br>conda <span class="token function">install</span> <span class="token operator">&lt;</span>pkg name<span class="token operator">></span><br>conda <span class="token function">install</span> -y <span class="token operator">&lt;</span>pkg<span class="token operator">></span> <span class="token comment"># auto accept</span></code></pre><p>If you use conda (miniforge3), use the instructions in previous link to install tensorflow (not about the link to "newest" version of tensorflow-macos). If you wanna use python on your mac (using <code>venv</code>), check below link.<p>👉 <a href=https://github.com/apple/tensorflow_macos>Mac-optimized TensorFlow and TensorFlow Addons</a><p><strong>Remark</strong>: After installing, check the version of <code>tensorflow-macos</code> (not <code>tensorflow</code>)<pre class=language-bash><code class=language-bash>pip show tensorflow-macos</code></pre><p><strong>Remark</strong>: If you wanna install some package, use <code>conda install -y &lt;pkg></code>, then check its version by <code>pip show &lt;pkg></code>.<p>👉 Using <a href=https://github.com/dinhanhthi/scripts/blob/master/settings/macos/requirement_m1.txt>my personal requirement file</a>.<pre class=language-bash><code class=language-bash>conda <span class="token function">install</span> --file requirement_m1.txt</code></pre></div></div><p>By default, Python 2 is already installed on MacOS, you can check this by<pre class=language-bash><code class=language-bash>python --version<br><span class="token comment"># to be sure, check if python3 is installed?</span><br>python3 --version</code></pre><div class=hsbox><div class=hs__title>In case you wanna make Python 3 as default on MacOS (For using things in <a href=/visual-studio-code/ >VSCode</a>, for example).</div><div class=hs__content><pre class=language-bash><code class=language-bash><span class="token comment"># Make sure: unlink to conda</span><br>conda deactivate<br><span class="token comment"># Check current version</span><br>python --version <span class="token comment"># something: Python 2.7.18</span><br><span class="token function">which</span> python <span class="token comment"># should: /usr/local/bin/python</span><br><br><span class="token comment"># Suppose python3 is in</span><br><span class="token comment"># /Users/thi/miniforge3/bin/python</span><br><span class="token function">sudo</span> <span class="token function">ln</span> -s -f /Users/thi/miniforge3/bin/python /usr/local/bin/python<br><span class="token comment"># Type your password</span><br><span class="token comment"># Refresh current terminal</span><br><span class="token function">touch</span> ~/.zshrc<br><span class="token comment"># or</span><br><span class="token function">touch</span> ~/.bashrc<br><span class="token comment"># Check again</span><br>python --version <span class="token comment"># something: Python 3.9.1</span></code></pre></div></div><h2 id=linux-(ubuntu) tabindex=-1>Linux (Ubuntu) <a href=#linux-(ubuntu) class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>Python is already installed on Ubuntu. You would like to install Anaconda, <a href=https://www.anaconda.com/distribution/ >download and install</a> it.<p>Wanna install <strong>Miniconda</strong> instead? 👉 Download<a href=https://docs.conda.io/en/latest/miniconda.html#linux-installers> <code>.sh</code> file</a> and install inside Linux environement (including <a href=/docker-wsl2-windows>WSL2</a>).<div class=hsbox><div class=hs__title>Miniconda or Conda? (<a href="https://stackoverflow.com/questions/45421163/anaconda-vs-miniconda#:~:text=Note%20that%20Conda%20is%20the,Anaconda%20and%20Miniconda%20are%20distributions.&text=Miniconda%20is%20essentially%20an%20installer,Source.">ref</a>)</div><div class=hs__content><p>Note that <a href=https://conda.io/projects/conda/en/latest/ >Conda</a> is the <em>package manager</em> (e.g. <code>conda list</code> displays all installed packages in the environment), whereas Anaconda and Miniconda are distributions.<p>Choose Anaconda if you:<ul><li>Are new to conda or Python<li>Like the convenience of having Python and over 1500 scientific packages automatically installed at once<li>Have the time and disk space (a few minutes and 3 GB), and/or<li>Don’t want to install each of the packages you want to use individually.</ul><p>Choose Miniconda if you:<ul><li>Do not mind installing each of the packages you want to use individually.<li>Do not have time or disk space to install over 1500 packages at once, and/or<li>Just want fast access to Python and the conda commands, and wish to sort out the other programs later.</ul></div></div><div class=hsbox><div class=hs__title>Add conda to <code>$PATH</code></div><div class=hs__content><pre class=language-bash><code class=language-bash><span class="token comment"># ADD CONDA TO $PATH</span><br><br><span class="token function">nano</span> ~/.profile<br><span class="token comment"># find where conda is installed and then</span><br><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token constant environment">PATH</span></span><span class="token operator">=</span>/home/<span class="token operator">&lt;</span>user<span class="token operator">></span>/anaconda3/bin:<span class="token constant environment">$PATH</span><br><span class="token builtin class-name">source</span> ~/.profile<br><br><span class="token comment"># (if you use zsh)</span><br><span class="token function">nano</span> ~/.zshrc<br><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token constant environment">PATH</span></span><span class="token operator">=</span>/home/<span class="token operator">&lt;</span>user<span class="token operator">></span>/anaconda3/bin:<span class="token constant environment">$PATH</span><br><span class="token builtin class-name">source</span> ~/.zshrc<br><br><span class="token comment"># check</span><br><span class="token function">which</span> python<br><span class="token comment"># should return: /home/&lt;user>/anaconda3/bin/python</span><br><br><span class="token comment"># check version</span><br>conda --version</code></pre></div></div><div class=hsbox><div class=hs__title>Make a right version</div><div class=hs__content><pre class=language-bash><code class=language-bash><span class="token builtin class-name">alias</span> <span class="token assign-left variable">python</span><span class="token operator">=</span>python3<br><span class="token builtin class-name">alias</span> <span class="token assign-left variable">pip</span><span class="token operator">=</span>pip3<br><span class="token comment"># for ubuntu >=20.04</span><br><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python-is-python3<br><span class="token comment"># prevent Python 2 from being installed as a dependency of something</span><br><span class="token function">sudo</span> apt-mark hold python2 python2-minimal python2.7 python2.7-minimal libpython2-stdlib libpython2.7-minimal libpython2.7-stdlib</code></pre></div></div><h2 id=jupyer-notebook tabindex=-1>Jupyer Notebook <a href=#jupyer-notebook class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>👉 Note: <a href=/jupyter-notebook/ >Jupyter notebook</a>.<div class=success><p>If you use <a href=/visual-studio-code/ >VSCode</a>, you should use its Jupyter Notebook extension, it's quick, clean and very easy to use.</div><p>Anaconda contains JN in it, no need to install it again. <code>cd</code> to the folder you wanna work on and run<div class=code-2cols><pre class=language-bash><code class=language-bash><span class="token comment"># RUN (after installing Anaconda)</span><br>python -m notebook</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># If `ImportError: DLL load failed`</span><br>active base <span class="token comment"># active env "base" in anaconda</span><br>jupyter notebook</code></pre></div><p>The <code>-m</code> option allows you to execute a module or package as a script<sup><a href=https://www.quora.com/What-does-m-mean-in-the-terminal-command-Python-m-pip-install-openpyxl target=_blank rel="noopener noreferrer">[ref]</a></sup>.<pre class=language-bash><code class=language-bash><span class="token comment"># If `import _ssl`, `ImportError`</span><br><span class="token builtin class-name">set</span> <span class="token assign-left variable">CONDA_DLL_SEARCH_MODIFICATION_ENABLE</span><span class="token operator">=</span><span class="token number">1</span><br>python -m notebook</code></pre><h2 id=check-gpu tabindex=-1>Check GPU <a href=#check-gpu class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>👉 Note: <a href=/pytorch#problem-with-cuda-version>Pytorch</a>.<pre class=language-python><code class=language-python><span class="token comment"># with pytorch</span><br><span class="token keyword">import</span> torch<br><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'cuda is available? '</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>is_available<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'device_count: '</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>device_count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'current device: '</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>current_device<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'device name: '</span><span class="token punctuation">,</span> torch<span class="token punctuation">.</span>cuda<span class="token punctuation">.</span>get_device_name<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><pre class=language-python><code class=language-python><span class="token comment"># with tensorflow</span><br><span class="token keyword">import</span> tensorflow <span class="token keyword">as</span> tf<br><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Num GPUs Available: "</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tf<span class="token punctuation">.</span>config<span class="token punctuation">.</span>experimental<span class="token punctuation">.</span>list_physical_devices<span class="token punctuation">(</span><span class="token string">'GPU'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br></code></pre><h2 id=pip tabindex=-1>pip <a href=#pip class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><h3 id=update-pip tabindex=-1>Update pip <a href=#update-pip class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><div class=code-2cols><pre class=language-bash><code class=language-bash><span class="token comment"># Check pip version</span><br>pip -V</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># update pip</span><br>easy_install -U pip</code></pre></div><div class=hsbox><div class=hs__title>Problem?</div><div class=hs__content><ul><li>If you meet <code>AttributeError: 'NoneType' object has no attribute 'bytes'</code> when updating <code>pip</code>, check the version and make sure that there is only 1 pip on your computer and then use <code>easy_install -U pip</code> (don't forget to <code>activate</code>)<li>If there is a problem with <code>python -m pip install --upgrade pip</code>, use <code>easy_install</code>!</ul></div></div><h3 id=install-packages-with-pip tabindex=-1>Install packages with pip <a href=#install-packages-with-pip class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>Install <a href=https://pypi.org/project/pip/ >pip</a> (It's actually installed with Anaconda). If you wanna upgrade it to the latest version:<pre class=language-bash><code class=language-bash>python -m pip <span class="token function">install</span> --user --upgrade pip <span class="token comment"># install for current user only</span><br>python -m pip <span class="token function">install</span> --upgrade pip <span class="token comment"># need to run cmder as administrator</span></code></pre><div class=hsbox><div class=hs__title><code>AttributeError: 'NoneType' object</code></div><div class=hs__content><p>First, <code>activate &lt;env></code> and then using <code>easy_install -U pip</code>. You can check the version of pip by <code>pip -V</code>.</div></div><pre class=language-bash><code class=language-bash><span class="token comment"># INSTALL A PACKAGE</span><br>pip <span class="token function">install</span> <span class="token operator">&lt;</span>package<span class="token operator">></span> <span class="token comment"># admin &lt;-- SHOULDN'T!!!</span><br>pip <span class="token function">install</span> --user <span class="token operator">&lt;</span>package<span class="token operator">></span> <span class="token comment"># current user only</span></code></pre><div class=col-2-equal><pre class=language-bash><code class=language-bash><span class="token comment"># LIST ALL INSTALLED PACKAGES</span><br>pip freeze</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># REMOVE</span><br>pip uninstall <span class="token operator">&lt;</span>package<span class="token operator">></span><br>pip uninstall --user <span class="token operator">&lt;</span>package<span class="token operator">></span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># CHECK VERSION OF A PACKAGE</span><br>pip show <span class="token operator">&lt;</span>package<span class="token operator">></span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># version &lt;=</span><br>pip3 <span class="token function">install</span> -U <span class="token string">"pillow&lt;7"</span></code></pre></div><pre class=language-bash><code class=language-bash><span class="token comment"># Install a package from a git repository</span><br>pip <span class="token function">install</span> git+https://github.com/TimeSynth/TimeSynth.git</code></pre><p>If install packages with <code>pip</code>, they are installed in which environment of conda? Where <code>pip</code> is executed from.<div class=code-output-flex><pre class=language-bash><code class=language-bash><span class="token function">which</span> python<br><span class="token function">which</span> pip<br><br>conda info --envs<br><span class="token comment"># or</span><br><span class="token comment"># conda env list</span></code></pre><pre><code>/c/ProgramData/Anaconda3/python
/c/ProgramData/Anaconda3/Scripts/pip

# conda environments:
base                  *  C:\ProgramData\Anaconda3
fastai                   C:\Users\thi\.conda\envs\fastai
</code></pre></div><p>Install packages with requirement file,<pre class=language-bash><code class=language-bash>pip <span class="token function">install</span> -r requirements.txt</code></pre><div class=hsbox><div class=hs__title>An example of requirement file</div><div class=hs__content><pre class=language-bash><code class=language-bash><span class="token assign-left variable">geopandas</span><span class="token operator">==</span><span class="token number">0.4</span>.1<br><span class="token assign-left variable">grpcio</span><span class="token operator">==</span><span class="token number">1.27</span>.1<br>grpcio-tools<span class="token operator">==</span><span class="token number">1.27</span>.1<br><span class="token assign-left variable">h5py</span><span class="token operator">==</span><span class="token number">2.10</span>.0<br><span class="token assign-left variable">isodate</span><span class="token operator">==</span><span class="token number">0.6</span>.0<br><span class="token assign-left variable">PyYAML</span><span class="token operator">==</span><span class="token number">5.3</span>.1</code></pre></div></div><h2 id=pip-vs-conda%3F tabindex=-1><code>pip</code> vs <code>conda</code>? <a href=#pip-vs-conda%3F class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>👌 <strong>Fact</strong>: each conda environment has a <code>pip</code>, just install package in each env with the corresponding <code>pip</code>.<pre class=language-bash><code class=language-bash>conda activate base<br><span class="token function">which</span> pip <span class="token comment"># /Users/thi/miniforge3/bin/pip</span><br><br>conda activate working<br><span class="token function">which</span> pip <span class="token comment"># /Users/thi/miniforge3/envs/working/bin/pip</span></code></pre><div class=hsbox><div class=hs__title>Old comments</div><div class=hs__content><p>Differences:<sup><a href=https://jakevdp.github.io/blog/2017/12/05/installing-python-packages-from-jupyter target=_blank rel="noopener noreferrer">[ref]</a></sup><ul><li><code>pip</code> installs <strong>python packages</strong> in <strong>any environment</strong>.<li><code>conda</code> installs <strong>any package</strong> in <strong>conda environments</strong>.</ul><p>Which one to be used?<sup><a href=https://jakevdp.github.io/blog/2017/12/05/installing-python-packages-from-jupyter target=_blank rel="noopener noreferrer">[ref]</a></sup><ul><li>If you installed Python using Anaconda or Miniconda, then use <code>conda</code> to install Python packages. If <code>conda</code> tells you the package you want doesn't exist, then use <code>pip</code> (or try <code>conda-forge</code>, which has more packages available than the default conda channel).<li>If you installed Python any other way (from source, using <code>pyenv</code>, <code>virtualenv</code>, etc.), then use <code>pip</code> to install Python packages</ul></div></div><h2 id=python-virtual-environnement tabindex=-1>Python virtual environnement <a href=#python-virtual-environnement class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>👌 <strong>Fact</strong>: For a simple life, use conda environment!<div class=hsbox><div class=hs__title>Click to show</div><div class=hs__content><p>👉🏻 Main guide is <a href=https://packaging.python.org/tutorials/installing-packages/#creating-virtual-environments>here</a>.<pre class=language-bash><code class=language-bash><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> python3-venv<br><br><span class="token comment"># cd to &lt;DIR> where python venv stored</span><br>python3 -m venv <span class="token operator">&lt;</span>DIR<span class="token operator">></span><br><br><span class="token comment"># activate</span><br>tutorial-env<span class="token punctuation">\</span>Scripts<span class="token punctuation">\</span>activate.bat <span class="token comment"># windows</span><br><span class="token builtin class-name">source</span> <span class="token operator">&lt;</span>DIR<span class="token operator">></span>/bin/activate <span class="token comment"># linux</span><br><br><span class="token comment"># deactivate</span><br>deactivate</code></pre><p>To detele, just remove the corresponding folder, i.e., <code>&lt;DIR></code>.</div></div><h2 id=pyenv tabindex=-1>pyenv <a href=#pyenv class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><p>👉🏻 Read more <a href=https://stackoverflow.com/questions/58044214/installing-anaconda-with-pyenv-unable-to-configure-virtual-environment>on SO</a>. Note that, these methods didn't work on MacOS M1.<h2 id=conda tabindex=-1>Conda <a href=#conda class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><h3 id=install-%2F-update-conda tabindex=-1>Install / Update conda <a href=#install-%2F-update-conda class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>👉 Read more in <a href=#linux-(ubuntu)>this section</a>.<div class=col-2-equal><pre class=language-bash><code class=language-bash><span class="token comment"># INSTALL CONDA BY PIP (without Anaconda)</span><br>pip <span class="token function">install</span> conda</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># UPDATE CONDA</span><br>conda --version <span class="token comment"># check version</span><br>conda update -n base -c defaults conda</code></pre></div><div class=hsbox><div class=hs__title>Error <code>TypeError: LoadLibrary() argument 1 must be str, not None</code></div><div class=hs__content><p>Try to activate the environment <code>base</code> before running above line.<pre class=language-bash><code class=language-bash>activate base <span class="token comment"># on Windows</span><br><span class="token builtin class-name">source</span> activate base <span class="token comment"># on MacOS</span></code></pre></div></div><h3 id=install-packages-with-conda tabindex=-1>Install packages with conda <a href=#install-packages-with-conda class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>👌 <strong>Fact</strong>: Activate an environment conda, use its <code>pip</code> to install any package.<div class=hsbox><div class=hs__title>Like using <code>conda</code>?</div><div class=hs__content><pre class=language-bash><code class=language-bash><span class="token comment"># INSTALL</span><br>activate <span class="token operator">&lt;</span>env<span class="token operator">></span> <span class="token comment"># you need to activate an environment first</span><br>conda <span class="token function">install</span> <span class="token operator">&lt;</span>package<span class="token operator">></span> <span class="token comment"># install for &lt;env> only</span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># UPDATE</span><br>acctivate <span class="token operator">&lt;</span>env<span class="token operator">></span> <span class="token comment"># choose an env first</span><br>conda update <span class="token operator">&lt;</span>package<span class="token operator">></span> <span class="token comment"># ud package in that env</span></code></pre><div class=col-2-equal><pre class=language-bash><code class=language-bash><span class="token comment"># LIST ALL INSTALLED PACKAGES</span><br>conda list</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># check version of a package</span><br>pip show <span class="token operator">&lt;</span>pkg<span class="token operator">></span></code></pre></div><pre class=language-bash><code class=language-bash><span class="token comment"># Update packages listed in an env file to current env,</span><br>conda <span class="token function">env</span> update -n <span class="token operator">&lt;</span>env<span class="token operator">></span> -f /path/to/<span class="token operator">&lt;</span>file<span class="token operator">></span>.yml</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># example of yml file</span><br>name: stats<br>dependencies:<br>    - <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.6</span><br>    - <span class="token assign-left variable">geopandas</span><span class="token operator">==</span><span class="token number">0.4</span>.1</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># install packages with requirements.txt</span><br>conda <span class="token function">install</span> --file requirements.txt</code></pre></div></div><h3 id=environment tabindex=-1>Environment <a href=#environment class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>👉 Check an <a href=https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html>official doc</a> or <a href=https://towardsdatascience.com/a-guide-to-conda-environments-bc6180fc533>this useful post</a>.<div class=hsbox><div class=hs__title>Creating</div><div class=hs__content><pre class=language-bash><code class=language-bash><span class="token comment"># Create a new environment with python version 3.7</span><br>conda create -n <span class="token operator">&lt;</span>env-name<span class="token operator">></span> <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.7</span> anaconda<br><span class="token comment"># created in /home/thi/miniconda3/envs/&lt;env-name>/</span><br><span class="token builtin class-name">source</span> activate <span class="token operator">&lt;</span>env-name<span class="token operator">></span> <span class="token comment"># activate this env</span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># The same python version with current shell's Python interpreter</span><br>conda create -n <span class="token operator">&lt;</span>env-name<span class="token operator">></span> python</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># with addtional packages (python will be automatically installed)</span><br>conda create -n <span class="token operator">&lt;</span>env-name<span class="token operator">></span> <span class="token operator">&lt;</span>package<span class="token operator"><span class="token file-descriptor important">1</span>></span> <span class="token operator">&lt;</span>package<span class="token operator"><span class="token file-descriptor important">2</span>></span><br><span class="token comment"># with version</span><br>conda create -n <span class="token operator">&lt;</span>env-name<span class="token operator">></span> <span class="token operator">&lt;</span>package<span class="token operator"><span class="token file-descriptor important">1</span>></span><span class="token operator">=</span><span class="token number">1.16</span> <span class="token operator">&lt;</span>package<span class="token operator"><span class="token file-descriptor important">2</span>></span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># in different directory</span><br>conda create --prefix /path/to/<span class="token operator">&lt;</span>env-name<span class="token operator">></span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># create from file &lt;file>.yml</span><br>conda <span class="token function">env</span> create -n <span class="token operator">&lt;</span>env<span class="token operator">></span> -f /path/to/<span class="token operator">&lt;</span>file<span class="token operator">></span>.yml</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># Clone from another env</span><br>conda create --name <span class="token operator">&lt;</span>cloned-env<span class="token operator">></span> --clone <span class="token operator">&lt;</span>env<span class="token operator">></span></code></pre></div></div><div class=warning><p>Most of below commands are assumed to be run in an environment named <code>env</code> which is already activated. If you don't activate any environment before, use an alternative instead. For example,<pre class=language-bash><code class=language-bash>conda update pandas             <span class="token comment"># &lt;env> activated</span><br>conda update -n <span class="token operator">&lt;</span>env<span class="token operator">></span> pandas    <span class="token comment"># &lt;env> isn't activated</span><br>conda update -p /path/to/<span class="token operator">&lt;</span>env<span class="token operator">></span>  <span class="token comment"># &lt;env> isn't in the default directory of conda</span></code></pre><pre class=language-bash><code class=language-bash>conda <span class="token function">env</span> <span class="token builtin class-name">export</span> -f <span class="token operator">&lt;</span>file<span class="token operator">></span>.yml                       <span class="token comment"># &lt;env> activated & current folder</span><br>conda <span class="token function">env</span> <span class="token builtin class-name">export</span> -n <span class="token operator">&lt;</span>env<span class="token operator">></span> -f /path/to/<span class="token operator">&lt;</span>file<span class="token operator">></span>.yml      <span class="token comment"># &lt;env> isn't activated & different folder</span><br>conda update -p /path/to/<span class="token operator">&lt;</span>env<span class="token operator">></span> -f /path/to/<span class="token operator">&lt;</span>file<span class="token operator">></span>.yml <span class="token comment"># &lt;env> isn't in the default directory of conda & different folder</span></code></pre></div><div class=col-2-equal><pre class=language-bash><code class=language-bash><span class="token comment"># Activate an env</span><br>activate <span class="token operator">&lt;</span>env<span class="token operator">></span> <span class="token comment"># windows</span><br><span class="token builtin class-name">source</span> activate <span class="token operator">&lt;</span>env<span class="token operator">></span> <span class="token comment"># linux / macos</span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># DEACTIVE AN ENV</span><br>conda deactivate <span class="token comment"># Linux</span><br>deactivate <span class="token comment"># Windows</span><br><span class="token builtin class-name">source</span> deactivate <span class="token comment"># MacOS</span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># REMOVE AN ENV</span><br>conda remove -n <span class="token operator">&lt;</span>env<span class="token operator">></span> --all</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># SHOW LIST OF CURRENT ENV</span><br>conda info --envs<br><span class="token comment"># or</span><br>conda <span class="token function">env</span> list</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># EXPORT TO A ENV FILE</span><br>conda <span class="token function">env</span> <span class="token builtin class-name">export</span> -f <span class="token operator">&lt;</span>file<span class="token operator">></span>.yml</code></pre></div><pre class=language-bash><code class=language-bash><span class="token comment"># Update packages listed in an env file to current env,</span><br>conda <span class="token function">env</span> update -n <span class="token operator">&lt;</span>env<span class="token operator">></span> -f /path/to/<span class="token operator">&lt;</span>file<span class="token operator">></span>.yml --prune</code></pre><div class=hsbox><div class=hs__title>Show activated env in <a href=/terminal/#zsh-linux>zsh</a></div><div class=hs__content><pre class=language-bash><code class=language-bash><span class="token comment"># run this first in your current shell</span><br>conda init <span class="token function">zsh</span><br><span class="token comment"># other options than zsh: bash, powershell, ...</span><br><span class="token builtin class-name">source</span> ~/.zshrc</code></pre><p>If you wanna hide <code>(base)</code> in prompt,<pre class=language-bash><code class=language-bash>conda config --set changeps1 <span class="token boolean">false</span><br><span class="token comment"># don't forget to reset the terminal</span></code></pre></div></div><h3 id=kernel-2-%26-3-for-jupyter-notebook tabindex=-1>Kernel 2 & 3 for Jupyter Notebook <a href=#kernel-2-%26-3-for-jupyter-notebook class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><p>Check if <code>nb_conda_kernels</code> is installed by <code>conda list</code>. If not, install it by:<pre class=language-bash><code class=language-bash>conda <span class="token function">install</span> nb_conda_kernels</code></pre><p>If you are using <strong>Python 2</strong> and you wanna separate <strong>Python 3</strong>,<pre class=language-bash><code class=language-bash>conda create -n py37 <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.7</span> ipykernel <span class="token comment"># "py37" is a custom name</span></code></pre><p>If you are using <strong>Python 3</strong> and you wanna separate <strong>Python 2</strong>,<pre class=language-bash><code class=language-bash>conda create -n py27 <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">2.7</span> ipykernel <span class="token comment"># "py37" is a custom name</span></code></pre><p>Restart the Jupyter Notebook, the list of kernels is available under <strong>New</strong>.<h3 id=conda-revisions tabindex=-1>Conda Revisions <a href=#conda-revisions class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h3><div class=code-2cols><pre class=language-bash><code class=language-bash><span class="token comment"># Check revisions</span><br>conda list --revisions</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># Go back to revision `1`,</span><br>conda <span class="token function">install</span> --revision <span class="token number">1</span></code></pre></div><h2 id=error%3F tabindex=-1>Error? <a href=#error%3F class=direct-link aria-hidden=true><i class="fontello-icon icon-link"></i></a></h2><pre class=language-bash><code class=language-bash><span class="token comment"># UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 975: ordinal not</span><br><span class="token comment"># solution: instead of</span><br>pip3 <span class="token function">install</span> sesd<br><span class="token comment"># use</span><br><span class="token assign-left variable"><span class="token constant environment">LC_ALL</span></span><span class="token operator">=</span>C.UTF-8 pip3 <span class="token function">install</span> sesd</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># conda: The following packages are not available from current channels:</span><br><span class="token comment"># Solution 1: One can use pip in this case (the same env with conda)</span><br><span class="token comment"># Solution 2:</span><br>conda <span class="token function">install</span> -c anaconda <span class="token operator">&lt;</span>package<span class="token operator">></span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># The following required packages can not be built: * freetype (from matplotlib)</span><br><span class="token comment"># try to use conda to install matplotlib</span><br>conda <span class="token function">install</span> matplotlib<br><span class="token comment"># it actually install the same thing as pip does on the same env</span></code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># dtaidistance: C-library is not available</span><br>pip <span class="token function">install</span> -vvv --upgrade --force-reinstall dtaidistance</code></pre><pre class=language-bash><code class=language-bash><span class="token comment"># zsh: command not found: conda</span><br><span class="token comment"># Make sure your installation folder is already</span><br><span class="token comment"># in the $PATH</span><br><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token constant environment">PATH</span></span><span class="token operator">=</span><span class="token string">"/home/thi/miniconda3/bin:<span class="token constant environment">$PATH</span>"</span></code></pre></div><script type=application/ld+json>{
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Python Installation",
        "image": [],
        "author": "Anh-Thi DINH",
        "url": "https://dinhanhthi.com/python-installation/",
        "mainEntityOfPage": "https://dinhanhthi.com/python-installation/",
        "datePublished": "02-11-2021",
        "dateModified": "2021-11-02",
        "description": "Windows ✅ Update 11/Sep/20: Install python on WSL2 using Miniconda. Other options (directly install)Download and install Anaconda or smaller..."
      }</script></article></main><footer><a href=/ target=_blank>Thi  ©  2022 </a> •  <a href=/about-the-notes/ >About this site </a> •  <a href=https://photos.app.goo.gl/9OVEkdTjmtRPg7vC3 target=_blank>My sketches </a> •  <a href=https://goo.gl/photos/yQXdQws1LLS16x5v5 target=_blank>I cook </a> •  <a href=/support-thi/ ><img alt="Support Thi" class=keep-original src=/img_src/icons/coffee.svg height=16 width=auto> Support Thi</a></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js></script><script src=/src/js/components/clipboard.min.js></script><script src="/src/js/main.min.js?hash=d3b51a19b7" async defer></script><a href=/support-thi/ class="floating-button tooltip" id=buy-me-a-coffee><img alt="Support Thi" class=keep-original src=/img_src/icons/coffee.svg> <span class=tooltiptext>Support Thi</span> </a><button class="floating-button tooltip" id=scroll-top-btn><img alt="Scroll to top" class=keep-original src=/img_src/to-top.webp> <span class=tooltiptext>Top</span></button>