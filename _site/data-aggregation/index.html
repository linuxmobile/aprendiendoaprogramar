<!DOCTYPE html><html domain=".com" lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="" http-equiv="Content-Security-Policy"><link href="/favicon.svg" rel="icon" type="image/svg+xml"><meta content="#f9c412" name="theme-color"><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name="robots"><title>Data Aggregation | Note of Thi</title><meta content="Data Aggregation | Note of Thi" prefix="og:http://ogp.me/ns#" property="og:title"><meta content="In this note, I use df for DataFrame, s for Series. Libraries import pandas as pd # import pandas packageimport numpy as np Dataframe..." name="description"><meta content="In this note, I use df for DataFrame, s for Series. Libraries import pandas as pd # import pandas packageimport numpy as np Dataframe..." prefix="og:http://ogp.me/ns#" property="og:description"><meta content="summary_large_image" name="twitter:card"><meta content="@dinhanhthi" name="twitter:site"><meta content="@dinhanhthi" name="twitter:creator"><meta content="https://dinhanhthi.com/img_src/cover.png" prefix="og:http://ogp.me/ns#" property="og:image"><meta content="article" prefix="og:http://ogp.me/ns#" property="og:type"><link href="https://dinhanhthi.com/data-aggregation/" rel="canonical"><meta content="https://dinhanhthi.com/data-aggregation/" prefix="og:http://ogp.me/ns#" property="og:url"><meta content="no-referrer-when-downgrade" name="referrer"><link href="/feed/feed.xml" rel="alternate" type="application/atom+xml" title="ðŸ”¥ Anh-Thi DINH"><link href="/" rel="preconnect" crossorigin=""><style>body {
      visibility: hidden;
      opacity: 0;
    }</style><noscript><style>body {
        visibility: visible;
        opacity: 1;
      }</style></noscript><script csp-hash="sha256-/dHkOf9Lia7ElL7HdkbKAIdGXoBAA5SeqMVMgGV/2CU=">if (/Mac OS X/.test(navigator.userAgent))
      document
        .documentElement
        .classList
        .add('apple')</script><style>@-webkit-keyframes wave-animation{0%,60%,to{transform:rotate(0deg)}10%,30%{transform:rotate(14deg)}20%{transform:rotate(-8deg)}40%{transform:rotate(-4deg)}50%{transform:rotate(10deg)}}@keyframes wave-animation{0%,60%,to{transform:rotate(0deg)}10%,30%{transform:rotate(14deg)}20%{transform:rotate(-8deg)}40%{transform:rotate(-4deg)}50%{transform:rotate(10deg)}}@-webkit-keyframes toTop{0%{transform:translate(0,0)}to{transform:translate(0,-3px)}}@keyframes toTop{0%{transform:translate(0,0)}to{transform:translate(0,-3px)}}body,body.dark-theme{--color-red:#ff5555;--badge-blue:#2f55c1;--scroll-track:transparent}body{--color-blue:#4386c3;--color-green:#0ab534;--color-yellow:#ffc342;--color-invert:#000;--color-faded:#555;--color-faded-invert:#bbb;--font-color:#4b4b4b;--font-color-darker:#333;--color-background:#f6f6f6;--color-background-post:#fff;--font-bold-color:#222;--code-bg:#fff;--code-bd:#e4e2e2;--code-inline-text:#067b26;--code-inline-background:#ececec;--code-inline-bd:1px solid #ddd;--a-list-homepage:#4b4b4b;--a-list-homepage-bd:#cacaca;--font-a:#0b74cd;--font-a-border:#0b74cda6;--filter-invert:invert(1);--toc-title:#3a3a3a;--toc-title-bd:#ccc;--toc-appendix:#545454;--heading-color:#3a3a3a;--wave-bd-index:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 70 500 60' preserveAspectRatio='none'%3E%3Crect x='0' y='0' width='500' height='500' style='stroke: none; fill: %23f6f6f6;' /%3E%3Cpath d='M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z' style='stroke: none; fill: %23282a36;'%3E%3C/path%3E%3C/svg%3E");--wave-bd-post:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 70 500 60' preserveAspectRatio='none'%3E%3Crect x='0' y='0' width='500' height='500' style='stroke: none; fill: %23fff;' /%3E%3Cpath d='M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z' style='stroke: none; fill: %23282a36;'%3E%3C/path%3E%3C/svg%3E");--badge-black-bg:#f3f3f3;--badge-black-bd:#ddd;--table-bg:#e8e8e8;--badge-green:#0ab534;--badge-reading:#15941c;--badge-choice:#ac3b8c;--scroll-thumb-bg:#ced4da;--scroll-thumb-bg-hover:#adb5bd;--bg-hs-box:rgba(255, 255, 255, 0.25);--prism-bg:#f7f7f7;--prism-color:#525252;--prism-border:#e4e2e2;--prism-selection:#b3d4fc;--prism-token-doctype:slategray;--prism-token-doctype-tag:green;--prism-token-comment:#007979;--prism-token-number:#b854f6;--prism-token-string:#ca4f0e;--prism-token-function:#2e68fc;--prism-token-class-name:#3b8fce;--prism-token-variable:#905;--prism-token-selector:#690;--prism-token-cdata:slategray;--prism-token-regex:#e90;--prism-token-rule:#c7254e;--prism-token-attr-name:#007cbe;--prism-token-parameter:#b61bb6;--prism-token-constant:#4f1fb6;--prism-highlight-line-bg:#dfdfdf;--prism-highlight-line-add-bg:#00c7134f;--prism-highlight-line-remove-bg:#ff9f9f94;--alert-info-bg:#5ca7ff30;--alert-info-bd:#5ca7ff;--alert-success-bg:#34d05830;--alert-success-bd:#34d058;--alert-danger-bg:#ff818e30;--alert-danger-bd:#ff818e;--alert-warning-bg:#ffcd0030;--alert-warning-bd:#ffcd00;--mark-color:#fff096}body.dark-theme{--color-blue:#8cc8ff;--color-green:#86f7a2;--color-yellow:#ffd479;--color-invert:#fff;--color-faded:#bbb;--color-faded-invert:#555;--font-color:#eee;--font-color-darker:#f6f6f6;--color-background:#282a36;--color-background-post:#282a36;--font-bold-color:#8cc8ff;--code-bg:#2f3240;--code-bd:#3b3e54;--code-inline-text:#fff;--code-inline-background:#eeeeee21;--code-inline-bd:1px solid #444;--a-list-homepage:#ddd;--a-list-homepage-bd:rgba(255, 255, 255, 0.14);--font-a:#ffd479;--font-a-border:#ffd47985;--filter-invert:invert(0);--toc-title:#f5d3a7;--toc-title-bd:#555;--toc-appendix:#a2a2a2;--heading-color:#f0f0f0;--wave-bd-index:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 70 500 60' preserveAspectRatio='none'%3E%3Crect x='0' y='0' width='500' height='500' style='stroke: none; fill: %23282a36;' /%3E%3Cpath d='M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z' style='stroke: none; fill: %23282a36;'%3E%3C/path%3E%3C/svg%3E");--wave-bd-post:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 70 500 60' preserveAspectRatio='none'%3E%3Crect x='0' y='0' width='500' height='500' style='stroke: none; fill: %23282a36;' /%3E%3Cpath d='M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z' style='stroke: none; fill: %23282a36;'%3E%3C/path%3E%3C/svg%3E");--badge-black-bg:#343642;--badge-black-bd:#444;--table-bg:#2f3240;--badge-green:#009023;--badge-reading:#9cfea1;--badge-choice:#ff9fe4;--scroll-thumb-bg:#4f5c98;--scroll-thumb-bg-hover:#aaa;--bg-hs-box:rgba(255, 255, 255, 0.05);--prism-bg:#2f3240;--prism-color:#eee;--prism-border:#3b3e54;--prism-selection:#75a7ca;--prism-token-doctype:#9cdcfe;--prism-token-doctype-tag:#90cdff;--prism-token-comment:#6a9955;--prism-token-number:#b5cea8;--prism-token-string:#ce9178;--prism-token-function:#efefac;--prism-token-class-name:#4ec9b0;--prism-token-variable:#9cdcfe;--prism-token-selector:#d7ba7d;--prism-token-cdata:#808080;--prism-token-regex:#d16969;--prism-token-rule:#c586c0;--prism-token-attr-name:#9cdcfe;--prism-token-parameter:#9cdcfe;--prism-token-constant:#c5acfa;--prism-highlight-line-bg:#454545cc;--prism-highlight-line-add-bg:#0d6c163d;--prism-highlight-line-remove-bg:#7039395e;--alert-info-bg:#66a5ff24;--alert-info-bd:#66a5ff;--alert-success-bg:#37c03e24;--alert-success-bd:#37c03e;--alert-danger-bg:#e5534b24;--alert-danger-bd:#e5534b;--alert-warning-bg:#f0ac1f24;--alert-warning-bd:#f0ac1f;--mark-color:#fff30026}@media (prefers-color-scheme:dark){body,body.light-theme{--color-red:#ff5555;--badge-blue:#2f55c1;--scroll-track:transparent}body{--color-blue:#4386c3;--color-green:#0ab534;--color-yellow:#ffc342;--color-invert:#000;--color-faded:#555;--color-faded-invert:#bbb;--font-color:#4b4b4b;--font-color-darker:#333;--color-background:#f6f6f6;--color-background-post:#fff;--font-bold-color:#222;--code-bg:#fff;--code-bd:#e4e2e2;--code-inline-text:#067b26;--code-inline-background:#ececec;--code-inline-bd:1px solid #ddd;--a-list-homepage:#4b4b4b;--a-list-homepage-bd:#cacaca;--font-a:#0b74cd;--font-a-border:#0b74cda6;--filter-invert:invert(1);--toc-title:#3a3a3a;--toc-title-bd:#ccc;--toc-appendix:#545454;--heading-color:#3a3a3a;--wave-bd-index:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 70 500 60' preserveAspectRatio='none'%3E%3Crect x='0' y='0' width='500' height='500' style='stroke: none; fill: %23f6f6f6;' /%3E%3Cpath d='M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z' style='stroke: none; fill: %23282a36;'%3E%3C/path%3E%3C/svg%3E");--wave-bd-post:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 70 500 60' preserveAspectRatio='none'%3E%3Crect x='0' y='0' width='500' height='500' style='stroke: none; fill: %23fff;' /%3E%3Cpath d='M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z' style='stroke: none; fill: %23282a36;'%3E%3C/path%3E%3C/svg%3E");--badge-black-bg:#f3f3f3;--badge-black-bd:#ddd;--table-bg:#e8e8e8;--badge-green:#0ab534;--badge-reading:#15941c;--badge-choice:#ac3b8c;--scroll-thumb-bg:#ced4da;--scroll-thumb-bg-hover:#adb5bd;--bg-hs-box:rgba(255, 255, 255, 0.25);--prism-bg:#f7f7f7;--prism-color:#525252;--prism-border:#e4e2e2;--prism-selection:#b3d4fc;--prism-token-doctype:slategray;--prism-token-doctype-tag:green;--prism-token-comment:#007979;--prism-token-number:#b854f6;--prism-token-string:#ca4f0e;--prism-token-function:#2e68fc;--prism-token-class-name:#3b8fce;--prism-token-variable:#905;--prism-token-selector:#690;--prism-token-cdata:slategray;--prism-token-regex:#e90;--prism-token-rule:#c7254e;--prism-token-attr-name:#007cbe;--prism-token-parameter:#b61bb6;--prism-token-constant:#4f1fb6;--prism-highlight-line-bg:#dfdfdf;--prism-highlight-line-add-bg:#00c7134f;--prism-highlight-line-remove-bg:#ff9f9f94;--alert-info-bg:#5ca7ff30;--alert-info-bd:#5ca7ff;--alert-success-bg:#34d05830;--alert-success-bd:#34d058;--alert-danger-bg:#ff818e30;--alert-danger-bd:#ff818e;--alert-warning-bg:#ffcd0030;--alert-warning-bd:#ffcd00;--mark-color:#fff096}body.light-theme{--color-blue:#8cc8ff;--color-green:#86f7a2;--color-yellow:#ffd479;--color-invert:#fff;--color-faded:#bbb;--color-faded-invert:#555;--font-color:#eee;--font-color-darker:#f6f6f6;--color-background:#282a36;--color-background-post:#282a36;--font-bold-color:#8cc8ff;--code-bg:#2f3240;--code-bd:#3b3e54;--code-inline-text:#fff;--code-inline-background:#eeeeee21;--code-inline-bd:1px solid #444;--a-list-homepage:#ddd;--a-list-homepage-bd:rgba(255, 255, 255, 0.14);--font-a:#ffd479;--font-a-border:#ffd47985;--filter-invert:invert(0);--toc-title:#f5d3a7;--toc-title-bd:#555;--toc-appendix:#a2a2a2;--heading-color:#f0f0f0;--wave-bd-index:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 70 500 60' preserveAspectRatio='none'%3E%3Crect x='0' y='0' width='500' height='500' style='stroke: none; fill: %23282a36;' /%3E%3Cpath d='M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z' style='stroke: none; fill: %23282a36;'%3E%3C/path%3E%3C/svg%3E");--wave-bd-post:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 70 500 60' preserveAspectRatio='none'%3E%3Crect x='0' y='0' width='500' height='500' style='stroke: none; fill: %23282a36;' /%3E%3Cpath d='M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z' style='stroke: none; fill: %23282a36;'%3E%3C/path%3E%3C/svg%3E");--badge-black-bg:#343642;--badge-black-bd:#444;--table-bg:#2f3240;--badge-green:#009023;--badge-reading:#9cfea1;--badge-choice:#ff9fe4;--scroll-thumb-bg:#4f5c98;--scroll-thumb-bg-hover:#aaa;--bg-hs-box:rgba(255, 255, 255, 0.05);--prism-bg:#2f3240;--prism-color:#eee;--prism-border:#3b3e54;--prism-selection:#75a7ca;--prism-token-doctype:#9cdcfe;--prism-token-doctype-tag:#90cdff;--prism-token-comment:#6a9955;--prism-token-number:#b5cea8;--prism-token-string:#ce9178;--prism-token-function:#efefac;--prism-token-class-name:#4ec9b0;--prism-token-variable:#9cdcfe;--prism-token-selector:#d7ba7d;--prism-token-cdata:#808080;--prism-token-regex:#d16969;--prism-token-rule:#c586c0;--prism-token-attr-name:#9cdcfe;--prism-token-parameter:#9cdcfe;--prism-token-constant:#c5acfa;--prism-highlight-line-bg:#454545cc;--prism-highlight-line-add-bg:#0d6c163d;--prism-highlight-line-remove-bg:#7039395e;--alert-info-bg:#66a5ff24;--alert-info-bd:#66a5ff;--alert-success-bg:#37c03e24;--alert-success-bd:#37c03e;--alert-danger-bg:#e5534b24;--alert-danger-bd:#e5534b;--alert-warning-bg:#f0ac1f24;--alert-warning-bd:#f0ac1f;--mark-color:#fff30026}}@font-face{font-display:swap;font-family:"Poppins";font-style:normal;font-weight:400;src:url(/fonts/poppins/poppins-v15-latin-regular.eot);src:local(""),url(/fonts/poppins/poppins-v15-latin-regular.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-regular.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-regular.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-regular.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-regular.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:"Poppins";font-style:italic;font-weight:400;src:url(/fonts/poppins/poppins-v15-latin-italic.eot);src:local(""),url(/fonts/poppins/poppins-v15-latin-italic.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-italic.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-italic.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-italic.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-italic.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:"Poppins";font-style:normal;font-weight:500;src:url(/fonts/poppins/poppins-v15-latin-500.eot);src:local(""),url(/fonts/poppins/poppins-v15-latin-500.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-500.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-500.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-500.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-500.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:"Poppins";font-style:italic;font-weight:500;src:url(/fonts/poppins/poppins-v15-latin-500italic.eot);src:local(""),url(/fonts/poppins/poppins-v15-latin-500italic.eot?#iefix) format("embedded-opentype"),url(/fonts/poppins/poppins-v15-latin-500italic.woff2) format("woff2"),url(/fonts/poppins/poppins-v15-latin-500italic.woff) format("woff"),url(/fonts/poppins/poppins-v15-latin-500italic.ttf) format("truetype"),url(/fonts/poppins/poppins-v15-latin-500italic.svg#Poppins) format("svg")}@font-face{font-display:swap;font-family:"Recoleta";font-weight:500;font-style:normal;src:url(/fonts/recoleta/Recoleta-Medium.eot);src:url(/fonts/recoleta/Recoleta-Medium.woff2) format("woff2"),url(/fonts/recoleta/Recoleta-Medium.woff) format("woff"),url(/fonts/recoleta/Recoleta-Medium.ttf) format("truetype");font-display:swap}@font-face{font-display:swap;font-family:"Recoleta";src:url(/fonts/recoleta/Recoleta-SemiBold.eot);src:url(/fonts/recoleta/Recoleta-SemiBold.woff2) format("woff2"),url(/fonts/recoleta/Recoleta-SemiBold.woff) format("woff"),url(/fonts/recoleta/Recoleta-SemiBold.ttf) format("truetype");font-weight:600;font-style:bold;font-display:swap}*{border:0;box-sizing:border-box}.fontello-icon:before{margin-left:0!important}::-webkit-scrollbar{height:8px;width:8px}::-webkit-scrollbar-thumb{background:var(--scroll-thumb-bg);border-radius:6px}::-webkit-scrollbar-thumb:hover{background:var(--scroll-thumb-bg-hover);cursor:pointer}::-webkit-scrollbar-track{background:var(--scroll-track)}::-webkit-scrollbar-corner{background:var(--color-background)}dialog{background-color:#8dff80;position:fixed;opacity:.9}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.filter-invert{filter:var(--filter-invert)}main{margin:0 auto}.list-of-post{list-style:none;padding-left:0;margin-bottom:0}.list-of-post .fontello-icon{margin-left:-25px}.list-of-post .fontello-icon::before{opacity:.75}.list-of-post li{margin-bottom:10px!important;padding-right:10px;padding-left:25px;width:100%}.list-of-post li a{color:var(--a-list-homepage);border-bottom:2px dotted var(--a-list-homepage-bd)}.list-of-post li:hover{cursor:pointer}.list-of-post li:hover a{border-color:var(--font-a);color:var(--color-invert)}.list-of-post li:hover::before,.page-note h2:hover .direct-link,.page-note h3:hover .direct-link,.page-note h4:hover .direct-link{opacity:1}.note-type-indicator{font-size:.95rem;color:var(--color-faded);margin:0;font-style:italic;padding-top:10px;border-top:1px solid var(--toc-title-bd)}.badge img,.category h2 i,.note-type-indicator span,nav #nav a img{margin-right:5px}.note-type-indicator span:last-child,header .social a:last-child,p.contact a:last-child{margin-right:0}:root{font-size:16px}body,html{font-family:"Poppins",Arial,Helvetica,sans-serif;font-size:16px}html{-webkit-text-size-adjust:100%}@supports (font-variation-settings:normal){html{font-family:"Poppins" var alt,Arial,Helvetica,sans-serif}}body{background:var(--color-background);color:var(--font-color);margin:0;counter-reset:h2counter}.test-dead-code-elimination-sentinel{color:red}b,strong{font-weight:500;color:var(--font-bold-color)}small{font-size:80%}a,a:hover{text-decoration:none}a:hover{border-bottom:1px solid var(--font-a-border)}a.no-effect:hover{border-bottom:none}a.no-color{color:var(--font-color)!important}.page-about .list-of a:hover,.page-note h2:hover a:hover,.page-note h3:hover a:hover,.page-note h4:hover a:hover,a,a b,a strong{color:var(--font-a)}h2>.icon-api{margin-right:10px!important}mark{color:inherit;padding:1px 5px 3px;border-radius:5px;background:var(--mark-color)}code mark{box-shadow:none}sub{bottom:-.25em}sup{top:-.5em}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}hr{border-bottom:1px solid #eee}h1,h2,h3,h4{font-family:"Recoleta",Arial,Helvetica,sans-serif}h1{font-size:25.6px}h2{font-size:22.88px}h3{font-size:20.592px}h4{font-size:19.5624px}.page-note h1,.page-note h2,.page-note h3,.page-note h4{font-weight:500;margin-bottom:20.4px;margin-top:0;color:var(--heading-color)}.page-note h1+h2,.page-note h2+h3,.page-note h3+h4,.page-note p+ol,.page-note p+ul,.page-note>h3+h4{margin-top:-.5rem}.page-note *>h2 .direct-link,.page-note *>h3 .direct-link,.page-note *>h4 .direct-link{display:none!important}#nav,.page-note h2,.page-note h3,.page-note h4,.page-note>h2{position:relative}.page-note h2 .direct-link,.page-note h3 .direct-link,.page-note h4 .direct-link{position:absolute;left:-23px;opacity:0;border-bottom:none;transition:all .2s ease-in-out;font-size:85%;display:inline-flex;align-items:center;justify-content:center;height:100%;color:var(--color-faded)}@media screen and (max-width:991px){.page-note h2 .direct-link,.page-note h3 .direct-link,.page-note h4 .direct-link{position:unset;display:none}}.page-note>h2{border-bottom:1px dashed var(--toc-title-bd);counter-reset:h3counter;padding-bottom:0;border-bottom:none;margin:36px 0 20.4px -3px}.page-note>h3,.page-note>h4{margin-bottom:20.4px;margin-top:28.8px}.page-note>h3{font-size:20.592px;counter-reset:h4counter}.page-note>h4{font-size:19.5624px}.page-note .code-output-equal+h2,.page-note .code-output-equal+h3,.page-note .code-output-equal+h4,.page-note .code-output-flex+h2,.page-note .code-output-flex+h3,.page-note .code-output-flex+h4,.page-note pre+h2,.page-note pre+h3,.page-note pre+h4{margin-top:36px}.page-note>h1{counter-reset:h2counter}.page-note>h2:before,header h1 .special-title{display:inline-flex;align-items:center;justify-content:center}.page-note>h2:before{content:counter(h2counter);counter-increment:h2counter;padding:0 10px;border-radius:10px;background:var(--code-inline-background);width:18.304px;margin-right:5px}.page-note>h3:before{content:counter(h2counter) "." counter(h3counter);counter-increment:h3counter;margin-right:5px}.page-note>h4:before{content:counter(h2counter) "." counter(h3counter) "." counter(h4counter);counter-increment:h4counter;margin-right:5px}.d-flex,nav #nav .nav-search form{display:flex}.d-flex-wrap{flex-wrap:wrap}.align-items-center{align-items:center}.container{width:100%;margin:0 auto}@media (min-width:1600px){.wide{width:1600px}}.normal{padding:0 16px;width:100%}@media (min-width:916px){.normal{width:900px}}@media (min-width:1200px){.ex-normal{width:1000px}}.pt-0{padding-top:0!important}.pt-0p5{padding-top:.5rem}.pr-0{padding-right:0}.pr-0p5{padding-right:.5rem}.pb-0{padding-bottom:0}.pb-0p5{padding-bottom:.5rem}.pl-0{padding-left:0}.pl-0p5{padding-left:.5rem}.mt-0,.page-index header .header-container p.intro{margin-top:0}.mt-0p5{margin-top:.5rem}.mr-0{margin-right:0}.mr-0p5{margin-right:.5rem}.mb-0,header h1{margin-bottom:0}.mb-0p5{margin-bottom:.5rem}.ml-0{margin-left:0}.ml-0p5{margin-left:.5rem}.pt-1{padding-top:1rem!important}.pt-1p5{padding-top:1.5rem}.pr-1{padding-right:1rem}.pr-1p5,nav nav #nav .nav-search .nav-search__input{padding-right:1.5rem}.pb-1{padding-bottom:1rem}.page-index .main-cats>.category-wrapper,.pb-1p5{padding-bottom:1.5rem}.pl-1{padding-left:1rem}.pl-1p5{padding-left:1.5rem}.mt-1,.page-about .coordinate ul .job,header p{margin-top:1rem}.mt-1p5{margin-top:1.5rem}.mr-1{margin-right:1rem}.mr-1p5{margin-right:1.5rem}.mb-1,.page-about .container .skills.section h2{margin-bottom:1rem}.mb-1p5{margin-bottom:1.5rem}.ml-1{margin-left:1rem}.ml-1p5{margin-left:1.5rem}.pt-2{padding-top:2rem!important}.pt-2p5{padding-top:2.5rem}.pr-2{padding-right:2rem}.pr-2p5{padding-right:2.5rem}.pb-2{padding-bottom:2rem}.pb-2p5{padding-bottom:2.5rem}.pl-2{padding-left:2rem}.pl-2p5{padding-left:2.5rem}.mt-2{margin-top:2rem}.mt-2p5{margin-top:2.5rem}.mr-2{margin-right:2rem}.mr-2p5{margin-right:2.5rem}.mb-2{margin-bottom:2rem}.mb-2p5{margin-bottom:2.5rem}.ml-2{margin-left:2rem}.ml-2p5{margin-left:2.5rem}.pt-3{padding-top:3rem!important}.pt-3p5{padding-top:3.5rem}.pr-3{padding-right:3rem}.pr-3p5{padding-right:3.5rem}.pb-3{padding-bottom:3rem}.pb-3p5{padding-bottom:3.5rem}.pl-3{padding-left:3rem}.pl-3p5{padding-left:3.5rem}.mt-3{margin-top:3rem}.mt-3p5{margin-top:3.5rem}.mr-3{margin-right:3rem}.mr-3p5{margin-right:3.5rem}.mb-3{margin-bottom:3rem}.mb-3p5{margin-bottom:3.5rem}.ml-3{margin-left:3rem}.ml-3p5{margin-left:3.5rem}.pt-4{padding-top:4rem!important}.pt-4p5{padding-top:4.5rem}.pr-4{padding-right:4rem}.pr-4p5{padding-right:4.5rem}.pb-4{padding-bottom:4rem}.pb-4p5{padding-bottom:4.5rem}.pl-4{padding-left:4rem}.pl-4p5{padding-left:4.5rem}.mt-4{margin-top:4rem}.mt-4p5{margin-top:4.5rem}.mr-4{margin-right:4rem}.mr-4p5{margin-right:4.5rem}.mb-4{margin-bottom:4rem}.mb-4p5{margin-bottom:4.5rem}.ml-4{margin-left:4rem}.ml-4p5{margin-left:4.5rem}.pt-5{padding-top:5rem!important}.pt-5p5{padding-top:5.5rem}.pr-5{padding-right:5rem}.pr-5p5{padding-right:5.5rem}.pb-5{padding-bottom:5rem}.pb-5p5{padding-bottom:5.5rem}.pl-5{padding-left:5rem}.pl-5p5{padding-left:5.5rem}.mt-5{margin-top:5rem}.mt-5p5{margin-top:5.5rem}.mr-5{margin-right:5rem}.mr-5p5{margin-right:5.5rem}.mb-5{margin-bottom:5rem}.mb-5p5{margin-bottom:5.5rem}.ml-5{margin-left:5rem}.ml-5p5{margin-left:5.5rem}.page-index .container{padding:2rem 1rem 0}.page-index .main-cats{flex:1}.page-index .main-cats>.category-wrapper>.category{padding:1.5rem;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108}.page-index .toc-index-container{padding-left:1rem;position:-webkit-sticky;position:sticky;top:60px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.page-index .toc-index-container .toc-index{border:1px solid var(--code-bd);background:var(--code-bg);border-radius:.6rem;padding:1rem}.page-index .toc-index-container .toc-index h3{padding-bottom:5px;border-bottom:1px solid var(--toc-title-bd);margin:0 0 10px;font-size:1.15rem;color:var(--toc-title)}.page-index .toc-index-container .toc-index ul{padding-left:0;margin:0;list-style:none}.page-index .toc-index-container .toc-index ul i{color:var(--color-invert)}.page-index .toc-index-container .toc-index ul i::before{font-weight:400}.page-index .toc-index-container .toc-index ul li,.page-note ol li,.page-note ul li,.toc>.ol-container>ol li{margin-bottom:5px}.page-index .toc-index-container .toc-index .toc-active>a{font-weight:400;color:var(--font-a)!important}.page-index .main-cats>.category-wrapper>.category,.page-index .toc-index-container .appendix-toc{border:1px solid var(--code-bd);border-radius:.6rem;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background:var(--code-bg)}.page-index .toc-index-container .appendix-toc{padding:5px 10px;margin-top:1rem;font-size:85%;width:100%;color:var(--toc-appendix);display:flex;flex-direction:column}@media screen and (min-width:992px){.page-index .appendix-toc,.page-index .toggle-buttons{margin-left:-2px}}@media screen and (max-width:991px){.page-index .main-cats{flex:1 1 100%;order:2;padding-right:0}.page-index .toc-index-container{flex:1 1 100%;order:1;position:inherit;padding-left:0;margin-bottom:24px}.page-index .toc-index-container .toc-index{border:3px double var(--color-faded);padding:15px}.page-index .toc-index-container ul{column-count:3;-webkit-column-count:3;-moz-column-count:3}.page-index .toc-index-container .appendix-toc{align-items:center;margin-bottom:1rem;margin-top:2rem;border:0;padding:0;flex-direction:row}.page-index .toc-index-container .appendix-toc div{margin-right:10px}.page-index .toc-index-container .appendix-toc div:last-child{margin:0}}@media screen and (max-width:767px){.page-index .toc-index ul{column-count:2;-webkit-column-count:2;-moz-column-count:2}}@media screen and (max-width:575px){.page-index .toc-index ul{column-count:1;-webkit-column-count:1;-moz-column-count:1}.page-index .appendix-toc{flex-direction:column!important;align-items:flex-start!important}}.category,p.contact{width:100%}.category h2{font-size:1.55rem;margin-top:0;color:var(--heading-color)}.category .list-homepage{column-count:1;-webkit-column-count:1;-moz-column-count:1}@media screen and (min-width:768px){.category .list-homepage{column-count:2;-webkit-column-count:2;-moz-column-count:2}}@media screen and (min-width:992px){.category .list-homepage{column-count:3;-webkit-column-count:3;-moz-column-count:3}}.page-index header .header-logo{height:120px;width:auto}header nav{z-index:1000}#nav{z-index:2}header{background:#282a36;color:#eee}header .header-container{width:900px;padding:5rem 1rem 1rem;max-width:100%;display:flex;align-items:center;flex-direction:column;margin:0 auto;text-align:center}header h1{font-size:2.2rem;margin-top:0;display:inline-flex}header h1 .special-title{-webkit-animation-name:wave-animation;animation-name:wave-animation;-webkit-animation-duration:2.5s;animation-duration:2.5s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;transform-origin:70% 70%}header h1 .special-title img{margin-right:10px;height:2.2rem}header h1 .draft-badge{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background:#7c7c7c;font-size:.8rem;padding:1px 5px;border-radius:.6rem;font-weight:400;font-family:"Poppins",Arial,Helvetica,sans-serif;margin-left:5px}header .header-logo{width:55px;height:55px;margin-bottom:1rem;margin-left:auto;margin-right:auto}header .header-logo img{width:auto;height:100%}header .header-logo.icon-white{width:62px;height:62px;background:#fff;border-radius:50%;padding:10px}header .social{margin-top:.5rem;margin-bottom:1rem}header .social a{display:inline-flex;padding:10px;background:#343950;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;border-radius:1.2rem}header .social a:hover img{transform:translate(0,-2px)}header .social a img{transition:transform .2s}header #more-info{padding:1rem}header #more-info #note-tag{padding-bottom:10px;border-bottom:1px solid #444}header #more-info #note-tag>a{color:#ffd479;margin-right:10px}header #more-info #note-tag>a::before{content:"#"}header #more-info #last-modified a:hover,header #more-info #note-tag>a:hover{color:#fff;border-bottom-color:#ffd479}header #more-info #last-modified{padding-top:10px;font-style:italic}header #more-info #last-modified a{color:#ffd479}.wave-border::after{content:"";left:-3rem;top:calc(3rem - 4rem/2);float:left;display:block;height:2rem;width:100%;background-size:100% 100%}.wave-border.wave-border-index::after{background:rgba(255,255,255,.5);background-image:var(--wave-bd-index)}.wave-border.wave-border-post::after{background:#fff;background-image:var(--wave-bd-post)}.intro,.job span{font-size:1.02rem}.intro b,.intro strong{color:#ffd479;font-weight:400}.intro a,p.contact a:hover{color:#fff}.job span{background:#ffd479;color:#000;padding:3px 20px;border-radius:15px}p.contact{text-align:center;margin-bottom:24px}header .social a,p.contact a{margin-right:10px;margin-bottom:10px}nav{position:fixed;top:0;left:0;width:100vw;padding:0 1.5rem;background:#35373c}nav .reading-progress-container{padding-bottom:1px;background:#282a36;width:100%;position:absolute;bottom:0;z-index:9999;left:0}nav .reading-progress-container #reading-progress{border-bottom:2px solid #ffd479;width:100vw;transform:translate(-100vw,0);will-change:transform;pointer-events:none}@media (max-width:992px){nav{padding:0 1rem}nav nav #nav .nav-search .nav-search__input{padding-right:1rem}}@media (max-width:576px){nav{padding:0 .5em}nav nav #nav .nav-search .nav-search__input{padding-right:.5rem}}nav #nav,nav #nav a{display:flex;align-items:center}nav #nav a{color:#ccc;margin-right:15px;padding:0 .5rem;font-size:1.1rem;white-space:nowrap}nav #nav a:hover{color:#fff;cursor:pointer;text-decoration:none}nav #nav .nav-item{text-align:left;margin-right:5px}@media (min-width:421px){nav #nav .nav-item{padding-left:0!important}}@media screen and (max-width:575px){nav #nav .nav-item{width:unset!important}nav #nav .nav-item span{display:none}}@media screen and (min-width:576px){nav #nav .nav-item{margin-right:1.2rem}}nav #nav .nav-dark-light{padding:5px;cursor:pointer;display:inline-flex;margin-right:1rem}@media screen and (max-width:575px){nav #nav .nav-dark-light{margin-right:0}}nav #nav .nav-github{text-align:right;padding-right:0!important;margin-right:0!important;display:inline-flex}nav #nav .nav-github:hover img{filter:invert(.4)}nav #nav .nav-search{display:block;background-image:linear-gradient(to right,#3d4251,#3b3f4c,#393d46,#373a41,#35373c);width:100%;position:relative}nav #nav .nav-search .nav-search__input{border:0;background:0 0;color:#ddd;font-size:1.05rem;padding:.65rem .5rem;width:100%}nav #nav .nav-search .nav-search__input:focus{outline:0;border:0}nav #nav .nav-search #nav-search__result-container{position:absolute;max-height:80vh;overflow:auto;width:100%;background:#35373c;border-bottom-right-radius:5px;border-bottom-left-radius:5px;padding:0;filter:drop-shadow(2px 4px 6px #000)}@media screen and (max-width:767px){nav #nav .nav-search #nav-search__result-container{position:fixed;left:0;right:0;border-radius:0}}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul{padding:0;margin:0;list-style:none}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li{display:flex;padding:10px;align-items:center;justify-content:space-between;overflow:hidden}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__icon .fontello-icon{font-size:1.4rem}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content{padding:0 10px;width:100%;overflow:hidden;text-overflow:ellipsis}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content .keywords{opacity:.6;background:#000;border-radius:3px;padding:0 5px;font-size:80%}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3{margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-flex;align-items:center;justify-content:center}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3 .external-badge{background:#eee;color:#444;border-radius:.6rem;font-size:65%;line-height:1.2;padding:1px 5px;margin-right:5px;font-weight:400;font-family:"Poppins",Arial,Helvetica,sans-serif}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3 a{color:#efb232;padding:0;text-align:left;font-weight:400;font-size:16px;line-height:1.5;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content h3 a:hover{border-bottom:none;color:#8cc8ff}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .item__content p{text-align:left;margin:0;line-height:1.5;font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li .enter{width:20px;display:none}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li.selected{background:#282a36}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul li.selected .enter{display:block}nav #nav .nav-search #nav-search__result-container ul#nav-search__ul mark{background:0 0;color:inherit;box-shadow:inset 0 -1px 0 0 #fff;border-radius:0;padding:0}nav #nav .nav-search #nav-search__result-container #nav-search__no-result{padding:0 10px}nav #nav .nav-search #nav-search__result-container #nav-search__no-result p{text-align:left}footer{font-size:.95rem;background:#35373c;padding:.75rem 1rem;text-align:center}footer,footer a{color:#bbb}footer a:hover{color:#fff;border:0}.page-about .header-logo{width:auto;height:120px}.page-about .part{margin-bottom:4rem}.page-about .intro{padding:0 16px 2rem;width:65%}.page-about .coordinate{width:35%;padding:0 16px;font-size:1rem}.page-about .coordinate ul{padding-left:0;list-style:none}.page-about .coordinate ul span{color:#8cc8ff;margin-right:10px}.page-about .coordinate ul a{color:#eee}.page-about .coordinate ul a:hover{border-bottom-color:#ffd479}.page-about .coordinate ul .job span{color:#000}@media screen and (max-width:767px){.page-about .coordinate ul .job span{border-top-left-radius:0;border-bottom-left-radius:0}}@media screen and (max-width:991px){.page-about .intro{width:60%}.page-about .coordinate{width:40%}}@media screen and (max-width:767px){.page-about .intro{width:100%;padding:0 16px 1rem;border-bottom:1px solid #444}.page-about .coordinate{width:100%;padding:1rem 16px 1.5rem}}.page-about .list-of a{color:var(--font-color);border-bottom:none}.page-about .list-of p>a{border-bottom:.5px solid var(--font-color)}.page-about .container .section{padding:0 16px;flex:1;margin:1rem 0}.page-about .container .section .div-h2{position:relative;display:inline-block}.page-about .container .section .div-h2::after{position:absolute;opacity:.45;top:28px;right:-15px;content:"";height:20px;width:30px;background-image:-webkit-repeating-radial-gradient(center center,var(--color-invert),var(--color-invert) 1px,transparent 0,transparent 100%);background-size:6px 6px;z-index:0}.page-about .container .section h2{font-size:1.7rem;line-height:1;margin-bottom:1.5rem;margin-top:1rem}.page-about .container .section h2 img{margin-right:8px;display:none}.page-about .container .section .list-of{border:.5px solid var(--code-bd);border-radius:.6rem;background:var(--code-bg);box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108}.page-about .container .skills.section .div-h2{zoom:.9}.page-about .container .skills.section .list-of{padding:.5rem}@media screen and (max-width:991px){.page-about .container .skills.section{width:calc(100%/3);flex:none}.page-about .container .skills.section:nth-last-child(-n+2){width:50%}}@media screen and (max-width:767px){.page-about .container .skills.section{width:50%;flex:none}.page-about .container .skills.section:last-child{width:100%}}@media screen and (max-width:575px){.page-about .container .skills.section{width:100%;flex:none}.page-about .container .skills.section:nth-last-child(-n+2){width:100%}}.page-about .container .logo{width:calc(min(80px,80%));height:auto}.floating-button img,.page-about .container .logo img{width:100%;height:100%}.page-about .container .logo.bg-white{width:calc(min(120px,80%))}.page-about .container .logo.bg-white img{background:#fff;border-radius:.6rem;padding:10px}.page-about .container .exp-edu{width:50%}.page-about .container .exp-edu .list-of .item{padding:0 1rem}.page-about .container .exp-edu .list-of .item>div{padding:1rem 0;border-bottom:1px solid var(--color-faded-invert)}.page-about .container .exp-edu .list-of .item .where{padding:1rem .5rem;flex:0 0 25%;max-width:25%;font-size:calc(1rem + 1px);display:flex;flex-direction:column;align-items:center}.page-about .container .exp-edu .list-of .item .where div{padding:2px;text-align:center}.page-about .container .exp-edu .list-of .item .where div.place{font-weight:500}.page-about .container .exp-edu .list-of .item .where div.date{font-size:.95rem;color:var(--color-faded)}.page-about .container .exp-edu .list-of .item .where div a:hover{border-bottom:1px solid var(--font-a-border)}.page-about .container .exp-edu .list-of .item .title{padding:1rem;flex:0 0 75%;max-width:75%}.page-about .container .exp-edu .list-of .item .title h4,.page-about .container .projects .list-of .title h4{margin-top:0;margin-bottom:.5rem;font-size:1.25rem}.page-about .container .exp-edu .list-of .item .title .where-2{display:none}.page-about .container .exp-edu .list-of .item .title p{margin:0 0 .5rem;color:var(--color-faded);line-height:1.5}.page-about .container .exp-edu .list-of .item .title .tech{margin-top:1rem;flex-wrap:wrap}.page-about .container .exp-edu .list-of .item .title .tech .skill-small{display:inline-flex;margin:3px 6px 3px 0;border:1px solid var(--badge-black-bd);background:var(--badge-black-bg);padding:3px;border-radius:.6rem}.badge picture,.page-about .container .exp-edu .list-of .item .title .tech .skill-small picture,.page-about .container .projects .list-of .title .tech .skill-small picture{display:inline-flex}.page-about .container .exp-edu .list-of .item:last-child>div{border-bottom:none}@media screen and (max-width:991px){.page-about .container .exp-edu .list-of .item{padding:0 .5rem}.page-about .container .exp-edu .list-of .item .where{display:none}.page-about .container .exp-edu .list-of .item .title{flex:1;max-width:100%}.page-about .container .exp-edu .list-of .item .title .where-2{display:block;font-size:.95rem;margin-bottom:1rem;font-style:italic}.page-about .container .exp-edu .list-of .item .title .where-2 a{color:var(--heading-color)}.page-about .container .exp-edu .list-of .item .title .where-2 span.date-2{color:var(--color-blue)}}@media screen and (max-width:767px){.page-about .container .exp-edu{width:100%;flex:none}}.page-about .container .projects .list-wrapper{width:25%;padding:0 1rem 1rem 0;display:flex}.page-about .container .projects .list-of{width:100%}.page-about .container .projects .list-of .title{padding:1rem;display:flex;flex-direction:column;height:100%}.page-about .container .projects .list-of .title a:hover span{border-bottom:1px solid var(--font-a)}.page-about .container .projects .list-of .title p{margin:0;color:var(--color-faded);line-height:1.5;flex:1}.page-about .container .projects .list-of .title .tech{margin-top:1rem;display:flex;align-items:center;flex-wrap:wrap}.page-about .container .projects .list-of .title .tech .skill-small{display:inline-flex;margin:3px 6px 3px 0;border:1px solid var(--badge-black-bd);background:var(--badge-black-bg);padding:3px;border-radius:.6rem}.page-about .container .projects .list-of .title .tech .tech-text{margin:3px 6px 3px 0;border:1px solid var(--a-list-homepage-bd);background:var(--badge-black-bg);padding:3px 8px;border-radius:3px;font-size:.9rem;color:var(--color-faded);font-family:monospace;word-spacing:-3px}@media (min-width:1200px){.page-about .container .projects .list-wrapper:nth-child(4n){padding-right:0}}@media (min-width:768px) and (max-width:1199px){.page-about .container .projects .list-wrapper{width:calc(100%/3)}.page-about .container .projects .list-wrapper:nth-child(3n){padding-right:0}}@media (min-width:576px) and (max-width:767px){.page-about .container .projects .list-wrapper{width:50%}.page-about .container .projects .list-wrapper:nth-child(2n){padding-right:0}}@media screen and (max-width:575px){.page-about .container .projects .list-wrapper{width:100%;padding-right:0}}.badge,.button{text-transform:uppercase}.badge{display:inline-flex;align-items:center;justify-content:center;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.6rem;padding:3px 5px;font-size:80%;letter-spacing:1px;margin-bottom:0!important}.badge.black{margin:5px;border:1px solid var(--badge-black-bd);background:var(--badge-black-bg)}.badge.badge-blue{background:var(--badge-blue);color:#fff}.badge.badge-green{background:var(--badge-green);color:#fff}.badge.badge-yellow{background:#b57f07;color:#fff}.badge.badge-pink{background:#c12f79bf;color:#fff}.badge.badge-my-choice{padding:1px 10px;color:var(--badge-choice);border:.5px solid var(--badge-choice)}.badge.badge-reading{padding:1px 10px;color:var(--badge-reading);border:.5px solid var(--badge-reading)}.button{padding:12px 20px;font-size:.85rem;font-weight:500;transition:all .5s;letter-spacing:2px;color:#fff;box-shadow:none;outline:0!important;min-width:140px;position:relative;overflow:hidden;border-radius:40px;display:inline-table}.button.blue{background-color:#2387e2}.button.blue:hover{background:#0c60ad}.button.red{background-color:#e45353}.button.black{border:1px solid #555}.button.black:hover{background:#333}.danger,.info,.success,.warning{position:relative;padding:16px;color:var(--font-color-darker);margin-bottom:24px;border-radius:.6rem;border:1px solid;border-left:8px solid}.danger>:not(.col-2-equal):not(.col-2-flex),.info>:not(.col-2-equal):not(.col-2-flex),.success>:not(.col-2-equal):not(.col-2-flex),.warning>:not(.col-2-equal):not(.col-2-flex){margin-bottom:19.2px!important}.danger>:not(.col-2-equal):not(.col-2-flex):last-child,.info>:not(.col-2-equal):not(.col-2-flex):last-child,.success>:not(.col-2-equal):not(.col-2-flex):last-child,.warning>:not(.col-2-equal):not(.col-2-flex):last-child{margin-bottom:0!important}.danger .hsbox,.info .hsbox,.success .hsbox,.warning .hsbox{background:var(--bg-hs-box)}.info{border-color:var(--alert-info-bd)}.success{border-color:var(--alert-success-bd)}.danger{border-color:var(--alert-danger-bd)}.warning{border-color:var(--alert-warning-bd)}kbd{background:#ececec;color:#4b4b4b;border:1px solid var(--color-faded-invert);border-radius:3px;margin:0 2px;padding:.1em .2em 0;font-weight:400;line-height:1;font-size:1rem;box-shadow:1px 3px 0 0 #8c8c8c,1px 1px 0 0 #8c8c8c,1px 1px 0 0 #000;min-width:20px;display:inline-flex;align-items:center;justify-content:center;font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace}.code-output-flex{margin-bottom:24px}.code-output-flex>*{margin-bottom:0!important;overflow:auto}.code-output-flex>:first-child>code{border-bottom-right-radius:0;height:100%}@media (max-width:768px){.code-output-flex>:first-child>code{border-bottom:none;border-bottom-left-radius:0}}.code-output-flex>:last-child>code{font-size:14.4px;background:#252731;border-color:#3a3a3a80;color:#eee;height:100%;white-space:pre-wrap}@media (max-width:768px){.code-output-flex>:last-child>code{border-top:none;border-top-right-radius:0;border-top-left-radius:0}}@media screen and (min-width:768px){.code-output-flex{display:flex;display:-ms-flexbox;margin-bottom:24px}.code-output-flex>*{flex:1 1 auto;margin:0!important}.code-output-flex>:first-child>code{border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.code-output-flex>:last-child>code{border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}}.code-output-equal{margin-bottom:24px}.code-output-equal>*{margin-bottom:0!important;overflow:auto}.code-output-equal>:first-child>code{border-bottom-right-radius:0;height:100%}@media (max-width:768px){.code-output-equal>:first-child>code{border-bottom:none;border-bottom-left-radius:0}}.code-output-equal>:last-child>code{font-size:14.4px;background:#252731;border-color:#3a3a3a80;color:#eee;height:100%;white-space:pre-wrap}@media (max-width:768px){.code-output-equal>:last-child>code{border-top:none;border-top-right-radius:0;border-top-left-radius:0}}@media screen and (min-width:768px){.code-output-equal{display:flex;display:-ms-flexbox;margin-bottom:24px}.code-output-equal>*{flex:1;margin:0!important}.code-output-equal>:first-child>code{border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.code-output-equal>:last-child>code{border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}.code-2cols,.col-2-equal{display:flex;align-items:stretch;flex-wrap:wrap}.code-2cols>*,.col-2-equal>*{flex:0 0 50%;max-width:50%;overflow:auto}.code-2cols>:nth-child(even),.col-2-equal>:nth-child(even){padding-left:5px}.code-2cols>:nth-child(odd),.col-2-equal>:nth-child(odd){padding-right:5px}.code-2cols>:nth-child(odd) .copy,.col-2-equal>:nth-child(odd) .copy,.col-2-flex>:nth-child(odd) .copy{right:14px}.code-2cols>*>code,.col-2-equal>*>code,.col-2-flex>*>code{height:100%}.code-2cols+h2,.code-2cols+h3,.code-2cols+h4,.col-2-equal+h2,.col-2-equal+h3,.col-2-equal+h4,.col-2-flex+h2,.col-2-flex+h3,.col-2-flex+h4{margin-top:12px}.code-2cols.center,.col-2-equal.center{align-items:center}.code-2cols.flex-start,.col-2-equal.flex-start{align-items:flex-start}.code-2cols.flex-end,.col-2-equal.flex-end{align-items:flex-end}.col-2-flex{display:flex;align-items:stretch;flex-wrap:nowrap}.col-2-flex>*{flex:1 1 auto;max-width:auto;overflow:auto;margin-right:10px}.col-2-flex>:nth-child(even){padding-left:5px}.col-2-flex>:nth-child(odd){padding-right:5px}.col-2-flex.center{align-items:center}.col-2-flex.flex-start{align-items:flex-start}.col-2-flex.flex-end{align-items:flex-end}.col-2-flex>:last-child{margin-right:0}}.columns-2{display:grid;grid-template-columns:1fr 1fr;align-items:center;margin-bottom:24px}@media (min-width:576px) and (max-width:767px){.columns-2{grid-template-columns:2fr 1fr}.columns-2.size-1-1{grid-template-columns:1fr 1fr!important}}@media screen and (max-width:575px){.columns-2{display:block}}@media screen and (min-width:768px){.columns-2.size-2-1{grid-template-columns:2fr 1fr}.columns-2.size-1-2{grid-template-columns:1fr 2fr}.columns-2.size-3-2{grid-template-columns:3fr 2fr}.columns-2.size-2-3{grid-template-columns:2fr 3fr}.columns-2.size-1-1{grid-template-columns:1fr 1fr!important}}@media screen and (min-width:576px){.columns-2>:nth-child(1){padding-right:5px;margin-bottom:0}.columns-2>:nth-child(1)>:last-child,.columns-2>:nth-child(2)>:last-child{margin-bottom:0}.columns-2>:nth-child(2){padding-left:5px;margin-bottom:0}}.hsbox{margin-bottom:24px;border:.5px solid var(--toc-title-bd);padding:1rem;border-radius:.6rem}.hsbox .hs__title{cursor:pointer}.hsbox .hs__title::before{content:" ";color:var(--color-faded);display:inline-block;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid currentColor;vertical-align:middle;margin-right:.7rem;transform:translateY(-2px);transition:transform .2s ease-out}.hsbox .hs__title.show{padding-bottom:15px;border-bottom:.5px solid var(--toc-title-bd);margin-bottom:1rem}.hsbox .hs__title.show+.hs__content{height:auto;opacity:1;padding:5px 0;max-height:700px;overflow:auto}.hsbox .hs__title.show::before{transform:rotate(90deg) translateX(-3px)}.hsbox .hs__content{height:0;overflow:hidden;transition:all .25s ease}.hsbox .hs__content>:last-child{margin-bottom:0}table{width:100%;max-width:100%;margin-bottom:24px;background-color:transparent;border-spacing:0;border-radius:.6rem;padding:0!important;table-layout:fixed;overflow:hidden;font-size:.9rem;border:1px solid var(--toc-title-bd)}table th{font-weight:500;color:var(--font-bold-color);text-align:left}table thead>tr:first-child>th:first-child{border-top-left-radius:5px}table thead>tr:first-child>th:last-child{border-top-right-radius:5px}table td,table th{border-bottom:1px solid var(--toc-title-bd);padding:5px 10px}table tbody>tr:nth-child(odd){background:var(--table-bg)}table tbody>tr:last-child,table tbody>tr:last-child td{border-bottom:none}@media screen and (min-width:768px){.col-2-list,.two-columns-list{column-count:2;-webkit-column-count:2;-moz-column-count:2}.col-2-list>li,.two-columns-list>li{padding-right:10px}}blockquote{margin:0;margin-bottom:1.5rem;padding-left:1rem;border-left:5px solid #aaa}input[type=text]::-ms-clear{display:none;width:0;height:0}input[type=text]::-ms-reveal{display:none;width:0;height:0}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration{display:none}.switch{position:relative;display:inline-block;width:34px;height:22px;margin-right:3px}.switch input{opacity:0;width:0;height:0}.switch input:checked+.slider.blue{background-color:#2387e2}.switch input:checked+.slider.red{background-color:#ff7676}.switch input:checked+.slider.yellow{background-color:#ffc848}.switch input:checked+.slider:before{transform:translateX(12px)}.switch .slider{border-radius:34px;position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--a-list-homepage-bd);transition:.4s}.switch .slider:before{border-radius:50%;position:absolute;content:"";height:16px;width:16px;left:3px;bottom:3px;background-color:#fff;transition:.4s}.toggle-buttons{margin-bottom:1rem;padding:10px;display:flex;border:1px solid var(--code-bd);border-radius:.6rem;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background:var(--code-bg)}@media screen and (min-width:992px){.toggle-buttons:not(.single-line){flex-direction:column}.toggle-buttons:not(.single-line)>div:not(:last-child){margin-bottom:10px}.toggle-buttons.single-line{align-items:center;padding:10px 15px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-bottom:1.5rem}.toggle-buttons.single-line>div:not(:last-child){margin-right:15px;margin-bottom:0}}@media screen and (max-width:991px){.toggle-buttons{align-items:center;padding:10px 15px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:0 auto;margin-bottom:1.5rem}.toggle-buttons>div:not(:last-child){margin-right:15px;margin-bottom:0}}@media screen and (max-width:575px){.toggle-buttons{flex-direction:column;align-items:start;width:100%}.toggle-buttons>div:not(:last-child){margin-bottom:10px}}.toggle-draft,.toggle-outside,.toggle-private{display:flex;align-items:center}.toggle-draft .toggle-text,.toggle-outside .toggle-text,.toggle-private .toggle-text{color:var(--color-faded);font-size:88%;margin-left:3px}.hide-category,.hide-draft-posts .post-not-full,.hide-outside-posts .post-outside,.hide-private-posts .post-private,.highlight-line+br,.page-note p>img+br,.page-note p>picture+br{display:none}.hover-translate{transition:transform .2s}.hover-translate:hover{transform:translate(0,-2px)}.floating-button{border-radius:50%;position:fixed!important;bottom:20px;width:3rem;height:3rem;cursor:pointer;padding:8px;background:#c0c0c066;transition:opacity .3s 0s,visibility 0s 0s}.floating-button:hover{background:#c0c0c099;border-bottom:none!important}.floating-button:hover img{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-name:toTop;animation-name:toTop;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate}#scroll-top-btn{opacity:0;right:80px}#scroll-top-btn.is-visible{opacity:1;transition:opacity .3s 0s,visibility 0s 0s}@media screen and (max-width:575px){#scroll-top-btn{right:20px}}#buy-me-a-coffee{display:block;right:20px}@media screen and (max-width:575px){#buy-me-a-coffee{left:20px}}.tooltip{position:relative}.tooltip .tooltiptext{visibility:hidden;width:80px;background-color:#555;color:#fff;text-align:center;padding:5px 0;border-radius:6px;font-size:1rem!important;position:absolute;z-index:1;bottom:125%;left:50%;margin-left:-40px;opacity:0;transition:opacity .5s}.tooltip .tooltiptext::after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent}.tooltip:hover .tooltiptext{visibility:visible;opacity:1}.eq,.tooltip{display:inline-block}.eqn{display:block}section.eqn{margin-bottom:24px;overflow-x:auto}section.eqno{align-content:space-between}section.eqno>eqn{width:100%;margin-left:3em}section.eqno>span{width:3em;text-align:right}.post-container{padding-top:2.5rem;background:var(--color-background-post);padding-bottom:3rem}.page-note .low-quality-warning,.page-note .not-full-warning,section.eqno{display:flex;flex-direction:row;align-items:center}.page-note .low-quality-warning .warning-icon,.page-note .not-full-warning .warning-icon{height:25px;margin-bottom:0!important;margin-right:10px;flex-shrink:0}.page-note .low-quality-warning .warning-icon img,.page-note .not-full-warning .warning-icon img{height:100%;width:auto}.page-note .p-list>*{margin-bottom:1rem}.page-note .list-item{border:1px solid #424242;border-radius:3px;padding:1rem;margin-bottom:24px}.page-note .list-item>:last-child{margin-bottom:0}.page-note .text-center{text-align:center}.page-note ol,.page-note p,.page-note ul{margin-top:0;margin-bottom:24px}.page-note ol li ol,.page-note ol li ul,.page-note ul li ol,.page-note ul li ul{margin-bottom:5px;margin-top:5px;padding-left:20px}.page-note ol li ol li>:not(span),.page-note ol li ul li>:not(span),.page-note ol li>:not(span),.page-note ol li>:not(span)>pre,.page-note ul li ol li>:not(span),.page-note ul li ul li>:not(span),.page-note ul li>:not(span),.page-note ul li>:not(span)>pre{margin-bottom:10px}@media screen and (max-width:991px){.page-note *>ol,.page-note *>ul,.page-note ol,.page-note ul{padding-left:20px}}.page-note p.noindent{display:none;padding-left:20px}.page-note p.noindent+ol,.page-note p.noindent+ul{padding-left:20px;margin-top:0}.page-note p.indent{display:none;padding-left:40px}.page-note ol.indent,.page-note p.indent+ol,.page-note p.indent+ul,.page-note ul.indent{padding-left:40px}.page-note ol.noindent,.page-note ul.noindent{padding-left:20px}.page-note hr{border-bottom:1px solid var(--color-faded-invert);margin-bottom:24px;margin-right:auto;margin-left:0;width:200px}.page-note p.katex-block{overflow-x:auto;overflow-y:hidden}.page-note p.katex-block .katex-display{margin:0!important}#reading-list .item .author{font-style:italic}#reading-list .item .intro,.toc-common li a{color:var(--color-faded)}code[class*=language-],pre[class*=language-]{color:var(--prism-color);font-size:14.4px;text-shadow:none;font-family:Menlo,Monaco,Consolas,"Andale Mono","Ubuntu Mono","Courier New",monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:var(--prism-selection)}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:var(--prism-selection)}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-]{padding:.1em .3em;border-radius:.3em;color:#db4c69;background:#f9f2f4}.namespace{opacity:.7}.token.doctype .token.doctype-tag,.token.operator.arrow{color:var(--prism-token-doctype-tag)}.token.doctype .token.name{color:var(--prism-token-doctype)}.token.comment,.token.prolog{color:var(--prism-token-comment)}.language-html .language-css .token.punctuation,.language-html .language-javascript .token.punctuation,.token.punctuation{color:var(--prism-color)}.token.inserted,.token.number,.token.symbol,.token.unit{color:var(--prism-token-number)}.token.builtin,.token.char,.token.deleted,.token.string{color:var(--prism-token-string)}.language-css .token.string.url{text-decoration:underline}.token.operator{color:var(--prism-color)}.token.atrule{color:var(--prism-token-string)}.token.atrule .token.rule,.token.keyword.control-flow,.token.keyword.module{color:var(--prism-token-rule)}.token.atrule .token.url{color:var(--prism-token-doctype)}.token.atrule .token.url .token.function{color:var(--prism-token-function)}.token.atrule .token.url .token.punctuation,.token.attr-value .token.punctuation.attr-equals{color:var(--prism-color)}.token.keyword{color:var(--prism-token-doctype-tag)}.token.function,.token.function .token.maybe-class-name{color:var(--prism-token-function)}.token.regex{color:var(--prism-token-regex)}.token.important,.token.punctuation.interpolation-punctuation{color:var(--prism-token-doctype-tag)}.token.italic{font-style:italic}.token.constant{color:var(--prism-token-constant)}.token.class-name,.token.maybe-class-name{color:var(--prism-token-class-name)}.token.console{color:var(--prism-token-doctype)}.token.parameter{color:var(--prism-token-parameter)}.token.interpolation,code[class*=language-javascript],code[class*=language-jsx],code[class*=language-tsx],code[class*=language-typescript],pre[class*=language-javascript],pre[class*=language-jsx],pre[class*=language-tsx],pre[class*=language-typescript]{color:var(--prism-token-doctype)}.token.boolean{color:var(--prism-token-doctype-tag)}.token.exports .token.maybe-class-name,.token.imports .token.maybe-class-name,.token.property,.token.variable{color:var(--prism-token-variable)}.token.escape,.token.selector{color:var(--prism-token-selector)}.token.tag{color:var(--prism-token-doctype-tag)}.token.cdata,.token.tag .token.punctuation{color:var(--prism-token-cdata)}.token.attr-name{color:var(--prism-token-attr-name)}.token.attr-value,.token.attr-value .token.punctuation,code[class*=language-css],pre[class*=language-css]{color:var(--prism-token-string)}.token.entity{color:var(--prism-token-doctype-tag)}.token.namespace{color:var(--prism-token-class-name)}code[class*=language-html],pre[class*=language-html]{color:var(--prism-color)}.language-regex .token.anchor{color:var(--prism-token-function)}.language-html .token.punctuation{color:var(--prism-token-cdata)}pre[class*=language-],pre[data-line]{position:relative}pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}.line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:#f7ebc6;z-index:0;pointer-events:none;line-height:inherit;white-space:pre}code,pre{font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace;line-height:1.5}h2>code{font-size:20.1344px!important}h3>code{font-size:18.12096px!important}h4>code{font-size:17.21491px!important}:not(pre)>code{border:var(--code-inline-bd);background:var(--code-inline-background);padding:1px 4px 2px;margin:0 1px;border-radius:3px;font-size:.9rem;color:var(--code-inline-text);word-break:break-word}h2>code,h3>code,h4>code{color:var(--code-inline-text);padding-right:6px}a>code,pre[class*=language-]>.copy:hover{color:var(--font-a)}a:hover>code{color:var(--code-inline-text)}pre[class*=language-]>.copy{position:absolute;z-index:99;padding:1px 5px;top:8px;right:8px;border-radius:5px;cursor:pointer;opacity:0;background:var(--code-inline-background);border:.5px solid var(--prism-border);color:var(--color-faded);transition:opacity .2s ease-in-out}pre[class*=language-]>.copy .fontello-icon::before{margin-right:0}pre[class*=language-]>.copy .icon-ok{color:#22a846}pre[class*=language-]:hover>.copy,pre[class*=language-]>.copy.copying{opacity:1}@media screen and (max-width:991px){pre[class*=language-]>.copy{opacity:1}}pre,pre[class*=language-]{margin:0 0 26.4px;overflow:auto}pre>code,pre[class*=language-]>code{display:block;padding:14px 16px 16px;background:var(--prism-bg);border:.5px solid var(--prism-border);overflow:auto;border-radius:.6rem;max-height:450px;color:var(--prism-color)}.highlight-line{display:block;text-decoration:none;color:inherit}.highlight-line:empty:before{content:" "}.highlight-line-isdir{color:#b0b0b0;background-color:#222}.highlight-line-active{background-color:var(--prism-highlight-line-bg)}.highlight-line-add{background-color:var(--prism-highlight-line-add-bg)}.highlight-line-remove{background-color:var(--prism-highlight-line-remove-bg)}.highlight-line-active,.highlight-line-add,.highlight-line-remove{margin-left:-16px;margin-right:-16px;padding:0 16px}.toc-common{font-size:88%}.toc-common li:hover a{color:var(--color-invert)}.toc-common li>ol{margin-bottom:5px!important}.toc-active .circle-icon,.toc-active::before,.toc-active>a{color:var(--font-a)!important}.toc{padding:15px}.toc>.ol-container{border:.5px solid var(--toc-title-bd);border-radius:.6rem;padding:1rem 0;width:100%;display:flex;height:100%;flex-direction:column}.toc>.ol-container>.toc-heading{display:block;font-family:"Recoleta",Arial,Helvetica,sans-serif;font-weight:500;border-bottom:1px solid var(--toc-title-bd);margin:0 0 10px;font-size:1.15rem;color:var(--toc-title);margin-bottom:1rem;padding:0 1rem;padding-bottom:5px}.toc>.ol-container>ol{padding:0 1rem;margin-bottom:0;overflow:auto;counter-reset:item;list-style-type:none}.toc>.ol-container>ol>li::before{background:var(--code-inline-background);border-radius:5px;padding:1px 7px;margin-right:5px;margin-left:-30px}@media (max-width:575px){.toc>.ol-container>ol{column-count:1;-webkit-column-count:1;-moz-column-count:1}}@media (min-width:576px) and (max-width:1399px){.toc>.ol-container>ol{column-count:2;-webkit-column-count:2;-moz-column-count:2}}.toc>.ol-container>ol>li:first-child{margin-top:0}.toc>.ol-container>ol li code{font-size:.85rem;background:#ececec;padding:0 4px 2px}.toc>.ol-container>ol li ol{padding-left:20px;transition:all 300ms ease-in-out;box-shadow:inset .5px 0 0 0 var(--color-faded);margin-left:-18px}.toc>.ol-container>ol li ol>li{padding-left:19px}.toc>.ol-container>ol li ol>li::before{margin-left:-19px;margin-right:10px}.toc>.ol-container>ol ol{counter-reset:item;list-style-type:none}.toc>.ol-container>ol>li{padding-left:30px}.toc>.ol-container>ol li::before{content:counters(item,".");counter-increment:item;color:var(--color-faded);margin-right:6px;width:10px;display:inline-flex;justify-content:center;align-items:center}@media (max-width:1399px){.toc{margin-bottom:24px;padding:0}.toc>.ol-container>ol{width:100%}.toc>.ol-container>ol::before{margin-top:-3rem}}@media (min-width:1400px){.toc{float:right;width:calc((100vw - 900px)/2 - 20px);padding-top:0;margin-right:calc((900px - 100vw)/2);border-left:none;position:-webkit-sticky;position:sticky;top:60px;height:calc(100vh - 80px)}.toc>.ol-container{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;max-height:100%}.toc ol{margin-top:0}.toc ol,.toc ol li ol{margin-bottom:0}}main img{content-visibility:auto}img{max-width:100%}.page-note img{height:auto;width:100%;border-radius:.6rem}.page-note img.bg-white{background:#fff}@media screen and (min-width:768px){.page-note .img-30,.page-note .img-full-30{width:30%;margin-left:auto;margin-right:auto;display:block}.page-note .img-35,.page-note .img-40,.page-note .img-full-35,.page-note .img-full-40{width:35%;margin-left:auto;margin-right:auto;display:block}.page-note .img-40,.page-note .img-full-40{width:40%}.page-note .img-45,.page-note .img-50,.page-note .img-full-45,.page-note .img-full-50{width:45%;margin-left:auto;margin-right:auto;display:block}.page-note .img-50,.page-note .img-full-50{width:50%}.page-note .img-55,.page-note .img-60,.page-note .img-full-55,.page-note .img-full-60{width:55%;margin-left:auto;margin-right:auto;display:block}.page-note .img-60,.page-note .img-full-60{width:60%}.page-note .img-65,.page-note .img-70,.page-note .img-full-65,.page-note .img-full-70{width:65%;margin-left:auto;margin-right:auto;display:block}.page-note .img-70,.page-note .img-full-70{width:70%}.page-note .img-75,.page-note .img-80,.page-note .img-full-75,.page-note .img-full-80{width:75%;margin-left:auto;margin-right:auto;display:block}.page-note .img-80,.page-note .img-full-80{width:80%}.page-note .img-85,.page-note .img-90,.page-note .img-full-85,.page-note .img-full-90{width:85%;margin-left:auto;margin-right:auto;display:block}.page-note .img-90,.page-note .img-full-90{width:90%}.page-note .img-100,.page-note .img-95,.page-note .img-full-100,.page-note .img-full-95{width:95%;margin-left:auto;margin-right:auto;display:block}.page-note .img-100,.page-note .img-full-100{width:100%}}.page-note p>img+br+em,.page-note p>picture+br+em{display:block;text-align:center;margin-top:10px;font-size:.9rem}</style><style>@font-face{font-display:swap;font-family:'fontello';src:url(/fontello/font/fontello.eot?46432155);src:url(/fontello/font/fontello.eot?46432155#iefix) format('embedded-opentype'),url(/fontello/font/fontello.woff2?46432155) format('woff2'),url(/fontello/font/fontello.woff?46432155) format('woff'),url(/fontello/font/fontello.ttf?46432155) format('truetype'),url(/fontello/font/fontello.svg?46432155#fontello) format('svg');font-weight:400;font-style:normal}[class*=" icon-"]:before,[class^=icon-]:before{font-family:"fontello";font-style:normal;font-weight:400;speak:never;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-doc:before{content:'\e800'}.icon-doc-add:before{content:'\e801'}.icon-stats:before{content:'\e802'}.icon-tags:before{content:'\e803'}.icon-like:before{content:'\e804'}.icon-cog-alt:before{content:'\e805'}.icon-project:before{content:'\e806'}.icon-mooc:before{content:'\e807'}.icon-dl:before{content:'\e808'}.icon-ml:before{content:'\e809'}.icon-python:before{content:'\e80a'}.icon-nlp:before{content:'\e80b'}.icon-r-lang:before{content:'\e80c'}.icon-skill:before{content:'\e80d'}.icon-js-solid:before{content:'\e80e'}.icon-game:before{content:'\e80f'}.icon-web:before{content:'\e810'}.icon-algo:before{content:'\e811'}.icon-mooc-solid:before{content:'\e812'}.icon-chatbot:before{content:'\e813'}.icon-web-dev:before{content:'\e814'}.icon-data:before{content:'\e815'}.icon-skill-solid:before{content:'\e816'}.icon-python-solid:before{content:'\e817'}.icon-project-solid:before{content:'\e818'}.icon-js:before{content:'\e819'}.icon-rocket:before{content:'\e81a'}.icon-ml-solid:before{content:'\e81b'}.icon-game-solid:before{content:'\e81c'}.icon-dl-solid:before{content:'\e81d'}.icon-nlp-solid:before{content:'\e81e'}.icon-web-solid:before{content:'\e81f'}.icon-algo-solid:before{content:'\e820'}.icon-puzzle-outline:before{content:'\e821'}.icon-ng:before{content:'\e822'}.icon-ok:before{content:'\e823'}.icon-link:before{content:'\e824'}.icon-down-circle:before{content:'\e826'}.icon-api:before{content:'\e828'}.icon-right-circle:before{content:'\e829'}.icon-down-open:before{content:'\e82a'}.icon-right-open:before{content:'\e82b'}.icon-copy:before{content:'\f0c5'}.icon-gamepad:before{content:'\f11b'}.icon-fork:before{content:'\f126'}.icon-mlops-solid:before{content:'\f135'}.icon-edu-solid:before{content:'\f19d'}.icon-others-solid:before{content:'\f1b3'}.icon-ds-solid:before{content:'\f1c0'}.icon-chart-area:before{content:'\f1fe'}.icon-chart-pie:before{content:'\f200'}.icon-ts:before{content:'\f201'}.icon-clone:before{content:'\f24d'}</style></head><body><script>function showTheme() {
        const btn = document.getElementById("toggle-dark-light");
        let toggleIcon = btn.firstElementChild;
        const currentTheme = localStorage.getItem("theme");
        if (currentTheme === "dark") {
          document
            .body
            .classList
            .toggle("dark-theme");
          toggleIcon.src = "/img_src/nav/sun.svg";
        } else if (currentTheme === "light") {
          document
            .body
            .classList
            .toggle("light-theme");
          toggleIcon.src = "/img_src/nav/moon.svg";
        }
      }
      function showContent() {
        document.body.style.visibility = 'visible';
        document.body.style.opacity = 1;
      }
      window.addEventListener('DOMContentLoaded', (event) => {
        showTheme();
        showContent();
      });</script><header class="wave-border wave-border-post"><nav><div id="nav"><a href="/" class="nav-item no-effect"><img alt="home" class="keep-original" src="/img_src/nav/home.svg" height="18" width="18"> <span>Thi</span> </a><a href="/about/" class="nav-item no-effect"><img alt="about" class="keep-original" src="/img_src/nav/about.svg" height="15" width="15"> <span>About</span></a><div class="nav-search" id="nav-search"><form><input aria-label="search notes (press &quot;/&quot; to focus &amp; &quot;ESC&quot; to lose)" autocomplete="off" class="nav-search__input" id="nav-search__input" onfocusin="inFocus(this)" placeholder="search notes (press &quot;/&quot; to focus &amp; &quot;ESC&quot; to lose)" type="search"></form><div id="nav-search__result-container" style="display: none;"><ul id="nav-search__ul"></ul><div id="nav-search__no-result" style="display: none;"><p>No results found.</p></div></div></div><span class="nav-item no-effect nav-dark-light" href="" id="toggle-dark-light"><img alt="light-mode" class="keep-original" src="/img_src/nav/moon.svg" height="20" width="20"> </span><a href="https://github.com/dinhanhthi" class="nav-item no-effect nav-github" target="_blank"><img alt="github" class="keep-original" src="/img_src/nav/github.svg" height="20" width="20"></a></div><div class="reading-progress-container"><div id="reading-progress" aria-hidden="true"></div></div></nav><script>var divNavSearch=document.getElementById("nav-search"),divRes=document.getElementById("nav-search__result-container"),ulRes=document.getElementById("nav-search__ul");function inFocus(e){""!=e.value&&(divRes.style.display="block")}var isOnDiv=!1;divRes.addEventListener("mouseover",(function(){isOnDiv=!0})),divRes.addEventListener("mouseout",(function(){isOnDiv=!1}));var inputSearch=document.getElementById("nav-search__input");window.addEventListener("click",(function(){ulRes.getElementsByTagName("li").length>=1&&isOnDiv||(divRes.style.display="none")})),inputSearch.addEventListener("click",(e=>{e.stopPropagation()}));const addSelected=e=>{ulRes.querySelectorAll("li").forEach((e=>{e.classList.remove("selected")})),e.classList.add("selected")};var isInView=(e,t)=>{var n=e.offsetTop+e.offsetHeight-t.scrollTop>t.offsetHeight;return e.offsetTop<t.scrollTop?"above":n?"below":"in"};const updateScroll=(e,t)=>{e.offsetTop+e.offsetHeight-t.scrollTop>t.offsetHeight&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.offsetHeight),e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop)};document.onkeydown=e=>{checkInInput=document.activeElement==inputSearch,"/"!==e.key||checkInInput||(e.stopPropagation(),e.preventDefault(),inputSearch.focus())},document.addEventListener("focusin",(e=>{divNavSearch.contains(e.target)||(divRes.style.display="none")})),inputSearch.onkeydown=e=>{if("Enter"===e.key){e.stopPropagation(),e.preventDefault();var t=ulRes.querySelector('li[class*="selected"]');window.location.href=t.getElementsByClassName("item__content")[0].firstChild.firstChild.href}"Escape"===e.key&&(divRes.style.display="none",inputSearch.blur())},divNavSearch.onkeydown=e=>{if(hasResult=ulRes.getElementsByTagName("li").length>=1,hasResult){["ArrowUp","ArrowDown"].indexOf(e.key)>-1&&e.preventDefault();var t=ulRes.firstChild,n=ulRes.lastChild,s=ulRes.querySelector('li[class*="selected"]');switch(e.key){case"ArrowUp":nextLi=s&&s!=t?s.previousSibling:n,addSelected(nextLi),s=nextLi,updateScroll(s,divRes);break;case"ArrowDown":nextLi=s&&s!=n?s.nextSibling:t,addSelected(nextLi),s=nextLi,updateScroll(s,divRes)}}};</script><div class="header-container"><div class="header-logo post-layout"><img alt="Data Aggregation" class="keep-original" src="/img/header/aggregation.png" height="55" width="55"></div><h1>Data Aggregation</h1><div id="more-info"><div id="note-tag"><a href="/tags/data-science/" id="category" }="">Data Science</a></div><div id="last-modified">Last modified 2 years ago / <a href="https://github.com/dinhanhthi/notes/edit/master/./posts/data-science/2019-12-07-data-aggregation.md">Edit on Github</a></div></div></div></header><main class="" id="main-wrapper"><article class="post-container"><div class="container mt-2 normal page-note"><div class="danger not-full-warning"><div class="warning-icon"><img alt="Warning" class="keep-original" src="/img_src/icons/time.svg"></div><div>This post was <strong>updated more than 1 year ago</strong>, some information may be outdated!</div></div><div class="toc toc-common toc-js"><div class="ol-container"><div class="toc-heading">In this note</div><ol><li><a href="#libraries">Libraries</a></li><li><a href="#dataframe">Dataframe</a></li><li><a href="#group-dataset-using-groupby()">Group dataset using groupby()</a></li><li><a href="#group-using-pivot_table()">Group using pivot_table()</a></li><li><a href="#reorganizing-df-using-pivot()">Reorganizing df using pivot()</a></li><li><a href="#change-shape-of-df-with-melt()">Change shape of df with melt()</a></li><li><a href="#references">References</a></li></ol></div></div><p>In this note, I use <code>df</code> for <code>DataFrame</code>, <code>s</code> for <code>Series</code>.</p><h2 id="libraries" tabindex="-1">Libraries <a href="#libraries" class="direct-link" aria-hidden="true"><i class="fontello-icon icon-link"></i></a></h2><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd <span class="token comment"># import pandas package</span><br><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np</code></pre><h2 id="dataframe" tabindex="-1">Dataframe <a href="#dataframe" class="direct-link" aria-hidden="true"><i class="fontello-icon icon-link"></i></a></h2><pre class="language-python"><code class="language-python">dataquest_aio <span class="token operator">=</span> <span class="token string">'https://raw.githubusercontent.com/dinhanhthi/dataquest-aio/master/step-2-data-analysis-and-visualization/'</span><br>dataset_url <span class="token operator">=</span> dataquest_aio <span class="token operator">+</span> <span class="token string">'course-4-data-cleaning-and-analysis/data/World_Happiness_2015.csv'</span><br>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>dataset_url<span class="token punctuation">)</span> <span class="token comment"># read the data set</span><br>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><table><thead><tr><th></th><th>Country</th><th>Region</th><th>Happiness Rank</th><th>Happiness Score</th><th>Standard Error</th></tr></thead><tbody><tr><th>0</th><td>Switzerland</td><td>Western Europe</td><td>1</td><td>7.587</td><td>0.03411</td></tr><tr><th>1</th><td>Iceland</td><td>Western Europe</td><td>2</td><td>7.561</td><td>0.04884</td></tr><tr><th>2</th><td>Denmark</td><td>Western Europe</td><td>3</td><td>7.527</td><td>0.03328</td></tr><tr><th>3</th><td>Norway</td><td>Western Europe</td><td>4</td><td>7.522</td><td>0.03880</td></tr><tr><th>4</th><td>Canada</td><td>North America</td><td>5</td><td>7.427</td><td>0.03553</td></tr></tbody></table><h2 id="group-dataset-using-groupby()" tabindex="-1">Group dataset using <code>groupby()</code> <a href="#group-dataset-using-groupby()" class="direct-link" aria-hidden="true"><i class="fontello-icon icon-link"></i></a></h2><p>Group <code>df</code> by column <code>Region</code> and then selct the column <code>Western Europe</code>,</p><pre class="language-python"><code class="language-python">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'Region'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get_group<span class="token punctuation">(</span><span class="token string">'Western Europe'</span><span class="token punctuation">)</span> <span class="token comment"># returns a df</span></code></pre><table><thead><tr><th></th><th>Country</th><th>Region</th><th>Happiness Rank</th><th>Happiness Score</th><th>Standard Error</th></tr></thead><tbody><tr><th>0</th><td>Switzerland</td><td>Western Europe</td><td>1</td><td>7.587</td><td>0.03411</td></tr><tr><th>1</th><td>Iceland</td><td>Western Europe</td><td>2</td><td>7.561</td><td>0.04884</td></tr><tr><th>2</th><td>Denmark</td><td>Western Europe</td><td>3</td><td>7.527</td><td>0.03328</td></tr><tr><th>3</th><td>Norway</td><td>Western Europe</td><td>4</td><td>7.522</td><td>0.03880</td></tr><tr><th>5</th><td>Finland</td><td>Western Europe</td><td>6</td><td>7.406</td><td>0.03140</td></tr></tbody></table><p>Select just the <code>Happiness Score</code> column and then find the <code>mean</code>,</p><pre class="language-python"><code class="language-python">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'Region'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'Happiness Score'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token comment"># other methods: size, max, min, count</span></code></pre><pre><code>Region
Australia and New Zealand          7.285000
Central and Eastern Europe         5.332931
Eastern Asia                       5.626167
Latin America and Caribbean        6.144682
Middle East and Northern Africa    5.406900
North America                      7.273000
Southeastern Asia                  5.317444
Southern Asia                      4.580857
Sub-Saharan Africa                 4.202800
Western Europe                     6.689619
Name: Happiness Score, dtype: float64
</code></pre><p>Apply multiple/custom functions,</p><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">max_min</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">:</span><br>  <span class="token keyword">return</span> group<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> group<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Country'</span><span class="token punctuation">,</span> <span class="token string">'Region'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">,</span> np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">,</span> max_min<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><table><thead><tr><th></th><th></th><th colspan="3" halign="left">Happiness Rank</th><th colspan="3" halign="left">Happiness Score</th></tr><tr><th></th><th></th><th>mean</th><th>amax</th><th>max_min</th><th>mean</th><th>amax</th><th>max_min</th></tr><tr><th>Country</th><th>Region</th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>Afghanistan</th><th>Southern Asia</th><td>153</td><td>153</td><td>0</td><td>3.575</td><td>3.575</td><td>0.0</td></tr><tr><th>Albania</th><th>Central Europe</th><td>95</td><td>95</td><td>0</td><td>4.959</td><td>4.959</td><td>0.0</td></tr><tr><th>Algeria</th><th>Middle Africa</th><td>68</td><td>68</td><td>0</td><td>5.605</td><td>5.605</td><td>0.0</td></tr></tbody></table><p>If you wanna apply different functions on different columns,</p><pre class="language-python"><code class="language-python">df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Country'</span><span class="token punctuation">,</span> <span class="token string">'Region'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token string">'Happiness Rank'</span><span class="token punctuation">:</span> max_min<span class="token punctuation">,</span><br>    <span class="token string">'Happiness Score'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'min'</span><span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token string">'Standard Error'</span><span class="token punctuation">:</span> <span class="token string">'count'</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></code></pre><table><thead><tr><th></th><th></th><th>Happiness Rank</th><th colspan="2" halign="left">Happiness Score</th></tr><tr><th></th><th></th><th>max_min</th><th>min</th><th>max</th></tr><tr><th>Country</th><th>Region</th><th></th><th></th><th></th></tr></thead><tbody><tr><th>Afghanistan</th><th>Southern Asia</th><td>0</td><td>3.575</td><td>3.575</td></tr><tr><th>Albania</th><th>Central Europe</th><td>0</td><td>4.959</td><td>4.959</td></tr><tr><th>Algeria</th><th>Middle Africa</th><td>0</td><td>5.605</td><td>5.605</td></tr></tbody></table><p>Or using <code>apply</code> and <code>lambda</code> function,</p><pre class="language-python"><code class="language-python">orders<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">'shoes'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>price<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> np<span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reset_index<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="group-using-pivot_table()" tabindex="-1">Group using <code>pivot_table()</code> <a href="#group-using-pivot_table()" class="direct-link" aria-hidden="true"><i class="fontello-icon icon-link"></i></a></h2><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/data/data-aggregation/pivoting_table_simple1-1920w.webp 1920w, /img/post/data/data-aggregation/pivoting_table_simple1-1280w.webp 1280w, /img/post/data/data-aggregation/pivoting_table_simple1-640w.webp 640w, /img/post/data/data-aggregation/pivoting_table_simple1-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/data/data-aggregation/pivoting_table_simple1-1920w.jpg 1920w, /img/post/data/data-aggregation/pivoting_table_simple1-1280w.jpg 1280w, /img/post/data/data-aggregation/pivoting_table_simple1-640w.jpg 640w, /img/post/data/data-aggregation/pivoting_table_simple1-320w.jpg 320w" type="image/jpeg"><img alt="An example of pivotting by a single column" class="img-90" src="/img/post/data/data-aggregation/pivoting_table_simple1.png" height="255" width="749" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 749px) min(calc(var(--main-width) * 0.3404539385847797), 255px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 749 255'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAFCAIAAAAR2vFGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAs0lEQVQImVXB0QqCMBQA0P3/n0Q5oRJKfI0i8xJuTs1prYdytqIMcUFuPXcOWjqu77q+gxfjcYBx93xaY86MZVGUA2QQHSgt0hTBegubEMIopoQS8tHaWrvyvPlo5E+nAcauM/FmM0RCIDuIYU/imBLSd50x5pywU8JEVYrjkXMuhECMJoc040VRcV7m+VdrOwzWGPsP9bqXUl4uVyXl+3GvZfO+3VTT3GXTKlXLWin1atsfAuyn6Nl8lC4AAAAASUVORK5CYII='%3E%3C/image%3E%3C/svg%3E&quot;)"></picture><br><em>An example of pivotting by a single column<sup><a href="https://nikgrozev.com/2015/07/01/reshaping-in-pandas-pivot-pivot-table-stack-and-unstack-explained-with-pictures/">[ref]</a></sup></em></p><p>Group by <code>Region</code> (as an index) and choosing <code>GDP</code> and <code>City</code> columns,<sup><a href="https://github.com/dinhanhthi/data-science-learning/blob/master/codecademy-data-science/course-10%20Data%20Analysis%20with%20Pandas/Aggregates%20in%20Pandas.ipynb" target="_blank" rel="noopener noreferrer">[ref]</a></sup></p><pre class="language-python"><code class="language-python">df<span class="token punctuation">.</span>pivot_table<span class="token punctuation">(</span>values<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'GDP'</span><span class="token punctuation">,</span> <span class="token string">'City'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token string">'Region'</span><span class="token punctuation">)</span> <span class="token comment"># returns df</span></code></pre><table><thead><tr><th></th><th>Happiness Rank</th><th>Standard Error</th></tr><tr><th>Region</th><th></th><th></th></tr></thead><tbody><tr><th>Australia and New Zealand</th><td>9.5</td><td>0.037270</td></tr><tr><th>Central and Eastern Europe</th><td>79.0</td><td>0.045208</td></tr><tr><th>Eastern Asia</th><td>64.5</td><td>0.037225</td></tr></tbody></table><p>Apply some functions,</p><pre class="language-python"><code class="language-python">df<span class="token punctuation">.</span>pivot_table<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'GDP'</span><span class="token punctuation">,</span> <span class="token string">'City'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Region'</span><span class="token punctuation">,</span> aggfunc<span class="token operator">=</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">,</span> np<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">]</span><span class="token punctuation">,</span> margins<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><br><span class="token comment"># margins shows the "All" row</span></code></pre><table><thead><tr><th></th><th colspan="2" halign="left">mean</th><th colspan="2" halign="left">amax</th></tr><tr><th></th><th>Happiness Rank</th><th>Standard Error</th><th>Happiness Rank</th><th>Standard Error</th></tr><tr><th>Region</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>Australia and New Zealand</th><td>9.5</td><td>0.037270</td><td>10</td><td>0.04083</td></tr><tr><th>Central and Eastern Europe</th><td>79.0</td><td>0.045208</td><td>134</td><td>0.06913</td></tr><tr><th>Eastern Asia</th><td>64.5</td><td>0.037225</td><td>100</td><td>0.05051</td></tr></tbody></table><h2 id="reorganizing-df-using-pivot()" tabindex="-1">Reorganizing df using <code>pivot()</code> <a href="#reorganizing-df-using-pivot()" class="direct-link" aria-hidden="true"><i class="fontello-icon icon-link"></i></a></h2><p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/data/data-aggregation/pivoting_simple_multicolumn-1920w.webp 1920w, /img/post/data/data-aggregation/pivoting_simple_multicolumn-1280w.webp 1280w, /img/post/data/data-aggregation/pivoting_simple_multicolumn-640w.webp 640w, /img/post/data/data-aggregation/pivoting_simple_multicolumn-320w.webp 320w" type="image/webp"><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/post/data/data-aggregation/pivoting_simple_multicolumn-1920w.jpg 1920w, /img/post/data/data-aggregation/pivoting_simple_multicolumn-1280w.jpg 1280w, /img/post/data/data-aggregation/pivoting_simple_multicolumn-640w.jpg 640w, /img/post/data/data-aggregation/pivoting_simple_multicolumn-320w.jpg 320w" type="image/jpeg"><img alt="An example of multi-column pivoting" class="img-90" src="/img/post/data/data-aggregation/pivoting_simple_multicolumn.png" height="395" width="943" decoding="async" loading="lazy" style="background-size:cover;contain-intrinsic-size: min(var(--main-width), 943px) min(calc(var(--main-width) * 0.4188759278897137), 395px);background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 943 395'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAFCAIAAAD+GJp4AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAApElEQVQImTXKXQuCMBSA4f3//+OFQw2aQgZDCbrQmaXi2ewiUkhk29n6gN7b9yH3ScE4jsMgAZy11hit9aRU27bGmr7vQEpyZIwlcZYkOdtbreHW7YIgpWEW0iyOU0rTKCKnojjkOee8LEttzEPKM+e1EKKuL1V1bURTVWRSCgCUkhJAbxta6xAdokfnEb1z3nvi/zmH8zyvy/J6zmZdv/snPugN1J6hpO8PZCQAAAAASUVORK5CYII='%3E%3C/image%3E%3C/svg%3E&quot;)"></picture><br><em>An example of multi-column pivoting (<a href="https://nikgrozev.com/2015/07/01/reshaping-in-pandas-pivot-pivot-table-stack-and-unstack-explained-with-pictures/">ref</a>)</em></p><p>Make values in one columns be columns in a new "pivot" table,<sup><a href="https://github.com/dinhanhthi/data-science-learning/blob/master/codecademy-data-science/course-10%20Data%20Analysis%20with%20Pandas/Aggregates%20in%20Pandas.ipynb" target="_blank" rel="noopener noreferrer">[ref]</a></sup></p><pre class="language-python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'foo'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span><br>                           <span class="token string">'two'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>                   <span class="token string">'bar'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>                   <span class="token string">'baz'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>                   <span class="token string">'zoo'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">,</span> <span class="token string">'q'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> <span class="token string">'t'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br><br>pivot_1 <span class="token operator">=</span> df<span class="token punctuation">.</span>pivot<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token string">'foo'</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token string">'bar'</span><span class="token punctuation">,</span> values<span class="token operator">=</span><span class="token string">'baz'</span><span class="token punctuation">)</span><br>pivot_2 <span class="token operator">=</span> df<span class="token punctuation">.</span>pivot<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token string">'foo'</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'baz'</span><span class="token punctuation">]</span><br>pivot_3 <span class="token operator">=</span> df<span class="token punctuation">.</span>pivot<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token string">'foo'</span><span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token string">'bar'</span><span class="token punctuation">,</span> values<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token string">'zoo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br><br>display_side_by_side<span class="token punctuation">(</span>df<span class="token punctuation">,</span> pivot_1<span class="token punctuation">,</span> pivot_2<span class="token punctuation">,</span> pivot_3<span class="token punctuation">)</span></code></pre><table><thead><tr><th></th><th>foo</th><th>bar</th><th>baz</th><th>zoo</th></tr></thead><tbody><tr><th>0</th><td>one</td><td>A</td><td>1</td><td>x</td></tr><tr><th>1</th><td>one</td><td>B</td><td>2</td><td>y</td></tr><tr><th>2</th><td>one</td><td>C</td><td>3</td><td>z</td></tr><tr><th>3</th><td>two</td><td>A</td><td>4</td><td>q</td></tr><tr><th>4</th><td>two</td><td>B</td><td>5</td><td>w</td></tr><tr><th>5</th><td>two</td><td>C</td><td>6</td><td>t</td></tr></tbody></table><div class="col-2-flex flex-start"><table><thead><tr><th>bar</th><th>A</th><th>B</th><th>C</th></tr><tr><th>foo</th><th></th><th></th><th></th></tr></thead><tbody><tr><th>one</th><td>1</td><td>2</td><td>3</td></tr><tr><th>two</th><td>4</td><td>5</td><td>6</td></tr></tbody></table><table><thead><tr><th>bar</th><th>A</th><th>B</th><th>C</th></tr><tr><th>foo</th><th></th><th></th><th></th></tr></thead><tbody><tr><th>one</th><td>1</td><td>2</td><td>3</td></tr><tr><th>two</th><td>4</td><td>5</td><td>6</td></tr></tbody></table><table><thead><tr><th></th><th colspan="3" halign="left">baz</th><th colspan="3" halign="left">zoo</th></tr><tr><th>bar</th><th>A</th><th>B</th><th>C</th><th>A</th><th>B</th><th>C</th></tr><tr><th>foo</th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>one</th><td>1</td><td>2</td><td>3</td><td>x</td><td>y</td><td>z</td></tr><tr><th>two</th><td>4</td><td>5</td><td>6</td><td>q</td><td>w</td><td>t</td></tr></tbody></table></div><p>For one who wanna know <code>display_side_by_side</code>, check <a href="/jupyter-notebook#display-dataframes-side-by-side">this note</a>.</p><h2 id="change-shape-of-df-with-melt()" tabindex="-1">Change shape of df with <code>melt()</code> <a href="#change-shape-of-df-with-melt()" class="direct-link" aria-hidden="true"><i class="fontello-icon icon-link"></i></a></h2><p>Contrary to <code>pivot</code>, we now want to transform several columns into values of a single column,<sup><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.melt.html" target="_blank" rel="noopener noreferrer">[ref]</a></sup></p><pre class="language-python"><code class="language-python">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'A'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">'c'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>                   <span class="token string">'B'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>                   <span class="token string">'C'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br><br>df1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>melt<span class="token punctuation">(</span>df<span class="token punctuation">,</span> id_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> value_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br>df2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>melt<span class="token punctuation">(</span>df<span class="token punctuation">,</span> id_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> value_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br><br>display_side_by_side<span class="token punctuation">(</span>df<span class="token punctuation">,</span> df1<span class="token punctuation">,</span> df2<span class="token punctuation">)</span></code></pre><div class="col-2-flex flex-start"><table><thead><tr><th></th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><th>0</th><td>a</td><td>1</td><td>2</td></tr><tr><th>1</th><td>b</td><td>3</td><td>4</td></tr><tr><th>2</th><td>c</td><td>5</td><td>6</td></tr></tbody></table><table><thead><tr><th></th><th>A</th><th>variable</th><th>value</th></tr></thead><tbody><tr><th>0</th><td>a</td><td>B</td><td>1</td></tr><tr><th>1</th><td>b</td><td>B</td><td>3</td></tr><tr><th>2</th><td>c</td><td>B</td><td>5</td></tr></tbody></table><table><thead><tr><th></th><th>A</th><th>variable</th><th>value</th></tr></thead><tbody><tr><th>0</th><td>a</td><td>B</td><td>1</td></tr><tr><th>1</th><td>b</td><td>B</td><td>3</td></tr><tr><th>2</th><td>c</td><td>B</td><td>5</td></tr><tr><th>3</th><td>a</td><td>C</td><td>2</td></tr><tr><th>4</th><td>b</td><td>C</td><td>4</td></tr><tr><th>5</th><td>c</td><td>C</td><td>6</td></tr></tbody></table></div><h2 id="references" tabindex="-1">References <a href="#references" class="direct-link" aria-hidden="true"><i class="fontello-icon icon-link"></i></a></h2><ul><li><a href="https://github.com/dinhanhthi/dataquest-aio/tree/master/step-2-data-analysis-and-visualization/course-4-data-cleaning-and-analysis">Data Cleaning and Analysis</a> on Dataquest.</li><li><a href="https://dinhanhthi.github.io/tools/github-html?https://github.com/dinhanhthi/dataquest-aio/blob/master/step-2-data-analysis-and-visualization/course-4-data-cleaning-and-analysis/notebooks_in_html/task-3-transforming-data-with-pandas.html">Transforming data with pandas</a> on Dataquest.</li><li><strong>pandas official</strong> -- <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html">Group By: split-apply-combine</a></li></ul></div><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Data Aggregation","image":["[object Object]/img_src/icons/time.svg","[object Object]/img/post/data/data-aggregation/pivoting_table_simple1.png","[object Object]/img/post/data/data-aggregation/pivoting_simple_multicolumn.png"],"author":"Anh-Thi DINH","url":"https://dinhanhthi.com/data-aggregation/","mainEntityOfPage":"https://dinhanhthi.com/data-aggregation/","datePublished":"07-12-2019","dateModified":"2019-12-07","description":"In this note, I use df for DataFrame, s for Series. Libraries import pandas as pd # import pandas packageimport numpy as np Dataframe..."}</script></article></main><footer><a href="/" target="_blank">Thi &nbsp;Â©&nbsp; 2022 </a>&nbsp;â€¢&nbsp; <a href="/about-the-notes/">About this site </a>&nbsp;â€¢&nbsp; <a href="https://photos.app.goo.gl/9OVEkdTjmtRPg7vC3" target="_blank">My sketches </a>&nbsp;â€¢&nbsp; <a href="https://goo.gl/photos/yQXdQws1LLS16x5v5" target="_blank">I cook </a>&nbsp;â€¢&nbsp; <a href="/support-thi/"><img alt="Support Thi" class="keep-original" src="/img_src/icons/coffee.svg" height="16" width="auto"> Support Thi</a></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/elasticlunr/0.9.6/elasticlunr.min.js"></script><script src="https://www.googletagmanager.com/gtag/js?id=G-K3YRSB918B" async=""></script><script>window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-K3YRSB918B');</script><script src="/src/js/components/clipboard.min.js"></script><script src="/src/js/main.min.js?hash=d3b51a19b7" async="" defer=""></script><a href="/support-thi/" class="floating-button tooltip" id="buy-me-a-coffee"><img alt="Support Thi" class="keep-original" src="/img_src/icons/coffee.svg"> <span class="tooltiptext">Support Thi</span> </a><button class="floating-button tooltip" id="scroll-top-btn"><img alt="Scroll to top" class="keep-original" src="/img_src/to-top.webp"> <span class="tooltiptext">Top</span></button></body></html>